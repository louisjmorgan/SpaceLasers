{"version":3,"file":"index.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAKA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEA,SAAS4B,GAAT,GAAe;EACb,MAAM;IACJC,IADI;IACEC,OADF;IACWC,iBADX;IAC8BC,aAD9B;IAC6CC;EAD7C,IAEFb,sDAAQ,CACTc,KAAD,KAAY;IACVL,IAAI,EAAEK,KAAK,CAACL,IADF;IAEVC,OAAO,EAAEI,KAAK,CAACJ,OAFL;IAGVC,iBAAiB,EAAEG,KAAK,CAACH,iBAHf;IAIVC,aAAa,EAAEE,KAAK,CAACF,aAJX;IAKVC,QAAQ,EAAEC,KAAK,CAACD;EALN,CAAZ,CADU,EAQVjB,wDARU,CAFZ;EAYA,MAAMmB,GAAG,GAAGjB,2DAAO,CAACS,yDAAD,CAAnB;EAEAZ,sDAAe,CAAC,MAAM;IACpBoB,GAAG,CAACC,KAAJ,CAAUC,SAAV,CAAoBC,QAApB,CAA6BC,OAA7B,CAAsC,IAAIC,IAAI,CAACC,EAAV,GAAgB,CAArD;IACAR,QAAQ,CAACE,GAAD,CAAR;EACD,CAHc,EAGZ,CAACA,GAAD,CAHY,CAAf;EAKA,MAAM,CAACO,WAAD,EAAcC,cAAd,IAAgCnC,+CAAQ,CAAC,KAAD,CAA9C;EACAC,gDAAS,CAAC,MAAM;IACd,IAAIiC,WAAJ,EAAiB;MACfX,iBAAiB,CAACV,2EAAD,CAAjB;IACD;EACF,CAJQ,EAIN,CAACqB,WAAD,CAJM,CAAT;EAKAjC,gDAAS,CAAC,MAAM;IACdkC,cAAc,CAAC,IAAD,CAAd;EACD,CAFQ,EAEN,EAFM,CAAT;EAGA,oBACE,wDAAC,6DAAD;IAAgB,KAAK,EAAEnB,8CAAvB;IAAA,uBACE,yDAAC,mDAAD;MACE,SAAS,EAAE,OADb;MAEE,KAAK,EAAE,MAFT;MAGE,YAAY,EAAEK,IAAI,CAACe,YAHrB;MAIE,eAAe,EAAEf,IAAI,CAACgB,eAJxB;MAKE,aAAa,EAAEhB,IAAI,CAACiB,aALtB;MAAA,wBAOE,wDAAC,uDAAD;QAAU,IAAI,EAAEjB,IAAI,CAACkB,UAArB;QAAiC,OAAO,EAAElB,IAAI,CAACmB,IAAL,KAAc,YAAd,GAA6B,EAA7B,GAAkC,MAA5E;QAAoF,MAAM,EAAE,EAA5F;QAAA,uBACE,yDAAC,mDAAD;UACE,CAAC,EAAE,MADL;UAEE,eAAe,EAAE,aAFnB;UAGE,YAAY,EAAE,SAHhB;UAIE,aAAa,EACT;AAChB,sCANU;UAAA,wBASE,wDAAC,wDAAD,KATF,eAUE,wDAAC,uDAAD;YAAU,IAAI,EAAE,OAAhB;YAAA,uBACE,yDAAC,mDAAD;cAAM,KAAK,EAAC,QAAZ;cAAqB,MAAM,EAAC,MAA5B;cAAmC,OAAO,EAAC,QAA3C;cAAoD,GAAG,EAAE,CAAzD;cAAA,wBACE;gBAAA;cAAA,EADF,eAEE;gBAAA;cAAA,EAFF;YAAA;UADF,EAVF,eAgBE,wDAAC,uDAAD;YAAU,IAAI,EAAE,UAAhB;YAAA,UACIhB,aAAa,gBAEX,wDAAC,oDAAD,KAFW,GAIX;UALN,EAhBF;QAAA;MADF,EAPF,eAiCE,wDAAC,uDAAD;QAAU,QAAQ,EAAC,UAAnB;QAA8B,IAAI,EAAEH,IAAI,CAACoB,cAAzC;QAAA,uBACE,yDAAC,mDAAD;UACE,CAAC,EAAE,MADL;UAEE,eAAe,EAAE,YAFnB;UAGE,YAAY,EAAE,gCAHhB;UAAA,WAKIjB,aAAa,gBACb;YAAA,wBACE,wDAAC,+DAAD,KADF,eAEE,wDAAC,oCAAD,KAFF;UAAA,EADa,gBAKX,wDAAC,sDAAD;YAAS,QAAQ,EAAC,UAAlB;YAA6B,GAAG,EAAC,KAAjC;YAAuC,IAAI,EAAC,KAA5C;YAAkD,SAAS,EAAE;UAA7D,EAVN,EAWKH,IAAI,CAACmB,IAAL,KAAc,SAAf,IAA8BnB,IAAI,CAACmB,IAAL,KAAc,aAA7C,gBAEG;YAAA,wBACE,wDAAC,uDAAD;cAAU,IAAI,EAAE,eAAhB;cAAA,uBACE,wDAAC,qDAAD;gBAAQ,KAAK,EAAE,YAAf;gBAA6B,OAAO,EAAElB,OAAtC;gBAAA;cAAA;YADF,EADF,eAME,wDAAC,uDAAD;cAAU,IAAI,EAAE,eAAhB;cAAA,uBACE,wDAAC,oDAAD;YADF,EANF;UAAA,EAFH,GAYK,EAvBR;QAAA;MADF,EAjCF,eA4DE,wDAAC,+CAAD;QAAgB,aAAa,EAAED,IAAI,CAACmB,IAAL,KAAc;MAA7C,EA5DF,EA6DGhB,aAAa,gBACZ,wDAAC,0EAAD,KADY,GAGV,EAhEN,eAiEE,wDAAC,uDAAD;QAAU,IAAI,EAAEH,IAAI,CAACqB,UAArB;QAAA,uBACE,wDAAC,mDAAD;UAAM,KAAK,EAAC,QAAZ;UAAqB,QAAQ,EAAC,SAA9B;UAAwC,KAAK,EAAC,MAA9C;UAAA;QAAA;MADF,EAjEF;IAAA;EADF,EADF;AA2ED;;AAED,iEAAetB,GAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrIA;;AACA;;AACA;AACA;AACA;AACA;;;;AAeA,MAAMuC,aAAa,GAAGhB,uCAAA,GAAakB,KAAb,CAAmB;EAEvCC,UAAU,EAAEnB,sCAAA,GACTqB,EADS,CAERrB,uCAAA,GAAakB,KAAb,CAAmB;IACjBrB,IAAI,EAAEG,uCAAA,GACHuB,GADG,CACC,CADD,EACI,YADJ,EAEHC,GAFG,CAEC,EAFD,EAEK,WAFL,EAGHC,IAHG,EADW;IAKjB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEAC,KAAK,EAAE1B,uCAAA,GAAakB,KAAb,CAAmB;MACxBS,GAAG,EAAE3B,uCAAA,EADmB;MAExB4B,aAAa,EAAE5B,uCAAA,GACZuB,GADY,CACR,CAAC,CADO,EACJ,sBADI,EAEZC,GAFY,CAER,CAFQ,EAEL,qBAFK,EAGZM,QAHY,CAGH,2BAHG,CAFS;MAMxBC,KAAK,EAAE/B,uCAAA,GACJuB,GADI,CACA,CAAC,CADD,EACI,0BADJ,EAEJC,GAFI,CAEA,CAFA,EAEG,0BAFH,EAGJM,QAHI,CAGK,mBAHL,CANiB;MAUxBE,WAAW,EAAEhC,uCAAA,GACVuB,GADU,CACN,CADM,EACH,gBADG,EAEVC,GAFU,CAEN,GAFM,EAED,gBAFC,EAGVM,QAHU,CAGD,yBAHC,CAVW;MAcxBG,cAAc,EAAEjC,uCAAA,GACbuB,GADa,CACT,CADS,EACN,gBADM,EAEbC,GAFa,CAET,GAFS,EAEJ,gBAFI,EAGbM,QAHa,CAGJ,6BAHI,CAdQ;MAkBxBI,YAAY,EAAElC,uCAAA,GACXuB,GADW,CACP,CADO,EACJ,yBADI,EAEXC,GAFW,CAEP,CAFO,EAEJ,yBAFI,EAGXM,QAHW,CAGF,0BAHE,CAlBU;MAsBxBK,OAAO,EAAEnC,uCAAA,GACNuB,GADM,CACF,CADE,EACC,gBADD,EAENC,GAFM,CAEF,GAFE,EAEG,gBAFH,EAGNM,QAHM,CAGG,qBAHH,CAtBe;MA0BxBM,WAAW,EAAEpC,uCAAA,GACVuB,GADU,CACN,CADM,EACH,gBADG,EAEVC,GAFU,CAEN,GAFM,EAED,gBAFC,EAGVM,QAHU,CAGD,0BAHC,CA1BW;MA8BxBO,UAAU,EAAErC,uCAAA,GACTuB,GADS,CACL,CADK,EACF,wBADE,EAETC,GAFS,CAEL,EAFK,EAED,sBAFC,EAGTM,QAHS,CAGA,yBAHA;IA9BY,CAAnB,CAnBU;IAsDjBQ,KAAK,EAAEtC,uCAAA,GAAakB,KAAb,CAAmB;MACxBqB,SAAS,EAAEvC,uCAAA,GACRuB,GADQ,CACJ,CADI,EACD,kBADC,EAERO,QAFQ,CAEC,wBAFD,CADa;MAIxBU,cAAc,EAAExC,uCAAA,GACbuB,GADa,CACT,CADS,EACN,kBADM,EAEbO,QAFa,CAEJ,gCAFI,CAJQ;MAOxBW,IAAI,EAAEzC,uCAAA,GACHuB,GADG,CACC,CADD,EACI,wBADJ,EAEHO,QAFG,CAEM,qBAFN,CAPkB;MAUxBY,cAAc,EAAE1C,uCAAA,GACbuB,GADa,CACT,CADS,EACN,kBADM,EAEbO,QAFa,CAEJ,6BAFI,CAVQ;MAaxBa,QAAQ,EAAE3C,uCAAA,GACPuB,GADO,CACH,CADG,EACA,wBADA,EAEPO,QAFO,CAEE,8BAFF,CAbc;MAgBxBc,uBAAuB,EAAE5C,uCAAA,GACtBuB,GADsB,CAClB,CADkB,EACf,wBADe,EAEtBO,QAFsB,CAEb,uCAFa;IAhBD,CAAnB,CAtDU;IA0EjBe,MAAM,EAAE7C,sCAAA,GACLqB,EADK,CAEJrB,uCAAA,GAAakB,KAAb,CAAmB;MACjB4B,IAAI,EAAE9C,uCAAA,GACH+C,KADG,CACG,CAAC,UAAD,CADH,EAEHjB,QAFG,CAEM,kBAFN,CADW;MAIjBjC,IAAI,EAAEG,uCAAA,GACHuB,GADG,CACC,CADD,EACI,YADJ,EAEHC,GAFG,CAEC,EAFD,EAEK,WAFL,EAGHM,QAHG,CAGM,WAHN,CAJW;MAQjBkB,QAAQ,EAAEhD,uCAAA,GACPiD,OADO,GAEP1B,GAFO,CAEH,CAFG,EAGPO,QAHO,CAGE,sBAHF,CARO;MAYjBoB,WAAW,EAAElD,uCAAA,GACVuB,GADU,CACN,CADM,EACH,kBADG,EAEVO,QAFU,CAED,yBAFC,CAZI;MAejBqB,QAAQ,EAAEnD,uCAAA,GACPuB,GADO,CACH,CADG,EACA,kBADA,EAEP6B,IAFO,CAGN,MAHM,EAIN;QACEC,EAAE,EAAE,UADN;QAEEC,IAAI,EAAEtD,uCAAA,GAAa8B,QAAb,CAAsB,sBAAtB;MAFR,CAJM,CAfO;MAwBjByB,MAAM,EAAEvD,uCAAA,GACLuB,GADK,CACD,CADC,EACE,kBADF,EAEL6B,IAFK,CAGJ,MAHI,EAIJ;QACEC,EAAE,EAAE,UADN;QAEEC,IAAI,EAAEtD,uCAAA,GAAa8B,QAAb,CAAsB,oBAAtB;MAFR,CAJI;IAxBS,CAAnB,CAFI;EA1ES,CAAnB,CAFQ,CAF2B;EAqHvC0B,SAAS,EAAExD,uCAAA,GACRiD,OADQ,GAER1B,GAFQ,CAEJ,CAFI,EAED,+CAFC,CArH4B;EAwHvCkC,OAAO,EAAEzD,uCAAA,GAAakB,KAAb,CAAmB;IAC1Bc,WAAW,EAAEhC,uCAAA,GACVuB,GADU,CACN,CADM,EACH,eADG,EAEVC,GAFU,CAEN,EAFM,EAEF,eAFE,EAGVM,QAHU,CAGD,yBAHC,CADa;IAK1BG,cAAc,EAAEjC,uCAAA,GACbuB,GADa,CACT,CADS,EACN,eADM,EAEbC,GAFa,CAET,EAFS,EAEL,eAFK,EAGbM,QAHa,CAGJ,6BAHI,CALU;IAS1BI,YAAY,EAAElC,uCAAA,GACXuB,GADW,CACP,CADO,EACJ,yBADI,EAEXC,GAFW,CAEP,CAFO,EAEJ,yBAFI,EAGXM,QAHW,CAGF,0BAHE,CATY;IAa1BK,OAAO,EAAEnC,uCAAA,GACNuB,GADM,CACF,CADE,EACC,eADD,EAENC,GAFM,CAEF,EAFE,EAEE,eAFF,EAGNM,QAHM,CAGG,qBAHH,CAbiB;IAiB1BM,WAAW,EAAEpC,uCAAA,GACVuB,GADU,CACN,CADM,EACH,gBADG,EAEVC,GAFU,CAEN,GAFM,EAED,gBAFC,EAGVM,QAHU,CAGD,0BAHC,CAjBa;IAqB1BO,UAAU,EAAErC,uCAAA,GACTuB,GADS,CACL,CADK,EACF,wBADE,EAETC,GAFS,CAEL,EAFK,EAED,sBAFC,EAGTM,QAHS,CAGA,yBAHA;EArBc,CAAnB;AAxH8B,CAAnB,CAAtB;;AAoJA,MAAM4B,oBAAoB,GAAIC,GAAD,IAAS;EACpC;EACA;EACA;EACA;EACA;EACA;EAEA;EACA,MAAMC,SAAS,GAAGD,GAAG,CAACxC,UAAJ,CAAe0C,GAAf,CAAoBC,QAAD,IAAc7D,2DAAe,CAAC6D,QAAD,CAAhD,CAAlB,CAToC,CAUpC;;EACA,MAAMC,IAAI,GAAG3D,yDAAY,CAACwD,SAAS,CAAC,CAAD,CAAT,CAAaI,MAAb,CAAoBtC,KAApB,CAA0BuC,SAA3B,CAAzB;EACA,MAAMC,GAAG,GAAG5D,4DAAe,CAACyD,IAAD,CAA3B;EACA,MAAMI,KAAK,GAAGtD,mEAAsB,CAACkD,IAAD,CAApC,CAboC,CAepC;;EACAH,SAAS,CAACQ,OAAV,CAAmBN,QAAD,IAAc;IAC9BA,QAAQ,CAACO,SAAT,GAAqBhE,kEAAqB,CAACyD,QAAQ,CAACE,MAAV,EAAkBD,IAAlB,CAA1C;IACAD,QAAQ,CAACQ,WAAT,GAAuB;MACrBC,aAAa,EAAE/D,6DAAgB,CAACsD,QAAQ,CAACE,MAAT,CAAgBQ,IAAhB,CAAqB3B,MAAtB,EAA8BkB,IAA9B,CADV;MAErBU,UAAU,EAAElE,6DAAgB,CAACuD,QAAD,EAAWI,GAAX,EAAgBH,IAAhB;IAFP,CAAvB;EAID,CAND;EAOA,MAAMN,OAAO,GAAGtD,sDAAU,CAACuE,MAAM,CAACf,GAAG,CAACgB,WAAL,CAAP,EAA0BhB,GAAG,CAACxC,UAAJ,CAAeyD,MAAzC,EAAiDjB,GAAG,CAACF,OAArD,CAA1B;EACA,MAAMkB,WAAW,GAAG,EAApB;EAEAhB,GAAG,CAACxC,UAAJ,CAAeiD,OAAf,CAAuB,CAACS,SAAD,EAAYC,KAAZ,KAAsB;IAC3C,IAAI,CAACrB,OAAO,CAACqB,KAAD,CAAZ,EAAqB;IACrB,OAAOrB,OAAO,CAACqB,KAAD,CAAP,CAAeV,OAAf,CAAwBW,MAAD,IAAYJ,WAAW,CAACK,IAAZ,CAAiB9E,gEAAoB,CAC5E,eAAc4E,KAAK,GAAG,CAAE,EADoD,EAE7ED,SAAS,CAACnD,KAFmE,EAG7EqD,MAH6E,CAArC,CAAnC,CAAP;EAKD,CAPD,EA1BoC,CAmCpC;;EACA,MAAME,KAAK,GAAG,EAAd;EACAN,WAAW,CAACP,OAAZ,CAAqBc,UAAD,IAAgB;IAClCA,UAAU,CAACb,SAAX,GAAuBhE,kEAAqB,CAAC6E,UAAU,CAAClB,MAAZ,EAAoBD,IAApB,CAA5C;IACA,MAAMoB,QAAQ,GAAG1E,qDAAQ,CAACyE,UAAD,EAAatB,SAAb,EAAwBG,IAAxB,CAAzB;IACAmB,UAAU,CAACZ,WAAX,GAAyB;MACvBC,aAAa,EAAE7D,0DAAa,CAACyE,QAAD,EAAWpB,IAAX,CADL;MAEvBU,UAAU,EAAElE,6DAAgB,CAAC2E,UAAD,EAAahB,GAAb,EAAkBH,IAAlB;IAFL,CAAzB;IAIAkB,KAAK,CAACD,IAAN,CAAW,GAAGG,QAAd;EACD,CARD,EArCoC,CA+CpC;;EACAvB,SAAS,CAACQ,OAAV,CAAmBN,QAAD,IAAc;IAC9BA,QAAQ,CAACQ,WAAT,CAAqBc,OAArB,GAA+BtE,uDAAU,CAACgD,QAAD,EAAWmB,KAAX,EAAkBlB,IAAlB,CAAzC;IAEAD,QAAQ,CAACQ,WAAT,GAAuB,EACrB,GAAGR,QAAQ,CAACQ,WADS;MAErBe,WAAW,EAAE1E,4DAAe,CAACmD,QAAD,EAAWC,IAAX,CAFP;MAGrBuB,kBAAkB,EAAE3E,4DAAe,CAACmD,QAAD,EAAWC,IAAX,EAAiB,KAAjB;IAHd,CAAvB;IAKA,MAAM,CAACwB,cAAD,EAAiBC,WAAjB,IAAgC5E,8DAAiB,CAACkD,QAAD,CAAvD;IACA,MAAM,CAAC2B,sBAAD,EAAyBC,wBAAzB,IAAqD3E,iEAAoB,CAAC+C,QAAD,CAA/E;IACAA,QAAQ,CAAC6B,OAAT,GAAmB;MACjBJ,cADiB;MAEjBC,WAFiB;MAGjBC,sBAHiB;MAIjBC;IAJiB,CAAnB;EAMD,CAhBD;EAkBAf,WAAW,CAACP,OAAZ,CAAqBc,UAAD,IAAgB;IAClCA,UAAU,CAACZ,WAAX,CAAuBc,OAAvB,GAAiCtE,uDAAU,CAACoE,UAAD,EAAaD,KAAb,EAAoBlB,IAApB,CAA3C;IACAmB,UAAU,CAACZ,WAAX,GAAyB,EACvB,GAAGY,UAAU,CAACZ,WADS;MAEvBe,WAAW,EAAE1E,4DAAe,CAACuE,UAAD,EAAanB,IAAb;IAFL,CAAzB;EAID,CAND,EAlEoC,CA0EpC;;EAEA,MAAM6B,KAAK,GAAG;IACZ/F,IAAI,EAAE,OADM;IAEZyE,WAAW,EAAE;MACXe,WAAW,EAAEtB,IAAI,CAACF,GAAL,CAAS,CAACgC,CAAD,EAAIf,KAAJ,KAAclB,SAAS,CAACkC,MAAV,CAAiB,CAACC,IAAD,EAAOC,OAAP,KAAmBD,IAAI,GAAGC,OAAO,CAAC1B,WAAR,CAAoBe,WAApB,CAAgCP,KAAhC,CAA3C,EAAmF,CAAnF,IAAwFlB,SAAS,CAACgB,MAAzH,CADF;MAEXU,kBAAkB,EAAEvB,IAAI,CAACF,GAAL,CAAS,CAACgC,CAAD,EAAIf,KAAJ,KAAclB,SAAS,CAACkC,MAAV,CAAiB,CAACC,IAAD,EAAOC,OAAP,KAAmBD,IAAI,GAAGC,OAAO,CAAC1B,WAAR,CAAoBgB,kBAApB,CAAuCR,KAAvC,CAA3C,EAA0F,CAA1F,IAA+FlB,SAAS,CAACgB,MAAhI;IAFT,CAFD;IAMZe,OAAO,EAAE;MACPJ,cAAc,EAAE3B,SAAS,CAACkC,MAAV,CAAiB,CAACC,IAAD,EAAOC,OAAP,KAAmBD,IAAI,GAAGC,OAAO,CAACL,OAAR,CAAgBJ,cAA3D,EAA2E,CAA3E,CADT;MAEPC,WAAW,EAAE5B,SAAS,CAACkC,MAAV,CAAiB,CAACC,IAAD,EAAOC,OAAP,KAAmBD,IAAI,GAAGC,OAAO,CAACL,OAAR,CAAgBH,WAA3D,EAAwE,CAAxE,CAFN;MAGPC,sBAAsB,EAAE7B,SAAS,CAACkC,MAAV,CAAiB,CAACC,IAAD,EAAOC,OAAP,KAAmB;QAC1D,MAAMC,CAAC,GAAGD,OAAO,CAACL,OAAR,CAAgBF,sBAA1B;QACA,OAAOM,IAAI,GAAGE,CAAP,GAAWF,IAAX,GAAkBE,CAAzB;MACD,CAHuB,EAGrBrC,SAAS,CAAC,CAAD,CAAT,CAAa+B,OAAb,CAAqBF,sBAHA,CAHjB;MAOPC,wBAAwB,EAAE9B,SAAS,CAACkC,MAAV,CAAiB,CAACC,IAAD,EAAOC,OAAP,KAAmB;QAC5D,MAAMC,CAAC,GAAGD,OAAO,CAACL,OAAR,CAAgBD,wBAA1B;QACA,OAAOK,IAAI,GAAGE,CAAP,GAAWF,IAAX,GAAkBE,CAAzB;MACD,CAHyB,EAGvBrC,SAAS,CAAC,CAAD,CAAT,CAAa+B,OAAb,CAAqBD,wBAHE;IAPnB;EANG,CAAd;EAoBA,OAAO;IACLQ,OAAO,EAAE,IADJ;IAELnC,IAFK;IAGL5C,UAAU,EAAE;MACVyC,SADU;MAEVe,WAFU;MAGViB;IAHU,CAHP;IAQLX,KARK;IASLf,GATK;IAULC;EAVK,CAAP;AAYD,CA5GD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxKA;AACA;AACA;AAKA;;;;AAEA,MAAMsC,UAAU,GAAG;EACjBC,OAAO,EAAE;IACP7G,IAAI,EAAE,KADC;IAEP8G,UAAU,EAAE;EAFL,CADQ;EAKjBC,QAAQ,EAAE;IACR/G,IAAI,EAAE,MADE;IAER8G,UAAU,EAAE;EAFJ,CALO;EASjBE,UAAU,EAAE;IACVhH,IAAI,EAAE,cADI;IAEV8G,UAAU,EAAE;EAFF,CATK;EAajBG,QAAQ,EAAE;IACRjH,IAAI,EAAE,UADE;IAER8G,UAAU,EAAE;EAFJ;AAbO,CAAnB;AAmBA,MAAMI,iBAAiB,GAAG;EACxBzE,KAAK,EAAE;IACLC,SAAS,EAAE,GADN;IAELC,cAAc,EAAE,KAFX;IAGLC,IAAI,EAAE,MAHD;IAILC,cAAc,EAAE,GAJX;IAKLC,QAAQ,EAAE,KALL;IAMLC,uBAAuB,EAAE;EANpB,CADiB;EASxBC,MAAM,EAAE,CACN;IACEhD,IAAI,EAAE,SADR;IAEEsD,QAAQ,EAAE,IAFZ;IAGEI,MAAM,EAAE,IAHV;IAIEL,WAAW,EAAE,GAJf;IAKEJ,IAAI,EAAE;EALR,CADM;AATgB,CAA1B;;AAoBA,SAASkE,qBAAT,CAA+BC,EAA/B,EAAmCpE,MAAnC,EAA2CqE,OAA3C,EAAoD;EAClD,MAAM;IAAEzE,IAAF;IAAQ0E,OAAR;IAAiB3E;EAAjB,IAAoCyE,EAA1C;EACA,MAAMG,gBAAgB,GAAG,EAAzB;EACAC,MAAM,CAACC,OAAP,CAAeL,EAAE,CAAC7B,OAAlB,EAA2BhB,OAA3B,CAAoCmD,QAAD,IAAc;IAC/C,MAAMvB,OAAO,GAAGxD,cAAc,GAAG+E,QAAQ,CAAC,CAAD,CAAR,CAAYZ,UAA7B,GAA0ClE,IAA1D;IACA,MAAM+E,OAAO,GAAGxB,OAAO,GAAGmB,OAA1B;IACA,MAAMM,YAAY,GAAG,EAArB;IACA5E,MAAM,CAACuB,OAAP,CAAgBsD,IAAD,IAAU;MACvB,MAAMC,QAAQ,GAAGH,OAAO,GAAGE,IAAI,CAACxE,WAAhC;MACA,MAAM0E,UAAU,GAAGD,QAAQ,GAAGT,OAAO,CAACC,OAAtC;MACAM,YAAY,CAACzC,IAAb,CAAkB4C,UAAlB;IACD,CAJD;IAKAR,gBAAgB,CAACG,QAAQ,CAAC,CAAD,CAAR,CAAY1H,IAAb,CAAhB,GAAqC4H,YAArC;EACD,CAVD;EAWA,OAAOL,gBAAP;AACD;;AAED,SAASS,gBAAT,CAA0BH,IAA1B,EAAgCI,MAAhC,EAAwC/D,IAAxC,EAA8C;EAC5C,MAAMR,MAAM,GAAGmB,MAAM,CAACgD,IAAI,CAACnE,MAAN,CAArB;EACA,MAAMJ,QAAQ,GAAGuB,MAAM,CAACgD,IAAI,CAACvE,QAAN,CAAN,GAAwB,IAAzC;EACA,MAAM4E,QAAQ,GAAG,CAACD,MAAM,GAAI3E,QAAQ,GAAGI,MAAtB,IAAiCA,MAAlD;EACA,MAAMyE,WAAW,GAAG3I,IAAI,CAAC4I,KAAL,CAAYzB,uDAAU,GAAGsB,MAAd,GAAwBvE,MAAnC,CAApB;EACA,OAAO2E,KAAK,CAACC,IAAN,CAAW;IAAEvD,MAAM,EAAEoD;EAAV,CAAX,EAAoC,CAACI,KAAD,EAAQtD,KAAR,KAAkB;IAC3D,MAAMuD,KAAK,GAAGtE,IAAI,CAACuE,OAAL,KAAkBP,QAAQ,IAAIjD,KAAK,GAAG,CAAZ,CAA1B,GAA6C3B,QAAQ,GAAG2B,KAAtE;IACA,OAAO;MACLuD,KADK;MAELE,GAAG,EAAEF,KAAK,GAAGlF;IAFR,CAAP;EAID,CANM,CAAP;AAOD;;AAED,SAASlD,eAAT,CAAyB4E,SAAzB,EAAoC2D,UAAU,GAAG,IAAjD,EAAuD;EACrD,MAAMC,IAAI,GAAGnC,4DAAW,CAAC,EACvB,GAAGzB,SAAS,CAACnD,KADU;IAEvBgH,KAAK,EAAE,IAAIC,IAAJ,CAAS9D,SAAS,CAACnD,KAAV,CAAgBgH,KAAzB;EAFgB,CAAD,CAAxB;EAIA,MAAMhH,KAAK,GAAG2E,+DAAc,CAACoC,IAAI,CAACG,IAAN,EAAYH,IAAI,CAACI,IAAjB,CAA5B;;EAEA,IAAI;IACFtC,+DAAc,CAAC;MAAE7E;IAAF,CAAD,EAAY,IAAIiH,IAAJ,EAAZ,CAAd;EACD,CAFD,CAEE,MAAM;IACN,MAAMG,KAAK,GAAI,8CAA6CjE,SAAS,CAAChF,IAAK,KACzE2I,UAAU,GAAG,8CAAH,GAAoD,+DAAgE,EADhI;IAEA,MAAM,IAAIO,KAAJ,CAAUD,KAAV,CAAN;EACD;;EAEDpH,KAAK,CAACoG,MAAN,GAAgB,IAAIzI,IAAI,CAACC,EAAT,GAAc,EAAd,GAAmB,IAApB,GAA4BoC,KAAK,CAACsH,EAAjD;EAEA,MAAM/B,EAAE,GAAG;IACT7B,OAAO,EAAEqB,UADA;IAETU,OAAO,EAAEtC,SAAS,CAACvC,KAAV,CAAgBC,SAFhB;IAGTC,cAAc,EAAEqC,SAAS,CAACvC,KAAV,CAAgBE,cAHvB;IAITC,IAAI,EAAEoC,SAAS,CAACvC,KAAV,CAAgBG;EAJb,CAAX;EAOA,MAAMyE,OAAO,GAAG;IACdC,OAAO,EAAEtC,SAAS,CAACvC,KAAV,CAAgBI,cADX;IAEdC,QAAQ,EAAEkC,SAAS,CAACvC,KAAV,CAAgBK;EAFZ,CAAhB;EAKA,MAAME,MAAM,GAAGgC,SAAS,CAAChC,MAAV,CAAiBgB,GAAjB,CAAsB6D,IAAD,KAAW;IAC7C7H,IAAI,EAAE6H,IAAI,CAAC7H,IADkC;IAE7CiD,IAAI,EAAE4E,IAAI,CAAC5E,IAFkC;IAG7CI,WAAW,EAAEwB,MAAM,CAACgD,IAAI,CAACxE,WAAN,CAH0B;IAI7CC,QAAQ,EAAGuB,MAAM,CAACgD,IAAI,CAACvE,QAAN,CAAN,GAAwB,IAAzB,IAAkC,IAJC;IAK7CI,MAAM,EAAEmB,MAAM,CAACgD,IAAI,CAACnE,MAAN,CAAN,IAAuB,IALc;IAM7C0F,SAAS,EAAEvB,IAAI,CAAC5E,IAAL,KAAc,UAAd,GAA2B+E,gBAAgB,CAACH,IAAD,EAAOhG,KAAK,CAACoG,MAAb,EAAqBpG,KAAK,CAACuC,SAA3B,CAA3C,GAAmF;EANjD,CAAX,CAArB,CAAf;EASApB,MAAM,CAACqG,OAAP,CAAe;IACbrJ,IAAI,EAAE,eADO;IAEbiD,IAAI,EAAE,eAFO;IAGbI,WAAW,EAAE2B,SAAS,CAACvC,KAAV,CAAgBM;EAHhB,CAAf;EAKA,MAAMuG,aAAa,GAAGnC,qBAAqB,CAACC,EAAD,EAAKpE,MAAL,EAAaqE,OAAb,CAA3C;EACA,OAAO;IACLrH,IAAI,EAAEgF,SAAS,CAAChF,IADX;IAELuJ,EAAE,EAAEvE,SAAS,CAACuE,EAFT;IAGLpF,MAAM,EAAE;MACNtC,KADM;MAENwF,OAFM;MAGND,EAHM;MAINzC,IAAI,EAAE;QACJ2E,aADI;QAEJtG;MAFI;IAJA,CAHH;IAYL2F;EAZK,CAAP;AAcD;;AAED,SAAStI,oBAAT,CAA8BL,IAA9B,EAAoC6B,KAApC,EAA2C+B,OAA3C,EAAoD;EAClD,MAAM4F,QAAQ,GAAG,EAAE,GAAG3H;EAAL,CAAjB;EACA2F,MAAM,CAACC,OAAP,CAAe7D,OAAf,EAAwBW,OAAxB,CAAiCW,MAAD,IAAY;IAC1CsE,QAAQ,CAACtE,MAAM,CAAC,CAAD,CAAP,CAAR,GAAsBrD,KAAK,CAACqD,MAAM,CAAC,CAAD,CAAP,CAAL,GAAmBL,MAAM,CAACK,MAAM,CAAC,CAAD,CAAP,CAA/C;EACD,CAFD;EAIA,MAAMuE,OAAO,GAAG,EACd,GAAGvC,iBADW;IAEdlH,IAFc;IAGduJ,EAAE,EAAEhD,gDAAM,EAHI;IAId1E,KAAK,EAAE2H;EAJO,CAAhB;EAMA,OAAOpJ,eAAe,CAACqJ,OAAD,EAAU,KAAV,CAAtB;AACD;;AAED,SAASnJ,UAAT,CAAoBwE,WAApB,EAAiCf,SAAjC,EAA4CH,OAA5C,EAAqD;EACnD,IAAIkB,WAAW,KAAK,CAApB,EAAuB,OAAO,EAAP;EACvB,IAAIA,WAAW,KAAKf,SAApB,EAA+B,OAAOsE,KAAK,CAACC,IAAN,CAAW;IAAEvD,MAAM,EAAEhB;EAAV,CAAX,EAAkC,MAAM,CAACH,OAAD,CAAxC,CAAP;;EAC/B,IAAIkB,WAAW,GAAGf,SAAlB,EAA6B;IAC3B,MAAM2F,OAAO,GAAGlK,IAAI,CAAC4I,KAAL,CAAWrE,SAAS,GAAGe,WAAvB,CAAhB;IACA,IAAI6E,KAAK,GAAG,CAAZ;IACA,OAAOtB,KAAK,CAACC,IAAN,CAAW;MAAEvD,MAAM,EAAEhB;IAAV,CAAX,EAAkC,CAACwE,KAAD,EAAQtD,KAAR,KAAkB;MACzD,IAAIA,KAAK,GAAGyE,OAAZ,EAAqB,OAAO,IAAP;MACrBC,KAAK,IAAI,CAAT;MACA,IAAIA,KAAK,GAAG7E,WAAZ,EAAyB,OAAO,IAAP;MACzB,OAAO,CAAClB,OAAD,CAAP;IACD,CALM,CAAP;EAMD;;EACD,IAAIkB,WAAW,GAAGf,SAAlB,EAA6B;IAC3B,IAAI6F,KAAK,GAAGpK,IAAI,CAACqK,IAAL,CAAU/E,WAAW,GAAGf,SAAxB,CAAZ;IACA,IAAI4F,KAAK,GAAG,CAAZ;IACA,OAAOtB,KAAK,CAACC,IAAN,CACL;MAAEvD,MAAM,EAAEhB;IAAV,CADK,EAEL,MAAM;MACJ,IAAI+F,UAAU,GAAG,CAAjB;MACA,IAAKH,KAAK,GAAGC,KAAT,GAAkB9E,WAAtB,EAAmC8E,KAAK,GAAG9E,WAAW,GAAG6E,KAAtB;MACnC,OAAOtB,KAAK,CAACC,IAAN,CAAW;QAAEvD,MAAM,EAAE6E;MAAV,CAAX,EAA8B,CAACrB,KAAD,EAAQtD,KAAR,KAAkB;QACrD,IAAIA,KAAK,GAAG,CAAR,KAAc,CAAlB,EAAqB6E,UAAU,IAAI,CAAd;QACrB,MAAMC,UAAU,GAAG,EAAnB;QACAvC,MAAM,CAACC,OAAP,CAAe7D,OAAf,EAAwBW,OAAxB,CAAiCW,MAAD,IAAY;UAC1C6E,UAAU,CAAC7E,MAAM,CAAC,CAAD,CAAP,CAAV,GAAwBA,MAAM,CAAC,CAAD,CAAN,GAAY4E,UAAZ,GAA0B,CAAC,IAAI,CAAL,KAAW7E,KAA7D;QACD,CAFD;QAGA0E,KAAK,IAAI,CAAT;QAEA,OAAOI,UAAP;MACD,CATM,CAAP;IAUD,CAfI,CAAP;EAiBD;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5LD;;AACA;AACA;AAEA;AACA;AAGA;AACA;;;;AAEA,SAASxJ,YAAT,CAAsBiK,OAAtB,EAA+B;EAC7B,MAAMC,gBAAgB,GAAGD,OAAO,CAACE,OAAR,EAAzB;EACA,MAAMC,IAAI,GAAGhE,uDAAU,GAAG2D,mDAA1B;EACA,OAAOjC,KAAK,CAACC,IAAN,CAAW;IAAEvD,MAAM,EAAEuF,mDAAMA;EAAhB,CAAX,EAA+B,CAAC/B,KAAD,EAAQtD,KAAR,KAAkB;IACtD,MAAMf,IAAI,GAAGuG,gBAAgB,GAAGxF,KAAK,GAAG0F,IAAxC;IACA,OAAOzG,IAAP;EACD,CAHM,CAAP;AAID;;AAED,SAAS1D,qBAAT,CAA+BwE,SAA/B,EAA0C4F,SAA1C,EAAqD;EACnD,MAAMC,CAAC,GAAG,EAAV;EACA,MAAMC,CAAC,GAAG,EAAV;EACA,MAAMC,CAAC,GAAG,EAAV;EAEAH,SAAS,CAACrG,OAAV,CAAmBL,IAAD,IAAU;IAC1B,MAAM8G,GAAG,GAAGtE,+DAAc,CAAC1B,SAAD,EAAY,IAAI8D,IAAJ,CAAS5E,IAAT,CAAZ,CAA1B;IACA2G,CAAC,CAAC1F,IAAF,CAAO6F,GAAG,CAACH,CAAX;IACAC,CAAC,CAAC3F,IAAF,CAAO6F,GAAG,CAACF,CAAX;IACAC,CAAC,CAAC5F,IAAF,CAAO6F,GAAG,CAACD,CAAX;EACD,CALD;EAOA,OAAO;IACLF,CADK;IAELC,CAFK;IAGLC;EAHK,CAAP;AAKD;;AAED,SAAStK,eAAT,CAAyBmK,SAAzB,EAAoC;EAClC,MAAMC,CAAC,GAAG,EAAV;EACA,MAAMC,CAAC,GAAG,EAAV;EACA,MAAMC,CAAC,GAAG,EAAV;EAEAH,SAAS,CAACrG,OAAV,CAAmBL,IAAD,IAAU;IAC1B,MAAM8G,GAAG,GAAGf,+DAAc,CAAC,IAAInB,IAAJ,CAAS5E,IAAT,CAAD,CAA1B;IACA2G,CAAC,CAAC1F,IAAF,CAAO6F,GAAG,CAACH,CAAX;IACAC,CAAC,CAAC3F,IAAF,CAAO6F,GAAG,CAACF,CAAX;IACAC,CAAC,CAAC5F,IAAF,CAAO6F,GAAG,CAACD,CAAX;EACD,CALD;EAOA,OAAO;IACLF,CADK;IAELC,CAFK;IAGLC;EAHK,CAAP;AAKD;;AAED,SAAS/J,sBAAT,CAAgC4J,SAAhC,EAA2C;EACzC,OAAOA,SAAS,CAAC5G,GAAV,CAAeE,IAAD,IAAUgG,sEAAqB,CAAChG,IAAD,CAA7C,CAAP;AACD;;AAED,SAASxD,gBAAT,CAA0BsE,SAA1B,EAAqCX,GAArC,EAA0CuG,SAA1C,EAAqD;EACnD,OAAOA,SAAS,CAAC5G,GAAV,CAAc,CAACE,IAAD,EAAOe,KAAP,KAAiB;IACpC,MAAMgG,WAAW,GAAG;MAClBJ,CAAC,EAAE7F,SAAS,CAACR,SAAV,CAAoBqG,CAApB,CAAsB5F,KAAtB,CADe;MAElB6F,CAAC,EAAE9F,SAAS,CAACR,SAAV,CAAoBsG,CAApB,CAAsB7F,KAAtB,CAFe;MAGlB8F,CAAC,EAAE/F,SAAS,CAACR,SAAV,CAAoBuG,CAApB,CAAsB9F,KAAtB;IAHe,CAApB;IAMA,MAAMiG,WAAW,GAAG;MAClBL,CAAC,EAAExG,GAAG,CAACwG,CAAJ,CAAM5F,KAAN,CADe;MAElB6F,CAAC,EAAEzG,GAAG,CAACyG,CAAJ,CAAM7F,KAAN,CAFe;MAGlB8F,CAAC,EAAE1G,GAAG,CAAC0G,CAAJ,CAAM9F,KAAN;IAHe,CAApB;IAKA,OAAOL,uDAAU,CAACqG,WAAD,EAAcC,WAAd,CAAjB;EACD,CAbM,CAAP;AAcD;;AAED,SAASvK,gBAAT,CAA0BqC,MAA1B,EAAkC4H,SAAlC,EAA6C;EAC3C,OAAOA,SAAS,CAAC5G,GAAV,CAAeE,IAAD,IAAU;IAC7B,IAAIiH,WAAW,GAAG,CAAlB;IACAnI,MAAM,CAACuB,OAAP,CAAe,CAACsD,IAAD,EAAO5C,KAAP,KAAiB;MAC9B,IAAI4C,IAAI,CAAC5E,IAAL,KAAc,eAAlB,EAAmC;MACnC4E,IAAI,CAACuB,SAAL,CAAe7E,OAAf,CAAwB6G,KAAD,IAAW;QAChC,IAAKlH,IAAI,IAAIkH,KAAK,CAAC5C,KAAf,IAA0BtE,IAAI,IAAIkH,KAAK,CAAC1C,GAA5C,EAAkDyC,WAAW,GAAGlG,KAAd;MACnD,CAFD;IAGD,CALD;IAMA,OAAOkG,WAAP;EACD,CATM,CAAP;AAUD;;AAED,SAASvK,QAAT,CAAkByE,UAAlB,EAA8BtB,SAA9B,EAAyC6G,SAAzC,EAAoD;EAClD,OAAO7G,SAAS,CAACC,GAAV,CAAeC,QAAD,IAAc;IACjC,MAAMoH,QAAQ,GAAI,GAAEhG,UAAU,CAACrF,IAAK,MAAKiE,QAAQ,CAACjE,IAAK,EAAvD;IACA,MAAMsL,SAAS,GAAGV,SAAS,CAAC5G,GAAV,CAAc,CAACE,IAAD,EAAOe,KAAP,KAAiB;MAC/C,MAAMsG,kBAAkB,GAAG;QACzBV,CAAC,EAAExF,UAAU,CAACb,SAAX,CAAqBqG,CAArB,CAAuB5F,KAAvB,CADsB;QAEzB6F,CAAC,EAAEzF,UAAU,CAACb,SAAX,CAAqBsG,CAArB,CAAuB7F,KAAvB,CAFsB;QAGzB8F,CAAC,EAAE1F,UAAU,CAACb,SAAX,CAAqBuG,CAArB,CAAuB9F,KAAvB;MAHsB,CAA3B;MAKA,MAAMuG,gBAAgB,GAAG;QACvBX,CAAC,EAAE5G,QAAQ,CAACO,SAAT,CAAmBqG,CAAnB,CAAqB5F,KAArB,CADoB;QAEvB6F,CAAC,EAAE7G,QAAQ,CAACO,SAAT,CAAmBsG,CAAnB,CAAqB7F,KAArB,CAFoB;QAGvB8F,CAAC,EAAE9G,QAAQ,CAACO,SAAT,CAAmBuG,CAAnB,CAAqB9F,KAArB;MAHoB,CAAzB;MAKA,OAAOkF,4DAAW,CAACoB,kBAAD,EAAqBC,gBAArB,CAAlB;IACD,CAZiB,CAAlB;IAaA,MAAMC,SAAS,GAAGH,SAAS,CAACtH,GAAV,CAAe0H,QAAD,IAAc;MAC5C,IAAKA,QAAQ,GAAG1B,mEAAZ,GAA2BO,0DAA/B,EAA8C,OAAO,IAAP;MAC9C,OAAO,KAAP;IACD,CAHiB,CAAlB;IAIA,OAAO;MACLvK,IAAI,EAAEqL,QADD;MAELC,SAFK;MAGLG,SAHK;MAILE,UAAU,EAAE1H,QAAQ,CAACsF,EAJhB;MAKLqC,YAAY,EAAEvG,UAAU,CAACkE,EALpB;MAMLA,EAAE,EAAEhD,gDAAM;IANL,CAAP;EAQD,CA3BM,CAAP;AA4BD;;AAED,SAAS1F,aAAT,CAAuBuE,KAAvB,EAA8BwF,SAA9B,EAAyC;EACvC,OAAOA,SAAS,CAAC5G,GAAV,CAAc,CAACE,IAAD,EAAOe,KAAP,KAAkBG,KAAK,CAACa,MAAN,CAAa,CAACC,IAAD,EAAOC,OAAP,KAAmBA,OAAO,CAACsF,SAAR,CAAkBxG,KAAlB,KAA4BiB,IAA5D,EAAkE,KAAlE,IAA2E,CAA3E,GAA+E,CAA/G,CAAP;AACD;;AAED,SAAS2F,SAAT,CAAmB7G,SAAnB,EAA8BI,KAA9B,EAAqCH,KAArC,EAA4C;EAC1C,IAAI6G,OAAJ;;EACA,IAAI1G,KAAJ,EAAW;IACT,MAAME,QAAQ,GAAGF,KAAK,CAAC2G,MAAN,CAAcC,CAAD,IAAOA,CAAC,CAACL,UAAF,KAAiB3G,SAAS,CAACuE,EAA/C,CAAjB;IACAuC,OAAO,GAAGxG,QAAQ,CAACW,MAAT,CAAgB,CAACC,IAAD,EAAOC,OAAP,KAAmBA,OAAO,CAACsF,SAAR,CAAkBxG,KAAlB,KAA4BiB,IAA/D,EAAqE,KAArE,CAAV;EACD,CAHD,MAGO;IACL4F,OAAO,GAAG,KAAV;EACD;;EAED,MAAMG,MAAM,GAAG,CAACjH,SAAS,CAACP,WAAV,CAAsBG,UAAtB,CAAiCK,KAAjC,CAAhB;EAEA,IAAI,CAACgH,MAAD,IAAWH,OAAf,EAAwB,OAAO,MAAP;EACxB,IAAIG,MAAM,IAAIH,OAAd,EAAuB,OAAO,cAAP;EACvB,IAAI,CAACG,MAAD,IAAW,CAACH,OAAhB,EAAyB,OAAO,UAAP;EACzB,IAAIG,MAAM,IAAI,CAACH,OAAf,EAAwB,OAAO,KAAP;AACzB;;AAED,SAAS7K,UAAT,CAAoB+D,SAApB,EAA+BI,KAA/B,EAAsCwF,SAAtC,EAAiD;EAC/C,OAAOA,SAAS,CAAC5G,GAAV,CAAc,CAACE,IAAD,EAAOe,KAAP,KAAiB4G,SAAS,CAAC7G,SAAD,EAAYI,KAAZ,EAAmBH,KAAnB,CAAxC,CAAP;AACD;;AAED,SAASnE,eAAT,CAAyBkE,SAAzB,EAAoC4F,SAApC,EAA+CsB,QAAQ,GAAG,IAA1D,EAAgE;EAC9D,MAAMC,KAAK,GAAKxF,uDAAU,IAAI,KAAK,EAAL,GAAU,IAAd,CAAX,GAAkC2D,mDAAjD;EACA,IAAI9E,WAAW,GAAG,CAAlB;EACA,OAAOoF,SAAS,CAAC5G,GAAV,CAAc,CAACE,IAAD,EAAOe,KAAP,KAAiB;IACpC,IAAImH,MAAM,GAAGpH,SAAS,CAACP,WAAV,CAAsBc,OAAtB,CAA8BN,KAA9B,CAAb;;IACA,IAAIiH,QAAQ,KAAK,KAAjB,EAAwB;MACtB,IAAIE,MAAM,KAAK,cAAf,EAA+BA,MAAM,GAAG,KAAT;MAC/B,IAAIA,MAAM,KAAK,MAAf,EAAuBA,MAAM,GAAG,UAAT;IACxB;;IACD5G,WAAW,GAAG4E,2DAAc,CAACpF,SAAS,CAACb,MAAX,EAAmBa,SAAS,CAACP,WAAV,CAAsBC,aAAtB,CAAoCO,KAApC,CAAnB,EAA+DmH,MAA/D,EAAuE5G,WAAvE,EAAoF2G,KAApF,CAA5B;IACA,IAAI3G,WAAW,GAAG,CAAlB,EAAqB,OAAO,CAAP;IACrB,OAAOA,WAAP;EACD,CATM,CAAP;AAUD;;AAED,SAASzE,iBAAT,CAA2BiE,SAA3B,EAAsC;EACpC,IAAIW,WAAW,GAAG,CAAlB;EACA,MAAM0G,YAAY,GAAGrH,SAAS,CAACP,WAAV,CAAsBc,OAAtB,CAA8BU,MAA9B,CAAqC,CAACC,IAAD,EAAOkG,MAAP,EAAeE,CAAf,KAAqB;IAC7E,MAAMnB,WAAW,GAAGnG,SAAS,CAACP,WAAV,CAAsBC,aAAtB,CAAoC4H,CAApC,CAApB;IACA,MAAMvE,UAAU,GAAGsC,0DAAa,CAACrF,SAAS,CAACb,MAAX,EAAmBiI,MAAnB,EAA2BjB,WAA3B,CAAhC;IACA,IAAIoB,aAAa,GAAGH,MAApB;;IACA,IAAIA,MAAM,KAAK,cAAf,EAA+B;MAC7BG,aAAa,GAAG,KAAhB;MACA5G,WAAW,IAAI,CAAf;IACD,CAHD,MAGO,IAAIyG,MAAM,KAAK,MAAf,EAAuB;MAC5BzG,WAAW,IAAI,CAAf;MACA4G,aAAa,GAAG,UAAhB;IACD;;IACD,MAAMC,iBAAiB,GAAGnC,0DAAa,CAACrF,SAAS,CAACb,MAAX,EAAmBoI,aAAnB,EAAkCpB,WAAlC,CAAvC;IACA,OAAQpD,UAAU,GAAGyE,iBAAd,GAAmCtG,IAA1C;EACD,CAboB,EAalB,CAbkB,CAArB;EAcA,MAAMR,cAAc,GAAI2G,YAAY,IAAI1F,uDAAU,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAd,CAAb,GAAmD2D,mDAA1E;EACA3E,WAAW,GAAKA,WAAW,GAAG2E,mDAAf,GAAyB3D,uDAA1B,IAAyC,OAAO,EAAhD,CAAd;EACA,OAAO,CAACjB,cAAD,EAAiBC,WAAjB,CAAP;AACD;;AAED,SAASzE,oBAAT,CAA8B8D,SAA9B,EAAyC;EACvC,MAAMyH,WAAW,GAAGzH,SAAS,CAACP,WAAV,CAAsBe,WAAtB,CAAkCS,MAAlC,CAAyC,CAACC,IAAD,EAAOC,OAAP,KAAoBA,OAAO,GAAGD,IAAV,GAAiBC,OAAjB,GAA2BD,IAAxF,EAA+F,CAA/F,CAApB;EACA,MAAMwG,aAAa,GAAG1H,SAAS,CAACP,WAAV,CAAsBgB,kBAAtB,CAAyCQ,MAAzC,CAAgD,CAACC,IAAD,EAAOC,OAAP,KAAoBA,OAAO,GAAGD,IAAV,GAAiBC,OAAjB,GAA2BD,IAA/F,EAAsG,CAAtG,CAAtB;EACA,OAAO,CAACuG,WAAD,EAAcC,aAAd,CAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5LD;AACA;AACA;;;;AAEA,MAAMG,cAAc,GAAG;EACrBC,SAAS,EAAE;AADU,CAAvB;AAIA,MAAMC,KAAK,GAAG;EACZC,UAAU,EAAE;IACVhN,IAAI,EAAE,YADI;IAEVJ,YAAY,EAAE,yBAFJ;IAGVC,eAAe,EAAE,KAHP;IAIVC,aAAa,EAAE,EAJL;IAKVG,cAAc,EAAE,gBALN;IAMVF,UAAU,EAAE,gBANF;IAOVG,UAAU,EAAE;EAPF,CADA;EAUZ+M,OAAO,EAAE;IACPjN,IAAI,EAAE,SADC;IAEPJ,YAAY,EAAE,uBAFP;IAGPC,eAAe,EAAE,YAHV;IAIPC,aAAa,EAAG;AACpB;AACA,kBANW;IAOPG,cAAc,EAAE,YAPT;IAQPF,UAAU,EAAE,EARL;IASPG,UAAU,EAAE;EATL,CAVG;EAqBZuE,WAAW,EAAE;IACXzE,IAAI,EAAE,aADK;IAEXJ,YAAY,EAAE,mBAFH;IAGXC,eAAe,EAAE,SAHN;IAIXC,aAAa,EAAG;AACpB;AACA,kBANe;IAOXG,cAAc,EAAE,YAPL;IAQXF,UAAU,EAAE,EARD;IASXG,UAAU,EAAE;EATD;AArBD,CAAd;AAkCA,MAAMgN,aAAa,GAAGN,2DAAa,CAAC,OAAO;EACzCO,KAAK,EAAE;AADkC,CAAP,CAAD,CAAnC;AAIA,MAAM/O,QAAQ,GAAGuO,mDAAM,CAAES,GAAD,KAAU;EAChCC,QAAQ,EAAE,KADsB;EAEhCC,KAAK,EAAE,CAFyB;EAGhCC,YAAY,EAAE;IACZvN,IAAI,EAAE,OADM;IAEZwN,GAAG,EAAE,IAFO;IAGZC,IAAI,EAAE,IAHM;IAIZlE,EAAE,EAAE;EAJQ,CAHkB;EAShCmE,IAAI,EAAE,IAAIC,GAAJ,EAT0B;EAUhCC,gBAAgB,EAAE,IAAID,GAAJ,EAVc;EAWhC9O,IAAI,EAAEkO,KAAK,CAACC,UAXoB;EAYhCC,OAAO,EAAE,IAZuB;EAahCjO,aAAa,EAAE,KAbiB;EAchC6O,YAAY,EAAE,IAdkB;EAehCC,UAAU,EAAE,KAfoB;EAgBhCC,UAAU,EAAE,KAhBoB;EAiBhCC,OAAO,EAAGF,UAAD,IAAgBV,GAAG,CAAC,OAAO;IAAEU;EAAF,CAAP,CAAD,CAjBI;EAkBhCG,WAAW,EAAGF,UAAD,IAAgBX,GAAG,CAAC,OAAO;IAAEW;EAAF,CAAP,CAAD,CAlBA;EAmBhC9O,QAAQ,EAAGE,GAAD,IAASiO,GAAG,CAAC,OAAO;IAAES,YAAY,EAAE1O;EAAhB,CAAP,CAAD,CAnBU;EAoBhC+O,cAAc,EAAGlP,aAAD,IAAmBoO,GAAG,CAAC,OAAO;IAAEpO;EAAF,CAAP,CAAD,CApBN;EAqBhCmP,SAAS,EAAGd,QAAD,IAAcD,GAAG,CAAC,OAAO;IAAEC;EAAF,CAAP,CAAD,CArBI;EAsBhCe,QAAQ,EAAGd,KAAD,IAAWF,GAAG,CAAC,OAAO;IAAEE;EAAF,CAAP,CAAD,CAtBQ;EAuBhCe,YAAY,EAAG9E,EAAD,IAAQ6D,GAAG,CAAElO,KAAD,KAAY;IACpCqO,YAAY,EAAE,EACZ,GAAGrO,KAAK,CAACqO,YADG;MAEZC,GAAG,EAAEtO,KAAK,CAACwO,IAAN,CAAWY,GAAX,CAAe/E,EAAf,CAFO;MAGZA,EAHY;MAIZvJ,IAAI,EAAEd,KAAK,CAAC0O,gBAAN,CAAuBU,GAAvB,CAA2B/E,EAA3B,EAA+BvJ;IAJzB;EADsB,CAAZ,CAAD,CAvBO;EA+BhCuO,YAAY,EAAE,MAAMnB,GAAG,CAAElO,KAAD,KAAY;IAClCqO,YAAY,EAAE,EACZ,GAAGrO,KAAK,CAACqO,YADG;MAEZvN,IAAI,EAAE,OAFM;MAGZwN,GAAG,EAAE,IAHO;MAIZjE,EAAE,EAAE;IAJQ;EADoB,CAAZ,CAAD,CA/BS;EAuChCiF,WAAW,EAAGjF,EAAD,IAAQ6D,GAAG,CAAElO,KAAD,IAAW;IAClC,MAAMgH,IAAI,GAAGhH,KAAK,CAAC0O,gBAAN,CAAuBU,GAAvB,CAA2B/E,EAA3B,CAAb;IACA,OAAQ;MACNqE,gBAAgB,EAAE,IAAID,GAAJ,CAAQzO,KAAK,CAAC0O,gBAAd,EAAgCR,GAAhC,CAAoC7D,EAApC,EAAwC,EACxD,GAAGrD,IADqD;QAExD4G,SAAS,EAAE,CAAC5G,IAAI,CAAC4G;MAFuC,CAAxC;IADZ,CAAR;EAMD,CARuB,CAvCQ;EAgDhC2B,eAAe,EAAGC,UAAD,IAAgBtB,GAAG,CAAElO,KAAD,IAAW;IAC9C,MAAMyP,UAAU,GAAG,IAAIhB,GAAJ,CAAQzO,KAAK,CAAC0O,gBAAd,CAAnB;;IACA,IAAI,CAACc,UAAL,EAAiB;MACfC,UAAU,CAACpK,OAAX,CACE,CAACgE,KAAD,EAAQqG,GAAR,KAAgBD,UAAU,CAACvB,GAAX,CAAewB,GAAf,EAAoB,EAAE,GAAGrG,KAAL;QAAYuE,SAAS,EAAE;MAAvB,CAApB,CADlB;IAGD,CAJD,MAIO;MACL6B,UAAU,CAACpK,OAAX,CACE,CAACgE,KAAD,EAAQqG,GAAR,KAAgBD,UAAU,CAACvB,GAAX,CAAewB,GAAf,EAAoB,EAAE,GAAGrG,KAAL;QAAYuE,SAAS,EAAE;MAAvB,CAApB,CADlB;IAGD;;IACD,OAAQ;MACNc,gBAAgB,EAAEe;IADZ,CAAR;EAGD,CAdmC,CAhDJ;EA+DhCE,aAAa,EAAGpB,IAAD,IAAUL,GAAG,CAAElO,KAAD,KAAY;IACvCqO,YAAY,EAAE,EACZ,GAAGrO,KAAK,CAACqO,YADG;MAEZE;IAFY;EADyB,CAAZ,CAAD,CA/DI;EAqEhCqB,QAAQ,EAAE,CAACvF,EAAD,EAAKiE,GAAL,KAAaJ,GAAG,CAAElO,KAAD,KAAY;IAAEwO,IAAI,EAAE,IAAIC,GAAJ,CAAQzO,KAAK,CAACwO,IAAd,EAAoBN,GAApB,CAAwB7D,EAAxB,EAA4BiE,GAA5B;EAAR,CAAZ,CAAD,CArEM;EAsEhCzO,iBAAiB,EAAGgQ,MAAD,IAAY3B,GAAG,CAAC,MAAM;IACvC,MAAMH,OAAO,GAAGpJ,8DAAoB,CAACkL,MAAD,CAApC;IACA,MAAMzN,UAAU,GAAG,CAAC,GAAG2L,OAAO,CAAC3L,UAAR,CAAmByC,SAAvB,EAAkC,GAAGkJ,OAAO,CAAC3L,UAAR,CAAmBwD,WAAxD,CAAnB;IACA,MAAM6J,UAAU,GAAG,IAAIhB,GAAJ,EAAnB;IACArM,UAAU,CAACiD,OAAX,CAAoBS,SAAD,IAAe;MAChC2J,UAAU,CAACvB,GAAX,CAAepI,SAAS,CAACuE,EAAzB,EAA6B,EAC3B,GAAGsD,cADwB;QAE3B7M,IAAI,EAAEgF,SAAS,CAAChF,IAFW;QAG3BgP,KAAK,EAAEhK,SAAS,CAAC2D,UAAV,GAAuB,KAAvB,GAA+B;MAHX,CAA7B;IAKD,CAND;IAOA,OAAQ;MACNsE,OADM;MAENW,gBAAgB,EAAEe,UAFZ;MAGN3P,aAAa,EAAE,IAHT;MAINuO,YAAY,EAAE;QACZvN,IAAI,EAAE,OADM;QAEZwN,GAAG,EAAE,IAFO;QAGZC,IAAI,EAAE,IAHM;QAIZlE,EAAE,EAAE;MAJQ;IAJR,CAAR;EAWD,CAtBiC,CAtEF;EA6FhCzK,OAAO,EAAGmQ,CAAD,IAAO7B,GAAG,CAAC,OAAO;IAAEvO,IAAI,EAAEkO,KAAK,CAAE,GAAEkC,CAAC,CAACC,MAAF,CAAS3G,KAAM,EAAnB;EAAb,CAAP,CAAD;AA7Fa,CAAV,CAAD,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CA;AACA;AACA;AACA;AAGA;AACA;;;;;AAEA,SAASsH,IAAT,CAAc;EACZC,IADY;EACNzK,UADM;EACMpB;AADN,CAAd,EAEG;EACD,MAAMuJ,GAAG,GAAG9P,6CAAM,EAAlB;EACA,MAAMqS,KAAK,GAAGrS,6CAAM,CAAC,IAAI8R,2CAAJ,EAAD,CAApB;EACA,MAAMQ,OAAO,GAAGtS,6CAAM,EAAtB;EACA,MAAMuS,QAAQ,GAAGvS,6CAAM,EAAvB;EACA,MAAMwS,MAAM,GAAGxS,6CAAM,EAArB;EAEAD,gDAAS,CAAC,MAAM;IACduS,OAAO,CAAC7J,OAAR,GAAkB,IAAIsJ,0CAAJ,CAAYE,2EAAuB,EAAnC,CAAlB;IACAK,OAAO,CAAC7J,OAAR,CAAgBgK,WAAhB,GAA8B,IAA9B;IACAF,QAAQ,CAAC9J,OAAT,GAAmB,IAAIkJ,oDAAJ,CAAsB;MACvCrL,GAAG,EAAEgM,OAAO,CAAC7J,OAD0B;MAEvCiK,QAAQ,EAAEd,mDAF6B;MAGvCN,KAAK,EAAE,QAHgC;MAIvCqB,IAAI,EAAEd,6CAJiC;MAKvCe,UAAU,EAAE,KAL2B;MAMvCC,WAAW,EAAE;IAN0B,CAAtB,CAAnB;IAQAL,MAAM,CAAC/J,OAAP,GAAiByJ,kEAAc,CAAC,CAAD,EAAIK,QAAQ,CAAC9J,OAAb,CAA/B;IACA+J,MAAM,CAAC/J,OAAP,CAAe5B,OAAf,CAAwBiM,IAAD,IAAUT,KAAK,CAAC5J,OAAN,CAAcsK,GAAd,CAAkBD,IAAlB,CAAjC;EACD,CAbQ,EAaN,EAbM,CAAT;EAeA,MAAMrD,KAAK,GAAGzP,6CAAM,CAACwP,gEAAA,GAAyBC,KAA1B,CAApB;EACA1P,gDAAS,CAAC,MAAM;IACdyP,iEAAA,CACGhO,KAAD,IAAW;MACTiO,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;IACD,CAHH;EAKD,CANQ,EAMN,EANM,CAAT;EAQAgC,qDAAQ,CAAC,MAAM;IACb,IAAIW,IAAI,CAACrE,SAAL,CAAe0B,KAAK,CAAChH,OAArB,CAAJ,EAAmC;MACjC,IAAIqH,GAAG,CAACrH,OAAJ,CAAYyK,QAAZ,CAAqB7L,MAArB,KAAgC,CAApC,EAAuC;QACrCyI,GAAG,CAACrH,OAAJ,CAAYyK,QAAZ,GAAuBV,MAAM,CAAC/J,OAA9B;MACD;;MACDqH,GAAG,CAACrH,OAAJ,CAAY0K,QAAZ,CAAqBhG,CAArB,GAAyBxF,UAAU,CAACb,SAAX,CAAqBqG,CAArB,CAAuBsC,KAAK,CAAChH,OAA7B,CAAzB;MACAqH,GAAG,CAACrH,OAAJ,CAAY0K,QAAZ,CAAqB/F,CAArB,GAAyBzF,UAAU,CAACb,SAAX,CAAqBsG,CAArB,CAAuBqC,KAAK,CAAChH,OAA7B,CAAzB;MACAqH,GAAG,CAACrH,OAAJ,CAAY0K,QAAZ,CAAqB9F,CAArB,GAAyB1F,UAAU,CAACb,SAAX,CAAqBuG,CAArB,CAAuBoC,KAAK,CAAChH,OAA7B,CAAzB;MAEAqH,GAAG,CAACrH,OAAJ,CAAY2K,MAAZ,CACE7M,QAAQ,CAACO,SAAT,CAAmBqG,CAAnB,CAAqBsC,KAAK,CAAChH,OAA3B,CADF,EAEElC,QAAQ,CAACO,SAAT,CAAmBsG,CAAnB,CAAqBqC,KAAK,CAAChH,OAA3B,CAFF,EAGElC,QAAQ,CAACO,SAAT,CAAmBuG,CAAnB,CAAqBoC,KAAK,CAAChH,OAA3B,CAHF;MAKAqH,GAAG,CAACrH,OAAJ,CAAY5G,OAAZ,CAAoB,CAACC,IAAI,CAACC,EAAN,GAAW,CAA/B;MACA+N,GAAG,CAACrH,OAAJ,CAAY4K,KAAZ,CAAkB3D,GAAlB,CAAsB0C,IAAI,CAACxE,SAAL,CAAe6B,KAAK,CAAChH,OAArB,CAAtB,EAAqD,CAArD,EAAwD,CAAxD;IACD,CAfD,MAeO,IAAIqH,GAAG,CAACrH,OAAJ,CAAYyK,QAAhB,EAA0B;MAC/BpD,GAAG,CAACrH,OAAJ,CAAYyK,QAAZ,GAAuB,EAAvB;IACD;EACF,CAnBO,CAAR;EAoBA,oBACE;IACE,MAAM,EAAEb,KAAK,CAAC5J,OADhB;IAEE,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAFZ;IAGE,GAAG,EAAEqH;EAHP,EADF;AAOD;;AAED,iEAAeqC,IAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvEA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAEe,SAASuB,MAAT,GAAkB;EAC/B,MAAMC,QAAQ,GAAG3T,6CAAM,EAAvB;EACA,MAAM;IAAE4T;EAAF,IAAaL,qDAAQ,EAA3B;EACAlT,sDAAe,CAAC,MAAM;IACpBuT,MAAM,CAACT,QAAP,CAAgB9F,CAAhB,GAAoB,CAApB;EACD,CAFc,EAEZ,CAACuG,MAAD,CAFY,CAAf;EAGA,MAAMpC,MAAM,GAAG9Q,sDAAQ,CAAEc,KAAD,IAAWA,KAAK,CAACqO,YAAlB,CAAvB;EACA9P,gDAAS,CAAC,MAAM;IACd4T,QAAQ,CAAClL,OAAT,CAAiBoL,WAAjB,GAA+B,EAA/B;IACAF,QAAQ,CAAClL,OAAT,CAAiBqL,WAAjB,GAA+B,CAA/B;EACD,CAHQ,EAGN,CAACH,QAAD,CAHM,CAAT;EAKA,MAAM/M,KAAK,GAAG5G,6CAAM,CAAC,IAAI0R,0CAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAD,CAApB;EACA,MAAMqC,SAAS,GAAG/T,6CAAM,CAAC,IAAIyT,4CAAJ,EAAD,CAAxB;EAEA1T,gDAAS,CAAC,MAAM;IACd,IAAIyR,MAAM,CAACzB,IAAP,IAAeyB,MAAM,CAAClP,IAAP,KAAgB,OAAnC,EAA4CqR,QAAQ,CAAClL,OAAT,CAAiB+I,MAAjB,GAA0B5K,KAAK,CAAC6B,OAAhC,CAA5C,KACKkL,QAAQ,CAAClL,OAAT,CAAiB+I,MAAjB,GAA0BA,MAAM,CAAC1B,GAAP,CAAWqD,QAArC;EACN,CAHQ,EAGN,CAAC3B,MAAD,CAHM,CAAT;EAIAC,qDAAQ,CAAC,CAAC;IAAEuC;EAAF,CAAD,EAAYvF,KAAZ,KAAsB;IAC7B,IAAI,CAAC+C,MAAM,CAAC1B,GAAZ,EAAiB;;IACjB,IAAI0B,MAAM,CAACzB,IAAX,EAAiB;MACf;MACAgE,SAAS,CAACtL,OAAV,CAAkBwL,cAAlB,CACEzC,MAAM,CAAC1B,GAAP,CAAWqD,QADb;MAIAQ,QAAQ,CAAClL,OAAT,CAAiByL,iBAAjB,CAAmCH,SAAS,CAACtL,OAAV,CAAkB0L,KAArD;MACAR,QAAQ,CAAClL,OAAT,CAAiB2L,aAAjB,CAA+BL,SAAS,CAACtL,OAAV,CAAkB4L,GAAjD;IACD,CARD,MAQO,CACL;IACD;EACF,CAbO,CAAR;EAeA,oBACE,uDAAC,4DAAD;IACE,WAAW,MADb;IAEE,UAAU,MAFZ;IAGE,YAAY,EAAE7C,MAAM,CAAClP,IAAP,KAAgB,OAAhB,IAA2B,CAACkP,MAAM,CAACzB,IAHnD;IAIE,SAAS,EAAE,KAJb;IAKE,GAAG,EAAE4D;EALP,EADF;AASD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDD;;AACA;;AACA;;AACA;;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAEA,SAASgB,KAAT,GAAiB;EACf,MAAM7E,GAAG,GAAG9P,6CAAM,EAAlB;EACA,MAAM4U,QAAQ,GAAGN,qDAAS,CAACC,0EAAD,EAAgBE,+DAAhB,CAA1B;EACA,MAAMI,WAAW,GAAGP,qDAAS,CAACC,0EAAD,EAAgBG,yDAAhB,CAA7B;EAEArU,sDAAe,CAAC,MAAM;IACpBwU,WAAW,CAACC,SAAZ,GAAwBN,gDAAxB;IACAK,WAAW,CAACG,SAAZ,GAAwBR,gDAAxB;EACD,CAHc,EAGZ,CAACK,WAAD,CAHY,CAAf;EAKAxU,sDAAe,CAAC,MAAM;IACpBuU,QAAQ,CAACK,KAAT,GAAiBT,iDAAjB;IACAI,QAAQ,CAACpN,MAAT,CAAgB2F,CAAhB,GAAoB,GAApB;EACD,CAHc,EAGZ,CAACyH,QAAD,CAHY,CAAf;EAKA,MAAMnF,KAAK,GAAGzP,6CAAM,CAACwP,gEAAA,GAAyBC,KAA1B,CAApB;EACA1P,gDAAS,CAAC,MAAM;IACdyP,iEAAA,CACGhO,KAAD,IAAW;MACTiO,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;IACD,CAHH;EAKD,CANQ,EAMN,EANM,CAAT;EAQA,MAAM0F,MAAM,GAAGzU,sDAAQ,CAAEc,KAAD,IAAWA,KAAK,CAAC+N,OAAN,CAAc3I,KAA1B,CAAvB;EACA6K,qDAAQ,CAAC,MAAM;IACb3B,GAAG,CAACrH,OAAJ,CAAY2M,QAAZ,CAAqBhI,CAArB,GAAyB+H,MAAM,CAAC1F,KAAK,CAAChH,OAAP,CAA/B;EACD,CAFO,CAAR;EAGA,oBACE;IACE,GAAG,EAAEqH,GADP;IAEE,QAAQ,EAAE,CAAC,CAAD,EAAIqF,MAAM,CAAC,CAAD,CAAV,EAAe,CAAf,CAFZ;IAGE,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAHZ;IAAA,wBAKE;MAAgB,MAAM,EAAC,UAAvB;MAAkC,IAAI,EAAE,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR;IAAxC,EALF,eAME;MACE,MAAM,EAAC,UADT;MAEE,GAAG,EAAEP,QAFP;MAGE,WAAW,EAAEC;IAHf,EANF;EAAA,EADF;AAcD;;AAED,iEAAeF,KAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3DA;;AACA;AACA;AACA;CAEA;;AACA;AACA;;;;AAEA,MAAMnK,QAAQ,GAAG,IAAI,EAArB;;AAEA,SAAS8K,KAAT,GAAiB;EACf,MAAMC,WAAW,GAAGtV,kDAAW,CAAEwP,KAAD,IAAW;IACzCD,gEAAA,CAAuB;MAAEC;IAAF,CAAvB;EACD,CAF8B,EAE5B,EAF4B,CAA/B;EAIA,MAAM;IACJE,QADI;IACMC,KADN;IACaQ,UADb;IACyBG,WADzB;IACsCF,UADtC;IACkDI;EADlD,IAEF/P,sDAAQ,CACTc,KAAD,KAAY;IACViP,SAAS,EAAEjP,KAAK,CAACiP,SADP;IAEVb,KAAK,EAAEpO,KAAK,CAACoO,KAFH;IAGVQ,UAAU,EAAE5O,KAAK,CAAC4O,UAHR;IAIVG,WAAW,EAAE/O,KAAK,CAAC+O,WAJT;IAKVF,UAAU,EAAE7O,KAAK,CAAC6O,UALR;IAMVV,QAAQ,EAAEnO,KAAK,CAACmO;EANN,CAAZ,CADU,EASVrP,uDATU,CAFZ;EAcA,MAAMmP,KAAK,GAAGzP,6CAAM,CAAC,CAAD,CAApB;EACAyR,qDAAQ,CAAC,CAAC;IAAEuC;EAAF,CAAD,EAAYvF,KAAZ,KAAsB;IAC7B,IAAIgH,QAAQ,GAAGhG,KAAK,CAAChH,OAAN,GAAgB3G,IAAI,CAAC4T,KAAL,CAC7B9I,mDAAM,IAAK6B,KAAK,GAAG,IAAR,GAAe4G,sDAAf,GAA2BzF,KAA5B,GAAsC3G,uDAA1C,CADuB,CAA/B;;IAIA,IAAIwM,QAAQ,IAAI7I,mDAAM,GAAG,CAAzB,EAA4B;MAC1B6I,QAAQ,GAAG,CAAX;;MAEA,IAAI,CAACrF,UAAL,EAAiB;QACfG,WAAW,CAAC,IAAD,CAAX,CADe,CAEf;;QACA,OAHe,CAIf;MACD;IACF;;IAED,IAAIkF,QAAQ,KAAKhG,KAAK,CAAChH,OAAvB,EAAgC;MAC9BgH,KAAK,CAAChH,OAAN,GAAgBgN,QAAhB;MACAF,WAAW,CAACE,QAAD,CAAX;IACD;EACF,CApBO,CAAR;EAsBA,MAAM;IAAEzB;EAAF,IAAYT,qDAAQ,EAA1B;EAEAxT,gDAAS,CAAC,MAAM;IACd,IAAI4P,QAAQ,IAAIU,UAAhB,EAA4B2D,KAAK,CAAC2B,IAAN,GAA5B,KACK3B,KAAK,CAAClJ,KAAN;EACN,CAHQ,EAGN,CAAC6E,QAAD,EAAWU,UAAX,CAHM,CAAT;EAKA,OAAO,IAAP;AACD;;AAED,iEAAeiF,KAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/DA;;AACA;;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAEA,MAAM1O,KAAK,GAAG,IAAI4N,0CAAJ,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAd;;AAEA,SAAS7S,SAAT,CAAmB;EACjB2F;AADiB,CAAnB,EAEG;EACD,MAAM;IACJ8J,QADI;IACMN,WADN;IACmBZ;EADnB,IAEFxP,sDAAQ,CACTc,KAAD,KAAY;IACV4P,QAAQ,EAAE5P,KAAK,CAAC4P,QADN;IAEVN,WAAW,EAAEtP,KAAK,CAACsP,WAFT;IAGVZ,gBAAgB,EAAE1O,KAAK,CAAC0O,gBAAN,CAAuBU,GAAvB,CAA2BtJ,SAAS,CAACuE,EAArC;EAHR,CAAZ,CADU,EAMVvL,uDANU,CAFZ;EAUA,MAAMwV,MAAM,GAAG9V,6CAAM,EAArB;EACA,MAAM8P,GAAG,GAAG7P,kDAAW,CAAE8V,IAAD,IAAU;IAChC,IAAIA,IAAI,KAAK,IAAb,EAAmB;MACjB3E,QAAQ,CAAC9J,SAAS,CAACuE,EAAX,EAAekK,IAAf,CAAR;MACAD,MAAM,CAACrN,OAAP,GAAiBsN,IAAjB;IACD;EACF,CALsB,EAKpB,EALoB,CAAvB;EAMA,MAAMtG,KAAK,GAAGzP,6CAAM,CAACwP,gEAAA,GAAyBC,KAA1B,CAApB;EACA1P,gDAAS,CAAC,MAAM;IACdyP,iEAAA,CACGhO,KAAD,IAAW;MACTiO,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;IACD,CAHH;EAKD,CANQ,EAMN,EANM,CAAT;EAQAgC,qDAAQ,CAAC,CAAC;IAAEuC;EAAF,CAAD,EAAYvF,KAAZ,KAAsB;IAC7BqH,MAAM,CAACrN,OAAP,CAAe0K,QAAf,CAAwBhG,CAAxB,GAA4B7F,SAAS,CAACR,SAAV,CAAoBqG,CAApB,CAAsBsC,KAAK,CAAChH,OAA5B,CAA5B;IACAqN,MAAM,CAACrN,OAAP,CAAe0K,QAAf,CAAwB/F,CAAxB,GAA4B9F,SAAS,CAACR,SAAV,CAAoBsG,CAApB,CAAsBqC,KAAK,CAAChH,OAA5B,CAA5B;IACAqN,MAAM,CAACrN,OAAP,CAAe0K,QAAf,CAAwB9F,CAAxB,GAA4B/F,SAAS,CAACR,SAAV,CAAoBuG,CAApB,CAAsBoC,KAAK,CAAChH,OAA5B,CAA5B;IAEA,MAAM2K,MAAM,GAAGxM,KAAK,CAACoP,KAAN,GAAcC,GAAd,CAAkBH,MAAM,CAACrN,OAAP,CAAe0K,QAAjC,CAAf;IACA2C,MAAM,CAACrN,OAAP,CAAe2K,MAAf,CAAsBxM,KAAtB;EACD,CAPO,CAAR;EASA,oBACE,uDAAC,uDAAD;IACE,GAAG,EAAEkJ,GADP;IAEE,KAAK,EAAE,IAFT,CAGE;IAHF;IAIE,KAAK,EAAEI,gBAAgB,CAACoB,KAAjB,IAA0B,KAJnC;IAKE,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CALN;IAAA,UAOGpB,gBAAgB,CAACd,SAAjB,gBACC,uDAAC,mDAAD;MACE,KAAK,EAAE;QACL8G,UAAU,EAAE,YADP;QAEL5E,KAAK,EAAE,OAFF;QAGL6E,QAAQ,EAAE,MAHL;QAILC,KAAK,EAAE,OAJF;QAKLC,MAAM,EAAE;MALH,CADT;MAAA,uBASE;QAAA,UACG/O,SAAS,CAAChF;MADb;IATF,EADD,GAeC;EAtBJ,EADF;AA2BD;;AAED,iEAAeX,SAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,SAAS4U,UAAT,GAAsB;EACpB,MAAM;IACJlQ,SADI;IACOe,WADP;IACoBM,KADpB;IAC2ByI;EAD3B,IAEFzP,qDAAQ,CACTc,KAAD,KAAY;IACV6E,SAAS,EAAE7E,KAAK,CAAC+N,OAAN,CAAc3L,UAAd,CAAyByC,SAD1B;IAEVe,WAAW,EAAE5F,KAAK,CAAC+N,OAAN,CAAc3L,UAAd,CAAyBwD,WAF5B;IAGVM,KAAK,EAAElG,KAAK,CAAC+N,OAAN,CAAc7H,KAHX;IAIVyI,YAAY,EAAE3O,KAAK,CAAC2O;EAJV,CAAZ,CADU,EAOV7P,uDAPU,CAFZ;EAWA,MAAMuU,WAAW,GAAGP,qDAAS,CAACC,gDAAD,EAAgBG,yDAAhB,CAA7B;EAEA,oBACE;IAAA,wBACE,wDAAC,wDAAD;MACE,QAAQ,EAAEvE,YAAY,CAACzO,KAAb,CAAmBC,SAAnB,CAA6BC,QADzC;MAAA,wBAGE;QACE,WAAW,EAAEiT;MADf,EAHF,EAMGzN,WAAW,CAACd,GAAZ,CAAiBgB,SAAD,iBACf,uDAAC,kDAAD;QACE,SAAS,EAAEA;MADb,GAEOA,SAAS,CAACuE,EAFjB,CADD,CANH,EAYGxF,SAAS,CAACC,GAAV,CAAegB,SAAD,iBACb,uDAAC,kDAAD;QACE,SAAS,EAAEA;MADb,GAEOA,SAAS,CAACuE,EAFjB,CADD,CAZH;IAAA,EADF,EAoBGnE,KAAK,CAACpB,GAAN,CAAW8L,IAAD,iBACT,uDAAC,6CAAD;MACE,IAAI,EAAEA,IADR;MAGE,QAAQ,EAAE/L,SAAS,CAACmQ,IAAV,CAAgBjQ,QAAD,IAAcA,QAAQ,CAACsF,EAAT,KAAgBuG,IAAI,CAACnE,UAAlD,CAHZ;MAIE,UAAU,EAAE7G,WAAW,CAACoP,IAAZ,CAAkB7O,UAAD,IAAgBA,UAAU,CAACkE,EAAX,KAAkBuG,IAAI,CAAClE,YAAxD;IAJd,GAEOkE,IAAI,CAACvG,EAFZ,CADD,CApBH;EAAA,EADF;AA+BD;;AAED,iEAAe0K,UAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1DA;;AACA;;AACA;AACA;;;;AAEA,MAAME,SAAS,GAAG,CAACL,KAAD,EAAQC,MAAR,EAAgBK,MAAhB,KAA2B;EAC3C,MAAMC,QAAQ,GAAG,IAAInC,2CAAJ,EAAjB,CAD2C,CAE3C;;EACA,MAAMlC,OAAO,GAAG,IAAIkC,0CAAJ,CAAkBkC,MAAlB,CAAhB;EACApE,OAAO,CAACG,WAAR,GAAsB,IAAtB,CAJ2C,CAK3C;;EACA,MAAMF,QAAQ,GAAG,IAAIiC,oDAAJ,CAA4B;IAC3ClO,GAAG,EAAEgM,OADsC;IAE3CI,QAAQ,EAAE8B,mDAFiC;IAG3ClD,KAAK,EAAE,QAHoC;IAI3CqB,IAAI,EAAE6B,6CAJqC;IAK3C5B,UAAU,EAAE,KAL+B;IAM3CC,WAAW,EAAE;EAN8B,CAA5B,CAAjB;EASA,MAAMjR,QAAQ,GAAG,IAAI4S,gDAAJ,CAAwB4B,KAAxB,EAA+BC,MAA/B,CAAjB,CAf2C,CAgB3C;EACA;EACA;EACA;EACA;EACA;;EACA,MAAMO,OAAO,GAAG,CAAhB;;EACA,KAAK,IAAIhI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgI,OAApB,EAA6BhI,CAAC,EAA9B,EAAkC;IAChC,MAAMkE,IAAI,GAAG,IAAI0B,uCAAJ,CAAe5S,QAAf,EAAyB2Q,QAAzB,CAAb;IACAO,IAAI,CAACgE,UAAL,CAAgBV,KAAK,GAAG,CAAxB;IACAtD,IAAI,CAACsC,QAAL,CAAcjI,CAAd,GAAmByB,CAAC,GAAGgI,OAAL,GAAgB9U,IAAI,CAACC,EAAvC;IACA+Q,IAAI,CAACiE,OAAL,CAAa,CAACjV,IAAI,CAACC,EAAN,GAAW,CAAxB;IACA4U,QAAQ,CAAC5D,GAAT,CAAaD,IAAb;EACD;;EACD,OAAO6D,QAAP;AACD,CA/BD;;AAiCA,MAAMzE,cAAc,GAAG,CAACkE,KAAD,EAAQ7D,QAAR,KAAqB;EAC1C,MAAM3Q,QAAQ,GAAG,IAAI4S,gDAAJ,CAAwB4B,KAAxB,EAA+B,IAA/B,CAAjB;EACA,MAAMQ,OAAO,GAAG,CAAhB;EACA,MAAMpE,MAAM,GAAG,EAAf;;EACA,KAAK,IAAI5D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgI,OAApB,EAA6BhI,CAAC,EAA9B,EAAkC;IAChC,MAAMkE,IAAI,GAAG,IAAI0B,uCAAJ,CAAe5S,QAAf,EAAyB2Q,QAAzB,CAAb;IACAO,IAAI,CAACgE,UAAL,CAAgBV,KAAK,GAAG,CAAxB;IACAtD,IAAI,CAACsC,QAAL,CAAcjI,CAAd,GAAmByB,CAAC,GAAGgI,OAAL,GAAgB9U,IAAI,CAACC,EAAvC;IACA+Q,IAAI,CAACiE,OAAL,CAAa,CAACjV,IAAI,CAACC,EAAN,GAAW,CAAxB;IACAyQ,MAAM,CAAC/K,IAAP,CAAYqL,IAAZ;EACD;;EACD,OAAON,MAAP;AACD,CAZD;;AAcA,SAASP,uBAAT,GAAmC;EACjC;EACA,MAAMyE,MAAM,GAAGM,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;EACA,MAAMC,OAAO,GAAGR,MAAM,CAACS,UAAP,CAAkB,IAAlB,CAAhB;EACAT,MAAM,CAACN,KAAP,GAAe,CAAf;EACAM,MAAM,CAACL,MAAP,GAAgB,CAAhB,CALiC,CAMjC;;EACA,MAAMe,QAAQ,GAAGF,OAAO,CAACG,oBAAR,CACf,CADe,EAEf,CAFe,EAGfX,MAAM,CAACN,KAHQ,EAIfM,MAAM,CAACL,MAJQ,CAAjB;EAMAe,QAAQ,CAACE,YAAT,CAAsB,CAAtB,EAAyB,uBAAzB;EACAF,QAAQ,CAACE,YAAT,CAAsB,GAAtB,EAA2B,uBAA3B;EACAF,QAAQ,CAACE,YAAT,CAAsB,GAAtB,EAA2B,uBAA3B;EACAF,QAAQ,CAACE,YAAT,CAAsB,GAAtB,EAA2B,uBAA3B;EACAF,QAAQ,CAACE,YAAT,CAAsB,GAAtB,EAA2B,uBAA3B,EAjBiC,CAkBjC;;EACAJ,OAAO,CAACK,SAAR,GAAoBH,QAApB;EACAF,OAAO,CAACM,QAAR,CAAiB,CAAjB,EAAoB,CAApB,EAAuBd,MAAM,CAACN,KAA9B,EAAqCM,MAAM,CAACL,MAA5C,EApBiC,CAqBjC;;EACA,OAAOK,MAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3ED;;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEA,SAAS1V,UAAT,GAAsB;EACpB,MAAMgX,OAAO,GAAGhY,6CAAM,EAAtB;EACA,MAAMiY,SAAS,GAAGjY,6CAAM,EAAxB;EACA,MAAM2P,QAAQ,GAAGjP,sDAAQ,CAAEc,KAAD,IAAWA,KAAK,CAACmO,QAAlB,CAAzB;EAEA,MAAM,CAACuI,GAAD,EAAMC,MAAN,IAAgBrY,+CAAQ,CAAC,CAAD,CAA9B;EACA,oBAEE,uDAAC,uDAAD;IAAU,IAAI,EAAC,eAAf;IAAA,uBACE;MACE,GAAG,EAAEmY,SADP;MAEE,KAAK,EAAE;QACL7B,KAAK,EAAE,MADF;QAELC,MAAM,EAAE,MAFH;QAGLlD,QAAQ,EAAE,UAHL,CAIL;;MAJK,CAFT;MAAA,wBASE,uDAAC,sDAAD,KATF,eAUE;QACE,GAAG,EAAE6E,OADP;QAEE,KAAK,EAAE;UACL5B,KAAK,EAAE,MADF;UAELC,MAAM,EAAE,MAFH;UAGL+B,OAAO,EAAE,cAHJ;UAILC,MAAM,EAAE;QAJH;MAFT,EAVF,eAoBE,uDAAC,uDAAD;QACE,SAAS,EAAC,QADZ;QAEE,SAAS,EAAG7W,KAAD,IAAW;UACpBA,KAAK,CAAC8W,MAAN,CAAaC,OAAb,CAAqBN,SAAS,CAACxP,OAA/B;QACD,CAJH;QAKE,KAAK,EAAE;UACL+P,aAAa,EAAE,MADV;UAELrF,QAAQ,EAAE,OAFL;UAGLsF,GAAG,EAAE,KAHA;UAILC,IAAI,EAAE;QAJD,CALT;QAWE,GAAG,EAAER,GAXP;QAAA,uBAcE,uDAAC,oDAAD;UAAM,KAAK,EAAEF,OAAb;UAAA,uBACE,wDAAC,2CAAD;YAAA,wBAEE,uDAAC,kEAAD;cACE,QAAQ,EAAE,CAAC;gBAAEW;cAAF,CAAD,KAAgBR,MAAM,CAAC,CAAC,OAAO,MAAMQ,MAAd,EAAsBC,OAAtB,CAA8B,CAA9B,CAAD;YADlC,EAFF,eAKE,uDAAC,+CAAD,KALF,eAME,uDAAC,8CAAD,KANF,eAOE,uDAAC,qDAAD;cACE,MAAM,EAAE,GADV,CACe;cADf;cAEE,KAAK,EAAE,EAFT,CAEa;cAFb;cAGE,KAAK,EAAE,IAHT,CAGe;cAHf;cAIE,MAAM,EAAE,CAJV,CAIa;cAJb;cAKE,UAAU,EAAE,CALd,CAKiB;cALjB;cAME,IAAI,MANN;cAOE,KAAK,EAAEjJ,QAAQ,GAAG,CAAH,GAAO;YAPxB,EAPF,eAiBE,uDAAC,4CAAD,KAjBF,eAkBE,uDAAC,8CAAD,KAlBF,eAmBE,uDAAC,mDAAD,KAnBF;UAAA;QADF;MAdF,EApBF;IAAA;EADF,EAFF;AAkED;;AAED,iEAAe3O,UAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1FA;;AACA;;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEA,SAAS8W,GAAT,GAAe;EACb,MAAMhI,GAAG,GAAG9P,6CAAM,EAAlB;EAEA,MAAMyP,KAAK,GAAGzP,6CAAM,CAACwP,gEAAA,GAAyBC,KAA1B,CAApB;EAEA1P,gDAAS,CAAC,MAAM;IACdyP,iEAAA,CACGhO,KAAD,IAAW;MACTiO,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;IACD,CAHH;EAKD,CANQ,EAMN,EANM,CAAT;EAQA,MAAM0D,QAAQ,GAAGzS,sDAAQ,CAAEc,KAAD,IAAWA,KAAK,CAAC+N,OAAN,CAAc5I,GAA1B,CAAzB;EACA8K,qDAAQ,CAAC,CAAC;IAAEuC;EAAF,CAAD,KAAe;IACtBlE,GAAG,CAACrH,OAAJ,CAAY0K,QAAZ,CAAqBhG,CAArB,GAAyBgG,QAAQ,CAAChG,CAAT,CAAWsC,KAAK,CAAChH,OAAjB,CAAzB;IACAqH,GAAG,CAACrH,OAAJ,CAAY0K,QAAZ,CAAqB/F,CAArB,GAAyB+F,QAAQ,CAAC/F,CAAT,CAAWqC,KAAK,CAAChH,OAAjB,CAAzB;IACAqH,GAAG,CAACrH,OAAJ,CAAY0K,QAAZ,CAAqB9F,CAArB,GAAyB8F,QAAQ,CAAC9F,CAAT,CAAWoC,KAAK,CAAChH,OAAjB,CAAzB;EACD,CAJO,CAAR;EAKA,oBACE;IAAO,GAAG,EAAEqH,GAAZ;IAAA,uBACE;MACE,KAAK,EAAE,QADT;MAEE,SAAS,EAAE,GAFb;MAGE,QAAQ,EAAE,CAACqD,QAAQ,CAAChG,CAAT,CAAW,CAAX,CAAD,EAAgBgG,QAAQ,CAAC/F,CAAT,CAAW,CAAX,CAAhB,EAA+B+F,QAAQ,CAAC9F,CAAT,CAAW,CAAX,CAA/B;IAHZ;EADF,EADF;AAiBD;;AAED,iEAAeyK,GAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDA;;AACA;;AACA;AAEA;AACA;AAKA;AACA;AACA;AACA;AACA;;;;;;;AAEA,SAASmC,WAAT,GAAuB;EACrB,MAAM;IACJtK,QADI;IACMc,SADN;IACiBb,KADjB;IACwBc,QADxB;IACkCN,UADlC;IAC8CE,OAD9C;IACuDD;EADvD,IAEF3P,sDAAQ,CACTc,KAAD,KAAY;IACVmO,QAAQ,EAAEnO,KAAK,CAACmO,QADN;IAEVc,SAAS,EAAEjP,KAAK,CAACiP,SAFP;IAGVb,KAAK,EAAEpO,KAAK,CAACoO,KAHH;IAIVc,QAAQ,EAAElP,KAAK,CAACkP,QAJN;IAKVN,UAAU,EAAE5O,KAAK,CAAC4O,UALR;IAMVE,OAAO,EAAE9O,KAAK,CAAC8O,OANL;IAOVD,UAAU,EAAE7O,KAAK,CAAC6O;EAPR,CAAZ,CADU,EAUV/P,uDAVU,CAFZ;;EAeA,MAAM4Z,YAAY,GAAG,MAAM;IACzBzJ,SAAS,CAAC,CAACd,QAAF,CAAT;EACD,CAFD;;EAIA,MAAMwK,UAAU,GAAI5I,CAAD,IAAO;IACxBjB,OAAO,CAACiB,CAAC,CAACC,MAAF,CAAS4I,OAAV,CAAP;EACD,CAFD;;EAIA,oBACE;IAAA,wBACE,wDAAC,sDAAD;MAAU,EAAE,EAAExa,kDAAd;MAAoB,OAAO,EAAC,eAA5B;MAA4C,KAAK,EAAC,QAAlD;MAAA,wBAEE,uDAAC,oDAAD;QACE,OAAO,EAAEsa,YADX;QAEE,UAAU,EAAE7J,UAFd;QAAA,UAIGV,QAAQ,GAAG,QAAH,GAAc;MAJzB,EAFF,eAQE,wDAAC,uDAAD;QAAW,OAAO,EAAC,MAAnB;QAA0B,SAAS,EAAC,QAApC;QAA6C,EAAE,EAAE,CAAjD;QAAA,gCAEE,uDAAC,qDAAD;UACE,EAAE,EAAC,MADL;UAEE,EAAE,EAAE,CAFN;UAGE,SAAS,EAAES,UAHb;UAIE,QAAQ,EAAE+J;QAJZ,EAFF;MAAA,EARF;IAAA,EADF,eAmBE,wDAAC,sDAAD;MAAA,wBACE,uDAAC,uDAAD;QAAW,OAAO,EAAC,OAAnB;QAAA;MAAA,EADF,eAEE,wDAAC,qDAAD;QACE,IAAI,EAAC,OADP;QAEE,KAAK,EAAEvK,KAFT;QAGE,QAAQ,EAAEc,QAHZ;QAIE,GAAG,EAAE,CAJP;QAKE,GAAG,EAAE,EALP;QAAA,wBAOE,uDAAC,0DAAD;UAAA,uBACE,uDAAC,gEAAD;QADF,EAPF,eAUE,uDAAC,0DAAD,KAVF;MAAA,EAFF;IAAA,EAnBF;EAAA,EADF;AAqCD;;AAED,SAAS2J,cAAT,CAAwB;EACtBzW;AADsB,CAAxB,EAEG;EACD,MAAM;IACJiM,YADI;IACUc,YADV;IACwBE,YADxB;IACsCM;EADtC,IAEFzQ,sDAAQ,CACTc,KAAD,KAAY;IACVqO,YAAY,EAAErO,KAAK,CAACqO,YADV;IAEVc,YAAY,EAAEnP,KAAK,CAACmP,YAFV;IAGVE,YAAY,EAAErP,KAAK,CAACqP,YAHV;IAIVM,aAAa,EAAE3P,KAAK,CAAC2P;EAJX,CAAZ,CADU,EAOV7Q,uDAPU,CAFZ;EAWA,oBACE;IAAA,wBAEE,wDAAC,qDAAD;MAAQ,QAAQ,EAAGiR,CAAD,IAAO;QACvB,IAAIA,CAAC,CAACC,MAAF,CAAS3G,KAAT,KAAmB,OAAvB,EAAgCgG,YAAY,GAA5C,KACKF,YAAY,CAACY,CAAC,CAACC,MAAF,CAAS3G,KAAV,CAAZ;MACN,CAHD;MAAA,wBAKE;QAAQ,KAAK,EAAC,OAAd;QAAA;MAAA,EALF,EAMGjH,UAAU,CAACyC,SAAX,CAAqBC,GAArB,CAA0BC,QAAD,iBACxB;QAA0B,KAAK,EAAEA,QAAQ,CAACsF,EAA1C;QAAA,UAA+CtF,QAAQ,CAACjE;MAAxD,GAAaiE,QAAQ,CAACsF,EAAtB,CADD,CANH;IAAA,EAFF,eAaE,uDAAC,sDAAD;MAAA,uBACE,wDAAC,yDAAD;QACE,QAAQ,EAAGyO,CAAD,IAAOnJ,aAAa,CAACmJ,CAAC,KAAK,GAAP,CADhC;QAEE,KAAK,EAAEzK,YAAY,CAACE,IAAb,GAAoB,GAApB,GAA0B,GAFnC;QAGE,QAAQ,EAAEF,YAAY,CAACvN,IAAb,KAAsB,OAHlC;QAIE,EAAE,EAAE1C,kDAJN;QAKE,OAAO,EAAC,cALV;QAME,KAAK,EAAC,MANR;QAAA,wBAQE,uDAAC,oDAAD;UAAO,KAAK,EAAC,GAAb;UAAA;QAAA,EARF,eASE,uDAAC,oDAAD;UAAO,KAAK,EAAC,GAAb;UAAA;QAAA,EATF;MAAA;IADF,EAbF;EAAA,EADF;AA6BD;AAED;;;AACA,SAASa,QAAT,GAAoB;EAClB,MAAMgP,KAAK,GAAGzP,6CAAM,CAACwP,gEAAA,GAAyBC,KAA1B,CAApB;EACA1P,gDAAS,CAAC,MAAM;IACdyP,iEAAA,CACGhO,KAAD,IAAW;MACTiO,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;IACD,CAHH;EAKD,CANQ,EAMN,EANM,CAAT;EAOA,MAAM;IACJjJ,IADI;IACE5C,UADF;IACczC;EADd,IAEFT,sDAAQ,CACTc,KAAD,KAAY;IACVgF,IAAI,EAAEhF,KAAK,CAAC+N,OAAN,CAAc/I,IADV;IAEV5C,UAAU,EAAEpC,KAAK,CAAC+N,OAAN,CAAc3L,UAFhB;IAGVzC,IAAI,EAAEK,KAAK,CAACL;EAHF,CAAZ,CADU,EAMVb,uDANU,CAFZ;EAUA,MAAMia,OAAO,GAAGva,6CAAM,EAAtB;EACA+Z,qDAAS,CAAC,MAAM;IACd,IAAI,CAACQ,OAAO,CAAC9R,OAAb,EAAsB;IACtBuR,0CAAM,CAACO,OAAO,CAAC9R,OAAT,CAAN,CAAwB+R,IAAxB,CAA6B,IAAIpP,IAAJ,CAAS5E,IAAI,CAACiJ,KAAK,CAAChH,OAAP,CAAb,EAA8BgS,QAA9B,GAAyCC,KAAzC,CAA+C,CAA/C,EAAkD,EAAlD,CAA7B;EACD,CAHQ,CAAT;EAIA,oBACE,wDAAC,kDAAD;IAAM,KAAK,EAAC,QAAZ;IAAqB,OAAO,EAAEvZ,IAAI,CAACmB,IAAL,KAAc,YAAd,GAA6B,QAA7B,GAAwC,eAAtE;IAAuF,MAAM,EAAC,MAA9F;IAAA,wBACE,uDAAC,kDAAD;MAAM,GAAG,EAAEiY,OAAX;MAAoB,KAAK,EAAC,MAA1B;MAAiC,CAAC,EAAE,CAApC;MAAA,UAAwC,IAAInP,IAAJ,CAAS5E,IAAI,CAAC,CAAD,CAAb,EAAkBiU,QAAlB,GAA6BC,KAA7B,CAAmC,CAAnC,EAAsC,EAAtC;IAAxC,EADF,eAEE,wDAAC,kDAAD;MAAM,aAAa,EAAE,KAArB;MAAA,wBACE,uDAAC,wDAAD;QAAY,EAAE,EAAE/a,oDAAhB;QAAwB,SAAS,eAAE,uDAAC,8DAAD,KAAnC;QAAA;MAAA,EADF,eAIE,wDAAC,sDAAD;QAAA,wBACE,uDAAC,uDAAD;UAAW,KAAK,EAAC,WAAjB;UAAA,uBACE,uDAAC,WAAD;QADF,EADF,eAIE,uDAAC,yDAAD,KAJF,eAKE,uDAAC,uDAAD;UAAW,KAAK,EAAC,QAAjB;UAAA,uBACE,uDAAC,cAAD;YACE,UAAU,EAAEiE;UADd;QADF,EALF;MAAA,EAJF;IAAA,EAFF;EAAA,EADF;AAqBD;;AAED,iEAAenD,QAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5KA;;AACA;;AACA;;AACA;;AACA;AAEA;AAGA;AACA;AACA;;;;;AAEA,MAAM6Q,KAAK,GAAGqJ,4CAAA,CAAgB,CAAC,OAAD,EAAU,MAAV,EAAkB,uBAAlB,CAAhB,CAAd;AAEA,MAAME,GAAG,GAAGF,mCAAA,GACT9P,KADS,CACFiQ,CAAD,IAAOA,CAAC,CAACjQ,KADN,EAETkQ,UAFS,CAEE,CAACjZ,IAAI,CAACC,EAAN,GAAW,GAFb,EAEkBiZ,QAFlB,CAE2BlZ,IAAI,CAACC,EAAL,GAAU,GAFrC,EAGTkZ,IAHS,CAGJ,IAHI,CAAZ;AAKe,SAASC,KAAT,CAAe;EAAE7E,MAAF;EAAU8E;AAAV,CAAf,EAAqC;EAClD,MAAM1L,KAAK,GAAGzP,6CAAM,CAACwP,gEAAA,GAAyBC,KAA1B,CAApB;EACA1P,gDAAS,CAAC,MAAM;IACdyP,iEAAA,CACGhO,KAAD,IAAW;MACT,IAAIA,KAAK,CAACiO,KAAN,GAAc,CAAd,GAAkBA,KAAK,CAAChH,OAA5B,EAAqC;QAAEgH,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;MAA8B;;MACrE,IAAIA,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAA1B,EAAiCA,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;IAClC,CAJH;EAMD,CAPQ,EAON,EAPM,CAAT;EASA,MAAM2L,IAAI,GAAGpb,6CAAM,EAAnB;;EAEA,MAAMqb,UAAU,GAAG,MAAM;IACvBD,IAAI,CAAC3S,OAAL,GAAe,CACb;MACEoD,EAAE,EAAE,CADN;MAEEhB,KAAK,EAAEsQ,QAAQ,CAACpU,WAAT,CAAqBgB,kBAArB,CAAwC0H,KAAK,CAAChH,OAA9C,IAAyD,GAFlE;MAGE6I,KAAK,EAAG6J,QAAQ,CAACpU,WAAT,CAAqBgB,kBAArB,CAAwC0H,KAAK,CAAChH,OAA9C,IAAyD,IAA1D,GAAkE,OAAlE,GAA4E;IAHrF,CADa,EAMb;MACEoD,EAAE,EAAE,CADN;MAEEhB,KAAK,EAAE,CAACsQ,QAAQ,CAACpU,WAAT,CAAqBe,WAArB,CAAiC2H,KAAK,CAAChH,OAAvC,IACF0S,QAAQ,CAACpU,WAAT,CAAqBgB,kBAArB,CAAwC0H,KAAK,CAAChH,OAA9C,CADC,IACyD,GAHlE;MAIE6I,KAAK,EAAE;IAJT,CANa,EAYb;MACEzF,EAAE,EAAE,CADN;MAEEhB,KAAK,EAAE,MAAOsQ,QAAQ,CAACpU,WAAT,CAAqBe,WAArB,CAAiC2H,KAAK,CAAChH,OAAvC,IAAkD,GAFlE;MAGE6I,KAAK,EAAE;IAHT,CAZa,CAAf;EAkBD,CAnBD;;EAoBA,MAAMgK,GAAG,GAAGX,mCAAA,GAASY,WAAT,CAAqBlF,MAAM,GAAG,CAAT,GAAa,EAAlC,EACTmF,WADS,CACGnF,MAAM,GAAG,CAAT,GAAa,EADhB,CAAZ;EAEA,MAAMoF,MAAM,GAAGzb,6CAAM,EAArB;EAEA,MAAM0b,KAAK,GAAG1b,6CAAM,EAApB;EACA,MAAM2b,aAAa,GAAG3b,6CAAM,EAA5B;EACA,MAAM4b,eAAe,GAAG5b,6CAAM,EAA9B;EACA,MAAM6b,IAAI,GAAG7b,6CAAM,EAAnB;;EACA,MAAM8b,SAAS,GAAG,MAAM;IACtBJ,KAAK,CAACjT,OAAN,GAAgBkS,sCAAA,CAAUc,MAAM,CAAChT,OAAjB,CAAhB;IACAkT,aAAa,CAAClT,OAAd,GAAwBiT,KAAK,CAACjT,OAAN,CAAcsT,SAAd,CAAwB,OAAxB,EAAiCX,IAAjC,CAAsCP,GAAG,CAACO,IAAI,CAAC3S,OAAN,CAAzC,CAAxB;IAEAkT,aAAa,CAAClT,OAAd,CAAsBuT,IAAtB,GAA6BC,MAA7B;IAEAL,eAAe,CAACnT,OAAhB,GAA0BkT,aAAa,CAAClT,OAAd,CACvByT,KADuB,GAEvBC,MAFuB,CAEhB,GAFgB,EAGvBC,IAHuB,CAGlB,OAHkB,EAGT,KAHS,CAA1B;IAKAP,IAAI,CAACpT,OAAL,GAAemT,eAAe,CAACnT,OAAhB,CACZ0T,MADY,CACL,MADK,EAEZE,KAFY,CAENV,aAAa,CAAClT,OAAd,CAAsBuR,MAAtB,CAA6B,UAA7B,CAFM,CAAf;IAIA6B,IAAI,CAACpT,OAAL,CACG2T,IADH,CACQ,OADR,EACiB,KADjB,EAEGA,IAFH,CAEQ,GAFR,EAEad,GAFb,EAGGc,IAHH,CAGQ,MAHR,EAGiBtB,CAAD,IAAOxJ,KAAK,CAACwJ,CAAD,CAH5B;EAID,CAnBD;;EAqBA,MAAMwB,SAAS,GAAGtc,6CAAM,EAAxB;EACA+Z,qDAAS,CAAC,MAAM;IACd,IAAIuC,SAAS,KAAK7M,KAAK,CAAChH,OAAxB,EAAiC;IACjC,IAAI,CAACgT,MAAM,CAAChT,OAAZ,EAAqB;IACrB4S,UAAU;IACVS,SAAS;IACTQ,SAAS,CAAC7T,OAAV,GAAoBgH,KAAK,CAAChH,OAA1B;EACD,CANQ,CAAT;EAQA,MAAMqH,GAAG,GAAG7P,kDAAW,CAAE8V,IAAD,IAAU;IAChC0F,MAAM,CAAChT,OAAP,GAAiBsN,IAAjB;IACAsF,UAAU;IAEVS,SAAS,CAACV,IAAI,CAAC3S,OAAN,CAAT;EACD,CALsB,CAAvB;EAOA,oBAEE;IAAK,KAAK,EAAE4N,MAAZ;IAAoB,MAAM,EAAEA,MAAM,GAAG,CAArC;IAAA,uBACE;MACE,GAAG,EAAEvG,GADP;MAEE,SAAS,EAAG,aAAYuG,MAAM,GAAG,CAAE,IAAGA,MAAM,GAAG,CAAE;IAFnD;EADF,EAFF;AASD,EACD;AACA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjHA;;AACA;;AACA;;AACA;AACA;AAKA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEA,SAAS0G,UAAT,CAAoBhZ,MAApB,EAA4B;EAC1B,OAAOA,MAAM,CAACiZ,MAAP,CAAc,CAAd,EAAiBC,WAAjB,KAAiClZ,MAAM,CAAC2W,KAAP,CAAa,CAAb,CAAxC;AACD;;AAED,MAAMwC,SAAS,GAAG,CAChB;EACEhM,GAAG,EAAE,YADP;EAEEiM,KAAK,EAAE,aAFT;EAGEC,YAAY,EAAE,IAHhB;EAIEC,QAAQ,EAAE,CAAC5N,KAAD,EAAQ0L,QAAR,KAAqB;IAC7B,MAAM9Q,UAAU,GAAG8Q,QAAQ,CAAC1U,MAAT,CAAgBQ,IAAhB,CAAqB2E,aAArB,CACjBuP,QAAQ,CAACpU,WAAT,CAAqBc,OAArB,CAA6B4H,KAA7B,CADiB,EAGjB0L,QAAQ,CAACpU,WAAT,CAAqBC,aAArB,CAAmCyI,KAAnC,CAHiB,CAAnB;IAKA,OAAOpF,UAAP;EACD,CAXH;EAYEiT,WAAW,EAAGzS,KAAD,IAAY,GAAGA,KAAD,CAAQ+N,OAAR,CAAgB,CAAhB,CAAmB,GAZhD;EAaE2E,WAAW,EAAE,CAAC9N,KAAD,EAAQ0L,QAAR,KAAqB4B,UAAU,CAAC5B,QAAQ,CAACpU,WAAT,CAAqBc,OAArB,CAA6B4H,KAA7B,CAAD;AAb9C,CADgB,EAgBhB;EACEyB,GAAG,EAAE,aADP;EAEEiM,KAAK,EAAE,aAFT;EAGEC,YAAY,EAAE,KAHhB;EAIEC,QAAQ,EAAE,CAAC5N,KAAD,EAAQ0L,QAAR,KAAqBA,QAAQ,CAAC1U,MAAT,CAAgBQ,IAAhB,CAAqB3B,MAArB,CAC7B6V,QAAQ,CAACpU,WAAT,CAAqBC,aAArB,CAAmCyI,KAAnC,CAD6B,EAE7B9J,WANJ;EAOE2X,WAAW,EAAGzS,KAAD,IAAY,GAAEA,KAAM,GAPnC;EAQE0S,WAAW,EAAE,CAAC9N,KAAD,EAAQ0L,QAAR,KAAsB,GAAE4B,UAAU,CAAC5B,QAAQ,CAAC1U,MAAT,CAAgBQ,IAAhB,CAAqB3B,MAArB,CAA4B6V,QAAQ,CAACpU,WAAT,CAAqBC,aAArB,CAAmCyI,KAAnC,CAA5B,EAAuEnN,IAAxE,CAA8E;AAR/H,CAhBgB,EA2BhB;EACE4O,GAAG,EAAE,aADP;EAEEiM,KAAK,EAAE,EAFT;EAGEC,YAAY,EAAE,KAHhB;EAIEC,QAAQ,EAAE,CAAC5N,KAAD,EAAQ0L,QAAR,KAAqBA,QAAQ,CAACpU,WAAT,CAAqBgB,kBAArB,CAAwC0H,KAAxC,IAAiD,GAJlF;EAKE6N,WAAW,EAAGzS,KAAD,IAAY,GAAGA,KAAD,CAAQ2S,WAAR,CAAoB,CAApB,CAAuB,GALpD;EAMED,WAAW,EAAE,MAAM,gBANrB;EAOEE,aAAa,EAAE,CAAChO,KAAD,EAAQ0L,QAAR,KAAsB,GAAE,CAACA,QAAQ,CAACpU,WAAT,CAAqBe,WAArB,CAAiC2H,KAAjC,IAA0C,GAA3C,EAAgD+N,WAAhD,CAA4D,CAA5D,CAA+D;AAPxG,CA3BgB,CAAlB;;AAsCA,SAAS3c,GAAT,GAAe;EACb,MAAM;IACJ+C,UADI;IACQkN,WADR;IACqBC,eADrB;IACsCJ,YADtC;IAEJE,YAFI;IAEUhB,YAFV;IAEwBK,gBAFxB;IAE0C/O,IAF1C;IAEgDkP,UAFhD;IAE4DV;EAF5D,IAGFjP,sDAAQ,CACTc,KAAD,KAAY;IACVoC,UAAU,EAAEpC,KAAK,CAAC+N,OAAN,CAAc3L,UADhB;IAEVkN,WAAW,EAAEtP,KAAK,CAACsP,WAFT;IAGVC,eAAe,EAAEvP,KAAK,CAACuP,eAHb;IAIVb,gBAAgB,EAAE1O,KAAK,CAAC0O,gBAJd;IAKVS,YAAY,EAAEnP,KAAK,CAACmP,YALV;IAMVE,YAAY,EAAErP,KAAK,CAACqP,YANV;IAOVhB,YAAY,EAAErO,KAAK,CAACqO,YAPV;IAQV1O,IAAI,EAAEK,KAAK,CAACL,IARF;IASVkP,UAAU,EAAE7O,KAAK,CAAC6O,UATR;IAUVV,QAAQ,EAAEnO,KAAK,CAACmO;EAVN,CAAZ,CADU,EAaVrP,uDAbU,CAHZ,CADa,CAoBb;EACA;;EACA,MAAM,CAAC6a,QAAD,EAAWuC,WAAX,IAA0B5d,+CAAQ,CAAC8D,UAAU,CAACyC,SAAX,CAAqB,CAArB,CAAD,CAAxC;EACAtG,gDAAS,CAAC,MAAM;IACd;IACA2d,WAAW,CAAC,MAAM9Z,UAAU,CAACyC,SAAX,CAAqB,CAArB,CAAP,CAAX;EACD,CAHQ,EAGN,CAACzC,UAAD,CAHM,CAAT;;EAKA,MAAM+Z,qBAAqB,GAAIpM,CAAD,IAAO;IACnC,MAAMqM,SAAS,GAAGrM,CAAC,CAACC,MAAF,CAAS3G,KAA3B;;IACA,IAAI+S,SAAS,KAAK,OAAlB,EAA2B;MACzBF,WAAW,CAAC,MAAM9Z,UAAU,CAACyE,KAAlB,CAAX;IACD,CAFD,MAEO;MACLqV,WAAW,CAAC,MAAM9Z,UAAU,CAACyC,SAAX,CAAqBmQ,IAArB,CAA2BjQ,QAAD,IAC1CA,QAAQ,CAACsF,EAAT,KAAgB+R,SADA,CAAP,CAAX;IAED;EACF,CARD;;EAUA,MAAMC,WAAW,GAAG,MAAM;IACxB/M,WAAW,CAACqK,QAAQ,CAACtP,EAAV,CAAX;EACD,CAFD;;EAIA,MAAMiS,YAAY,GAAG,MAAM;IACzB,IAAIjO,YAAY,CAAChE,EAAb,KAAoBsP,QAAQ,CAACtP,EAAjC,EAAqCgF,YAAY,GAAjD,KACKF,YAAY,CAACwK,QAAQ,CAACtP,EAAV,CAAZ;EACN,CAHD;;EAKA,MAAMkS,aAAa,GAAG,MAAM;IAC1BhN,eAAe,CAAC,KAAD,CAAf;EACD,CAFD;;EAIA,MAAMtB,KAAK,GAAGzP,6CAAM,CAACwP,gEAAA,GAAyBC,KAA1B,CAApB;EACA1P,gDAAS,CAAC,MAAM;IACdyP,iEAAA,CACGhO,KAAD,IAAW;MACT,IAAIA,KAAK,CAACiO,KAAN,GAAc,EAAd,GAAmBA,KAAK,CAAChH,OAA7B,EAAsCgH,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;MACtC,IAAIA,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAA1B,EAAiCA,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;IAClC,CAJH;EAMD,CAPQ,EAON,EAPM,CAAT,CApDa,CA6Db;;EACA,MAAMuO,QAAQ,GAAGhe,6CAAM,CAAC,IAAIiQ,GAAJ,EAAD,CAAvB;EACA,MAAMgO,cAAc,GAAGhe,kDAAW,CAAE8V,IAAD,IAAU;IAC3C,IAAI,CAACA,IAAL,EAAW;IACX,MAAMmI,IAAI,GAAGhB,SAAS,CAAC1G,IAAV,CAAgB8D,CAAD,IAAOA,CAAC,CAACpJ,GAAF,KAAU6E,IAAI,CAAClK,EAArC,CAAb;IACAmS,QAAQ,CAACvV,OAAT,CAAiBiH,GAAjB,CACEwO,IAAI,CAAChN,GADP,EAEE,EACE,GAAGgN,IADL;MAEEpO,GAAG,EAAEiG;IAFP,CAFF;EAOD,CAViC,EAU/B,EAV+B,CAAlC;EAYA,MAAMuG,SAAS,GAAGtc,6CAAM,EAAxB;EACA+Z,qDAAS,CAAC,MAAM;IACd,IAAIuC,SAAS,CAAC7T,OAAV,KAAsBgH,KAAK,CAAChH,OAAhC,EAAyC;IACzC,IAAIgH,KAAK,CAAChH,OAAN,GAAgBmE,mDAApB,EAA4B;IAC5B,IAAI+C,QAAQ,IAAIU,UAAhB,EAA4B;IAC5B2N,QAAQ,CAACvV,OAAT,CAAiB5B,OAAjB,CAA0BqX,IAAD,IAAU;MACjC,IAAI,CAACA,IAAI,CAACpO,GAAV,EAAe;MACf,MAAMqO,MAAM,GAAGxD,sCAAA,CAAUuD,IAAI,CAACpO,GAAf,CAAf;;MAEA,IAAIqL,QAAQ,CAAC7Y,IAAT,KAAkB,OAAlB,IAA6B4b,IAAI,CAAChN,GAAL,KAAa,aAA9C,EAA6D;QAC3D,IAAI,CAACiN,MAAM,CAACC,OAAP,CAAe,MAAf,CAAL,EAA6BzD,sCAAA,CAAUuD,IAAI,CAACpO,GAAf,EAAoBsO,OAApB,CAA4B,MAA5B,EAAoC,IAApC;QAC7B;MACD;;MACD,IAAID,MAAM,CAACC,OAAP,CAAe,MAAf,CAAJ,EAA4BzD,sCAAA,CAAUuD,IAAI,CAACpO,GAAf,EAAoBsO,OAApB,CAA4B,MAA5B,EAAoC,KAApC;MAC5B,IAAIvT,KAAJ;;MACA,IAAI;QACFA,KAAK,GAAGqT,IAAI,CAACb,QAAL,CAAc5N,KAAK,CAAChH,OAApB,EAA6B0S,QAA7B,CAAR;MACD,CAFD,CAEE,OAAO5P,KAAP,EAAc;QACd8S,OAAO,CAACC,GAAR,CAAY/S,KAAZ,EAAmBkE,KAAK,CAAChH,OAAzB,EAAkC0S,QAAlC,EAA4C+C,IAA5C;QACA;MACD;;MAEDC,MAAM,CAACpC,SAAP,CAAiB,sBAAjB,EACG/B,MADH,CACU,MADV,EAEGQ,IAFH,CAEQ0D,IAAI,CAACZ,WAAL,CAAiBzS,KAAjB,CAFR;MAIAsT,MAAM,CAACpC,SAAP,CAAiB,yBAAjB,EACG/B,MADH,CACU,YADV,EAEGQ,IAFH,CAEQ0D,IAAI,CAACX,WAAL,CAAiB9N,KAAK,CAAChH,OAAvB,EAAgC0S,QAAhC,CAFR;;MAIA,IAAI+C,IAAI,CAACT,aAAT,EAAwB;QACtBU,MAAM,CAACpC,SAAP,CAAiB,yBAAjB,EACG/B,MADH,CACU,cADV,EAEGQ,IAFH,CAEQ0D,IAAI,CAACT,aAAL,CAAmBhO,KAAK,CAAChH,OAAzB,EAAkC0S,QAAlC,CAFR;MAGD;;MAED,IAAI+C,IAAI,CAACd,YAAT,EAAuB;QACrB,MAAMmB,OAAO,GAAGJ,MAAM,CAACnE,MAAP,CAAc,yBAAd,EAAyCA,MAAzC,CAAgD,WAAhD,CAAhB;QACA,MAAMwE,SAAS,GAAGL,MAAM,CAACnE,MAAP,CAAc,yBAAd,EAAyCA,MAAzC,CAAgD,aAAhD,CAAlB;;QACA,IAAInP,KAAK,GAAG,CAAZ,EAAe;UACb0T,OAAO,CAACnC,IAAR,CAAa,YAAb,EAA2B,SAA3B;UACAmC,OAAO,CAACE,KAAR,CAAc,UAAd,EAA0B,UAA1B;UACAD,SAAS,CAACpC,IAAV,CAAe,YAAf,EAA6B,QAA7B;UACAoC,SAAS,CAACC,KAAV,CAAgB,UAAhB,EAA4B,UAA5B;QACD,CALD,MAKO;UACLF,OAAO,CAACnC,IAAR,CAAa,YAAb,EAA2B,QAA3B;UACAmC,OAAO,CAACE,KAAR,CAAc,UAAd,EAA0B,UAA1B;UACAD,SAAS,CAACpC,IAAV,CAAe,YAAf,EAA6B,SAA7B;UACAoC,SAAS,CAACC,KAAV,CAAgB,UAAhB,EAA4B,UAA5B;QACD;MACF;IACF,CA9CD;IA+CAnC,SAAS,CAAC7T,OAAV,GAAoBgH,KAAK,CAAChH,OAA1B;EACD,CApDQ,CAAT;EAsDA,IAAI,CAAC7E,UAAL,EAAiB;EACjB,oBACE,uDAAC,uDAAD;IAAU,IAAI,EAAE,eAAhB;IAAiC,MAAM,EAAE,EAAzC;IAA6C,SAAS,EAAEzC,IAAI,CAACmB,IAAL,KAAc,YAAd,GAA6B,EAA7B,GAAkC,uBAA1F;IAAmH,QAAQ,EAAEnB,IAAI,CAACmB,IAAL,KAAc,YAAd,GAA6B,EAA7B,GAAkC,UAA/J;IAAA,uBACE,wDAAC,mDAAD;MAAM,MAAM,EAAC,MAAb;MAAoB,OAAO,EAAC,eAA5B;MAA4C,eAAY,QAAxD;MAAA,wBACE,wDAAC,qDAAD;QAAQ,IAAI,EAAE,CAAd;QAAA,wBACE,uDAAC,kDAAD;UAAK,EAAE,EAAE,CAAT;UAAA,uBACE,wDAAC,qDAAD;YAAQ,QAAQ,EAAEqb,qBAAlB;YAAA,WACG/Z,UAAU,CAACyC,SAAX,CAAqBC,GAArB,CAA0BC,QAAD,iBACxB;cAA0B,KAAK,EAAEA,QAAQ,CAACsF,EAA1C;cAAA,UAA+CtF,QAAQ,CAACjE;YAAxD,GAAaiE,QAAQ,CAACsF,EAAtB,CADD,CADH,eAIE;cAAQ,KAAK,EAAC,OAAd;cAAA;YAAA,EAJF;UAAA;QADF,EADF,EAUGsP,QAAQ,CAAC7Y,IAAT,KAAkB,OAAlB,gBAEG,wDAAC,0DAAD;UAAA,wBACE,uDAAC,qDAAD;YAAQ,OAAO,EAAEub,WAAjB;YAAA,UACG3N,gBAAgB,CAACU,GAAjB,CAAqBuK,QAAQ,CAACtP,EAA9B,EAAkCuD,SAAlC,GAA8C,YAA9C,GAA6D;UADhE,EADF,eAIE,uDAAC,qDAAD,CACE;UACA;UACA;UACA;UAJF;YAKE,OAAO,EAAE0O,YALX;YAAA,UAOGjO,YAAY,CAAChE,EAAb,KAAoBsP,QAAQ,CAACtP,EAA7B,GAAkC,eAAlC,GAAoD;UAPvD,EAJF;QAAA,EAFH,gBAiBG,uDAAC,qDAAD;UAAQ,OAAO,EAAEkS,aAAjB;UAAA,UAAiC;QAAjC,EA3BN;MAAA,EADF,eA8BE,uDAAC,kDAAD;QAAK,MAAM,EAAC,MAAZ;QAAmB,IAAI,EAAE,CAAzB;QAAA,uBACE,uDAAC,qDAAD;UAAA,uBACE,wDAAC,mDAAD;YACE,KAAK,EAAC,QADR;YAEE,GAAG,EAAEE,cAFP;YAGE,EAAE,EAAE,aAHN;YAAA,wBAKE,uDAAC,wDAAD;cAAA;YAAA,EALF,eAME,uDAAC,8CAAD;cACE,MAAM,EAAE,GADV;cAEE,QAAQ,EAAE9C,QAFZ;cAGE,MAAM,EAAE;gBAAEhI,QAAQ,EAAE;cAAZ;YAHV,EANF,eAWE,uDAAC,yDAAD;cAAY,SAAS,EAAC,QAAtB;cAAA,uBACE;YADF,EAXF,eAcE,wDAAC,2DAAD;cAAc,KAAK,EAAC,MAApB;cAAA,wBACE,uDAAC,mDAAD;gBAAM,EAAE,EAAE,MAAV;gBAAkB,SAAS,EAAC,QAA5B;gBAAqC,SAAS,EAAC;cAA/C,EADF,eAEE;gBAAM,SAAS,EAAC;cAAhB,EAFF;YAAA,EAdF;UAAA;QADF;MADF,EA9BF,eAsDE,uDAAC,qDAAD;QAAQ,IAAI,EAAE,CAAd;QAAA,uBACE,uDAAC,kDAAD;UAAA,uBACE,uDAAC,wDAAD;YAAA,UACG+J,SAAS,CAACxC,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,EAAsBpU,GAAtB,CAA2B4X,IAAD,iBACzB,wDAAC,mDAAD;cACE,KAAK,EAAC,MADR;cAGE,EAAE,EAAEA,IAAI,CAAChN,GAHX;cAIE,GAAG,EAAE+M,cAJP;cAAA,wBAME,uDAAC,wDAAD;gBAAA,UAAYC,IAAI,CAACf;cAAjB,EANF,eAOE,uDAAC,yDAAD;gBAAY,SAAS,EAAC,QAAtB;gBAAA,uBAA+B;cAA/B,EAPF,eAQE,wDAAC,2DAAD;gBAAA,WACGe,IAAI,CAACd,YAAL,gBAEG;kBAAA,wBACE,uDAAC,wDAAD;oBAAW,IAAI,EAAC,UAAhB;oBAA2B,SAAS,EAAC;kBAArC,EADF,eAEE,uDAAC,wDAAD;oBAAW,IAAI,EAAC,UAAhB;oBAA2B,SAAS,EAAC;kBAArC,EAFF;gBAAA,EAFH,GAOG,EARN,eASE;kBAAM,SAAS,EAAC;gBAAhB,EATF;cAAA,EARF;YAAA,GAEOc,IAAI,CAAChN,GAFZ,CADD;UADH;QADF;MADF,EAtDF;IAAA;EADF,EADF;AAuFD;;AAED,iEAAerQ,GAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3RA;AAGA;AACA;AACA;;;;;;AAEA,SAASkX,UAAT,GAAsB;EACpB,MAAM;IAAEoH,MAAF;IAAUC,MAAV;IAAkBC;EAAlB,IAA8BJ,+DAAa,EAAjD;EAEA,MAAM;IACJ5O,UADI;IACQE,WADR;IACqBD,OADrB;IAC8BG;EAD9B,IAEF/P,sDAAQ,CAAEc,KAAD,KAAY;IACvB6O,UAAU,EAAE7O,KAAK,CAAC6O,UADK;IAEvBE,WAAW,EAAE/O,KAAK,CAAC+O,WAFI;IAGvBD,OAAO,EAAE9O,KAAK,CAAC8O,OAHQ;IAIvBG,SAAS,EAAEjP,KAAK,CAACiP;EAJM,CAAZ,CAAD,CAFZ;EASA1Q,gDAAS,CAAC,MAAM;IACd,IAAIsQ,UAAJ,EAAgB+O,MAAM;EACvB,CAFQ,EAEN,CAAC/O,UAAD,CAFM,CAAT;;EAIA,MAAMiP,YAAY,GAAI/N,CAAD,IAAO;IAC1BjB,OAAO,CAAC,IAAD,CAAP;IACAC,WAAW,CAAC,KAAD,CAAX;IACA8O,OAAO;EACR,CAJD;;EAKA,oBACE,wDAAC,mDAAD;IAAO,UAAU,MAAjB;IAAkB,MAAM,EAAEF,MAA1B;IAAkC,OAAO,EAAEE,OAA3C;IAAoD,mBAAmB,EAAE,KAAzE;IAAgF,IAAI,EAAC,IAArF;IAAA,wBACE,uDAAC,0DAAD,KADF,eAEE,wDAAC,0DAAD;MAAc,EAAE,EAAC,gBAAjB;MAAA,wBAEE,uDAAC,yDAAD;QAAa,KAAK,EAAC,QAAnB;QAA4B,QAAQ,EAAC,QAArC;QAAA;MAAA,EAFF,eAIE,uDAAC,oDAAD;QAAA,uBACE,uDAAC,uDAAD;UAAA,uBACE,uDAAC,gEAAD;QADF;MADF,EAJF,eASE,uDAAC,yDAAD;QAAA,uBACE,uDAAC,oDAAD;UAAQ,OAAO,EAAEC,YAAjB;UAAA;QAAA;MADF,EATF;IAAA,EAFF;EAAA,EADF;AAsBD;;AAED,iEAAevH,UAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDA;AACA;AACA;AAIA;;;;;;;AAEA,MAAM0H,MAAM,GAAG,CACb;EACE5T,EAAE,EAAE,aADN;EAEE6T,IAAI,EAAE,CAFR;EAGEvC,KAAK,EAAE,aAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKEC,GAAG,EAAE,EALP;EAME0b,KAAK,EAAE;AANT,CADa,EASb;EACE9T,EAAE,EAAE,gBADN;EAEE6T,IAAI,EAAE,IAFR;EAGEvC,KAAK,EAAE,iBAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKEC,GAAG,EAAE,EALP;EAME0b,KAAK,EAAE;AANT,CATa,EAiBb;EACE9T,EAAE,EAAE,cADN;EAEE6T,IAAI,EAAE,KAFR;EAGEvC,KAAK,EAAE,cAHT;EAIEnZ,GAAG,EAAE,CAAC,GAJR;EAKEC,GAAG,EAAE,GALP;EAME0b,KAAK,EAAE;AANT,CAjBa,EAyBb;EACE9T,EAAE,EAAE,SADN;EAEE6T,IAAI,EAAE,KAFR;EAGEvC,KAAK,EAAE,SAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKEC,GAAG,EAAE,EALP;EAME0b,KAAK,EAAE;AANT,CAzBa,EAiCb;EACE9T,EAAE,EAAE,aADN;EAEE6T,IAAI,EAAE,IAFR;EAGEvC,KAAK,EAAE,cAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKEC,GAAG,EAAE,EALP;EAME0b,KAAK,EAAE;AANT,CAjCa,EAyCb;EACE9T,EAAE,EAAE,YADN;EAEE6T,IAAI,EAAE,IAFR;EAGEvC,KAAK,EAAE,aAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKEC,GAAG,EAAE,GALP;EAME0b,KAAK,eACH;IAAA,oCAEE;MAAA;IAAA,EAFF;EAAA;AAPJ,CAzCa,CAAf;;AAwDA,SAASC,WAAT,CAAqB;EAAEC;AAAF,CAArB,EAAiC;EAC/B,MAAM;IAAEV,MAAF;IAAUC,MAAV;IAAkBC;EAAlB,IAA8BJ,+DAAa,EAAjD;EACA,oBACE;IAAA,wBACE,wDAAC,oDAAD;MAAQ,OAAO,EAAEG,MAAjB;MAAA,wBACE,uDAAC,0DAAD;QAAc,EAAE,EAAE;MAAlB,EADF;IAAA,EADF,eAME,wDAAC,mDAAD;MAAO,MAAM,EAAED,MAAf;MAAuB,OAAO,EAAEE,OAAhC;MAAyC,IAAI,EAAC,IAA9C;MAAA,wBACE,uDAAC,0DAAD;QAAc,cAAc,EAAC;MAA7B,EADF,eAEE,wDAAC,0DAAD;QAAc,EAAE,EAAC,gBAAjB;QAAkC,KAAK,EAAC,MAAxC;QAAA,wBACE,uDAAC,yDAAD;UAAa,KAAK,EAAC,QAAnB;UAAA;QAAA,EADF,eAEE,uDAAC,8DAAD,KAFF,eAGE,wDAAC,uDAAD;UAAW,KAAK,EAAC,MAAjB;UAAA,wBACE,uDAAC,oDAAD;YAAA,uBACE,uDAAC,0DAAD;cACE,KAAK,EAAEQ,MAAM,CAACxO,MAAP,CAAcjK,WADvB;cAEE,IAAI,EAAC,aAFP;cAGE,MAAM,EAAEyY,MAHV;cAIE,KAAK,EAAC,4BAJR;cAKE,GAAG,EAAE,CALP;cAME,GAAG,EAAE;YANP;UADF,EADF,eAWE;YAAI,KAAK,EAAC,QAAV;YAAA;UAAA,EAXF,eAYE,uDAAC,kDAAD;YAAM,OAAO,EAAC,QAAd;YAAuB,SAAS,EAAC,KAAjC;YAAuC,IAAI,EAAC,MAA5C;YAAmD,KAAK,EAAC,MAAzD;YAAA,UACGJ,MAAM,CAACnZ,GAAP,CAAYwZ,KAAD,iBACV,uDAAC,0DAAD;cACE,KAAK,EAAED,MAAM,CAACxO,MAAP,CAAcnL,OAAd,CAAuB,GAAE4Z,KAAK,CAACjU,EAAG,EAAlC,CADT;cAGE,IAAI,EAAEiU,KAAK,CAACJ,IAHd;cAIE,IAAI,EAAG,WAAUI,KAAK,CAACjU,EAAG,GAJ5B;cAKE,KAAK,EAAEiU,KAAK,CAACH,KALf;cAME,MAAM,EAAEE,MANV;cAOE,KAAK,EAAEC,KAAK,CAAC3C,KAPf;cAQE,GAAG,EAAE2C,KAAK,CAAC9b,GARb;cASE,GAAG,EAAE8b,KAAK,CAAC7b;YATb,GAEO6b,KAAK,CAACjU,EAFb,CADD;UADH,EAZF;QAAA,EAHF,eA+BE,uDAAC,yDAAD;UAAA,uBACE,uDAAC,oDAAD;YAAQ,WAAW,EAAC,MAApB;YAA2B,EAAE,EAAE,CAA/B;YAAkC,OAAO,EAAEwT,OAA3C;YAAA;UAAA;QADF,EA/BF;MAAA,EAFF;IAAA,EANF;EAAA,EADF;AAiDD;;AAED,iEAAeO,WAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrHA;AACA;AAGA;;;;;;AAEA,SAASS,mBAAT,CAA6B;EAC3BxV,KAD2B;EACpBvI,IADoB;EACdge,IADc;EACRC;AADQ,CAA7B,EAEG;EACD,oBACE,uDAAC,yDAAD;IAAA,uBACE,wDAAC,sDAAD;MACE,EAAE,EAAE3gB,kDADN;MAEE,YAAY,MAFd;MAGE,YAAY,EAAEiL,KAHhB;MAIE,KAAK,EAAC,QAJR;MAKE,KAAK,EAAC,MALR;MAME,MAAM,EAAC,SANT;MAOE,OAAO,EAAC,QAPV;MAQE,QAAQ,EAAGyP,CAAD,IAAO;QACfgG,IAAI,CAACE,aAAL,CACG,GAAEle,IAAK,EADV,EAEEgY,CAFF;QAIAiG,QAAQ;MACT,CAdH;MAeE,QAAQ,EAAGjG,CAAD,IAAO;QACfgG,IAAI,CAACE,aAAL,CACG,GAAEle,IAAK,EADV,EAEEgY,CAFF;MAID,CApBH;MAAA,wBAsBE,uDAAC,6DAAD,KAtBF,eAuBE,uDAAC,mDAAD;QACE,SAAS,EAAC,QADZ;QAEE,EAAE,EAAE0F,2DAFN;QAGE,EAAE,EAAC,MAHL;QAIE,IAAI,EAAE1d,IAJR;QAKE,IAAI,EAAC,MALP;QAME,OAAO,EAAC;MANV,EAvBF,eA+BE,uDAAC,yDAAD,KA/BF;IAAA;EADF,EADF;AAqCD;;AAED,iEAAe+d,mBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDA;AACA;AASA;;;;;;AAEA,SAASb,iBAAT,CAA2B;EACzB3U,KADyB;EAClB7G,GADkB;EACbC,GADa;EACRkZ,KADQ;EACD7a,IADC;EACKqd,KADL;EACYD,IADZ;EACkBG;AADlB,CAA3B,EAEG;EACD,MAAMmB,MAAM,GAAGD,6CAAK,CAAClB,MAAM,CAACmB,MAAR,EAAgB1e,IAAhB,CAApB;EAEA,oBACE,wDAAC,yDAAD;IACE,QAAQ,EAAC,KADX;IAEE,CAAC,EAAE,CAFL;IAGE,SAAS,EAAE0e,MAHb;IAIE,EAAE,EAAEphB,kDAJN;IAKE,SAAS,EAAC,QALZ;IAME,KAAK,EAAC,OANR;IAAA,wBAQE,uDAAC,uDAAD;MAAW,OAAO,EAAG,GAAE0C,IAAK,EAA5B;MAAA,UAAgC6a;IAAhC,EARF,eASE,wDAAC,kDAAD;MAAM,GAAG,EAAE,CAAX;MAAc,KAAK,EAAC,QAApB;MAAA,wBACE,wDAAC,yDAAD;QACE,EAAE,EAAE7a,IADN;QAEE,IAAI,EAAG,GAAEA,IAAK,EAFhB;QAGE,QAAQ,EAAGgY,CAAD,IAAO;UACfuF,MAAM,CAACW,aAAP,CACG,GAAEle,IAAK,EADV,EAEEgY,CAFF;QAID,CARH;QASE,KAAK,EAAEzP,KATT;QAUE,IAAI,EAAE6U,IAVR;QAWE,GAAG,EAAE1b,GAXP;QAYE,GAAG,EAAEC,GAZP;QAaE,IAAI,EAAE,CAbR;QAAA,wBAeE,uDAAC,8DAAD,KAfF,eAgBE,wDAAC,gEAAD;UAAA,wBACE,uDAAC,oEAAD,KADF,eAEE,uDAAC,oEAAD,KAFF;QAAA,EAhBF;MAAA,EADF,eAsBE,uDAAC,kDAAD;QAAM,IAAI,EAAE,CAAZ;QAAe,KAAK,EAAC,MAArB;QAAA,UAA6B0b;MAA7B,EAtBF;IAAA,EATF,eAiCE,uDAAC,8DAAD;MAAA,UAAmBqB;IAAnB,EAjCF;EAAA,EADF;AAqCD;;AAED,iEAAexB,iBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxDA;;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;;;;;;;AAEA,MAAMkC,aAAa,GAAG,CACpB;EACE7V,EAAE,EAAE,aADN;EAEE6T,IAAI,EAAE,GAFR;EAGEvC,KAAK,EAAE,aAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKE2b,KAAK,EAAE;AALT,CADoB,EAQpB;EACE9T,EAAE,EAAE,UADN;EAEE6T,IAAI,EAAE,CAFR;EAGE1b,GAAG,EAAE,CAHP;EAIEmZ,KAAK,EAAE;AAJT,CARoB,CAAtB;AAeA,MAAMwE,cAAc,GAAG,CACrB;EACE9V,EAAE,EAAE,QADN;EAEE+V,KAAK,EAAE,GAFT;EAGEzE,KAAK,EAAE,kBAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKE2b,KAAK,EAAE;AALT,CADqB,EAQrB;EACE9T,EAAE,EAAE,UADN;EAEE+V,KAAK,EAAE,CAFT;EAGEzE,KAAK,EAAE,gBAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKE2b,KAAK,EAAE;AALT,CARqB,CAAvB;;AAiBA,SAASkC,OAAT,CAAiB;EAAEC,QAAF;EAAYjC;AAAZ,CAAjB,EAAuC;EACrC,oBACE,uDAAC,uDAAD;IACE,SAAS,EAAC,MADZ;IAEE,SAAS,EAAC,MAFZ;IAGE,KAAK,EAAC,MAHR;IAAA,uBAKE,uDAAC,kDAAD;MAAgB,KAAK,EAAEA,MAAvB;MAAA,uBACE,uDAAC,8CAAD;QAAY,IAAI,EAAG,cAAaiC,QAAS,UAAzC;QAAA,UACIC,eAAD,IAAqB;UACpB,MAAM;YACJta,IADI;YACEwU,MADF;YACUqE;UADV,IAEFyB,eAFJ;UAGA,MAAM;YAAE1Q;UAAF,IAAaiP,IAAnB;UACA,MAAMhZ,SAAS,GAAG+J,MAAM,CAACzN,UAAP,CAAkBke,QAAlB,CAAlB;UACA,MAAME,SAAS,GAAG1a,SAAS,CAAChC,MAAV,CAAiBgB,GAAjB,CAAqB,CAAC6D,IAAD,EAAO5C,KAAP,KAAiB;YACtD,MAAMkY,MAAM,GAAG,CAAC,GAAGiC,aAAJ,CAAf;;YACA,IAAIvX,IAAI,CAAC5E,IAAL,KAAc,UAAlB,EAA8B;cAC5Bka,MAAM,CAAChY,IAAP,CACE,GAAGka,cADL;YAGD;;YACD,oBACE,wDAAC,2DAAD;cAAe,KAAK,EAAC,MAArB;cAAA,wBACE,uDAAC,6DAAD;gBAAA,uBACE,wDAAC,yDAAD;kBAAa,EAAE,EAAE/hB,kDAAjB;kBAAA,wBACE,wDAAC,sDAAD;oBACE,EAAE,EAAEA,kDADN;oBAEE,KAAK,EAAC,QAFR;oBAGE,OAAO,EAAC,QAHV;oBAIE,KAAK,EAAC,MAJR;oBAKE,MAAM,EAAC,SALT;oBAME,QAAQ,EAAG0a,CAAD,IAAO;sBACfgG,IAAI,CAACE,aAAL,CACG,cAAasB,QAAS,YAAWva,KAAM,QAD1C,EAEE+S,CAFF;oBAID,CAXH;oBAYE,KAAK,EAAEnQ,IAAI,CAAC7H,IAZd;oBAAA,wBAcE,uDAAC,6DAAD,KAdF,eAeE,uDAAC,oDAAD;sBACE,EAAE,EAAE0d,2DADN;sBAEE,EAAE,EAAC,MAFL;sBAGE,IAAI,EAAG,cAAa8B,QAAS,YAAWva,KAAM,QAHhD;sBAIE,IAAI,EAAC,MAJP;sBAKE,OAAO,EAAC,QALV;sBAME,QAAQ,EAAC;oBANX,EAfF,eAuBE,uDAAC,yDAAD,KAvBF;kBAAA,EADF,eA0BE,uDAAC,2DAAD,KA1BF;gBAAA;cADF,EADF,eA+BE,wDAAC,4DAAD;gBAAA,wBACE,wDAAC,kDAAD;kBAAM,IAAI,EAAC,MAAX;kBAAkB,OAAO,EAAC,cAA1B;kBAAA,wBACE,wDAAC,yDAAD;oBAAa,KAAK,EAAC,KAAnB;oBAAA,wBACE,uDAAC,uDAAD;sBAAW,OAAO,EAAG,cAAaua,QAAS,YAAWva,KAAM,QAA5D;sBAAA;oBAAA,EADF,eAEE,uDAAC,qDAAD;sBACE,IAAI,EAAG,cAAaua,QAAS,YAAWva,KAAM,QADhD;sBAEE,QAAQ,EAAE+Y,IAAI,CAAC2B,YAFjB;sBAGE,KAAK,EAAE9X,IAAI,CAAC5E,IAHd;sBAAA,uBAKE;wBAAQ,KAAK,EAAC,UAAd;wBAAA;sBAAA;oBALF,EAFF;kBAAA,EADF,EAWGka,MAAM,CAACnZ,GAAP,CAAYwZ,KAAD,iBACV,uDAAC,0DAAD;oBACE,KAAK,EAAE3V,IAAI,CAAC2V,KAAK,CAACjU,EAAP,CADb;oBAEE,IAAI,EAAEiU,KAAK,CAACJ,IAFd;oBAIE,IAAI,EAAG,cAAaoC,QAAS,YAAWva,KAAM,KAAIuY,KAAK,CAACjU,EAAG,GAJ7D;oBAKE,KAAK,EAAEiU,KAAK,CAACH,KALf;oBAME,MAAM,EAAEW,IANV;oBAOE,KAAK,EAAER,KAAK,CAAC3C;kBAPf,GAGO2C,KAAK,CAACjU,EAHb,CADD,CAXH;gBAAA,EADF,eAyBE,uDAAC,qDAAD;kBACE,CAAC,EAAE,CADL;kBAEE,OAAO,EAAE,MAAM;oBACboQ,MAAM,CAAC1U,KAAD,CAAN;kBACD,CAJH;kBAAA;gBAAA,EAzBF;cAAA,EA/BF;YAAA,GAAkC,GAAED,SAAS,CAACuE,EAAG,GAAEtE,KAAM,EAAzD,CADF;UAoED,CA3EiB,CAAlB;UA4EA,oBACE;YAAA,WACGya,SADH,eAEE,uDAAC,qDAAD;cACE,CAAC,EAAE,CADL;cAEE,OAAO,EAAGzQ,CAAD,IAAO;gBACdA,CAAC,CAAC2Q,cAAF;gBACAza,IAAI,CAAC,EACH,GAAGga,uDADA;kBAEHnf,IAAI,EAAG,QAAOgF,SAAS,CAAChC,MAAV,CAAiB+B,MAAjB,GAA0B,CAAE,EAFvC;kBAGH5B,QAAQ,EAAE6B,SAAS,CAAChC,MAAV,CAAiB+B,MAAjB,GAA0B;gBAHjC,CAAD,CAAJ;cAKD,CATH;cAAA,uBAWE,uDAAC,sDAAD;YAXF,EAFF;UAAA,EADF;QAkBD;MArGH;IADF;EALF,EADF;AAiHD;;AAED,iEAAewa,OAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChKA;;AACA;;AACA;AACA;AACA;;;;;;AAEA,SAASzB,gBAAT,CAA0B;EAAEoC;AAAF,CAA1B,EAA4C;EAC1C,MAAM;IACJC,SADI;IAEJC,oBAFI;IAGJC,oBAHI;IAIJC;EAJI,IAKFL,qEAAmB,EALvB;EAOA,OAAOE,SAAS,gBACd,wDAAC,yDAAD;IAAa,cAAc,EAAC,QAA5B;IAAqC,IAAI,EAAC,IAA1C;IAAA,wBACE,uDAAC,wDAAD;MAAY,IAAI,eAAE,uDAAC,uDAAD,KAAlB;MAAA,GAAqCC,oBAAoB;IAAzD,EADF,eAEE,uDAAC,wDAAD;MAAY,IAAI,eAAE,uDAAC,uDAAD,KAAlB;MAAA,GAAqCC,oBAAoB;IAAzD,EAFF;EAAA,EADc,GAMdH,YAAY,gBAER,uDAAC,wDAAD;IAAY,IAAI,EAAC,IAAjB;IAAsB,EAAE,EAAE,CAA1B;IAA6B,IAAI,eAAE,uDAAC,sDAAD,KAAnC;IAAA,GAAqDI,kBAAkB;EAAvE,EAFQ,GAGN,EATR;AAWD;;AAED,iEAAexC,gBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BA;;AACA;;AACA;;AACA;;AACA;AACA;AAMA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;;;;;;;AAEA,SAASoD,SAAT,CAAmBC,IAAnB,EAAyB;EACvB,MAAMvY,IAAI,GAAG,EAAb;EACApB,MAAM,CAACC,OAAP,CAAe0Z,IAAf,EAAqB5c,OAArB,CAA6B,CAAC,CAACqK,GAAD,EAAMwS,GAAN,CAAD,KAAgB;IAC3CN,wDAAQ,CAACD,8DAAc,CAACO,GAAD,CAAf,CAAR,CAA8B3d,IAA9B,CAAoC4d,GAAD,IAAS;MAC1CzY,IAAI,CAACzD,IAAL,CAAU;QACRnF,IAAI,EAAE4O,GADE;QAERhG,IAAI,EAAEyY;MAFE,CAAV;IAID,CALD;EAMD,CAPD;EAQA,OAAOzY,IAAP;AACD;;AAED,MAAMuY,IAAI,GAAG;EACXG,MAAM,EAAE,qEADG;EAEXC,QAAQ,EAAE,uEAFC;EAGXC,OAAO,EAAE,sEAHE;EAIXC,OAAO,EAAE,sEAJE;EAKXC,cAAc,EAAE;AALL,CAAb;;AAQA,SAASpjB,cAAT,CAAwB;EAAEqjB;AAAF,CAAxB,EAA2C;EACzC,MAAM,CAACnC,QAAD,EAAWoC,WAAX,IAA0BpkB,+CAAQ,CAAC,CAAD,CAAxC;EACA,MAAM,CAACqkB,cAAD,EAAiBC,iBAAjB,IAAsCtkB,+CAAQ,EAApD;EAEA,MAAM;IAAEuB,iBAAF;IAAqBmP;EAArB,IAAwC9P,qDAAQ,CAAEc,KAAD,KAAY;IACjEH,iBAAiB,EAAEG,KAAK,CAACH,iBADwC;IAEjEmP,cAAc,EAAEhP,KAAK,CAACgP;EAF2C,CAAZ,CAAD,CAAtD;EAKAzQ,gDAAS,CAAC,MAAM;IACdqkB,iBAAiB,CAAEZ,SAAS,CAACC,IAAD,CAAX,CAAjB;EACD,CAFQ,EAEN,EAFM,CAAT;EAGA,MAAM5D,MAAM,GAAGqD,iDAAS,CAAC;IACvBmB,aAAa,EAAE1jB,0DADQ;IAEvB2jB,gBAAgB,EAAE7gB,yDAFK;IAGvB8gB,gBAAgB,EAAE,KAHK;IAIvBC,cAAc,EAAE,IAJO;IAKvBjE,QAAQ,EAAE,MAAOlP,MAAP,IAAkB;MAC1BwO,MAAM,CAAC4E,aAAP,CAAqB,IAArB;MACA,MAAM,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;QACrCpU,cAAc,CAAC,KAAD,CAAd;QAEAqU,UAAU,CAAC,MAAM;UACf,IAAI;YACFxjB,iBAAiB,CAACgQ,MAAD,CAAjB;YACAwO,MAAM,CAACiF,SAAP,CAAiB,EAAjB;UACD,CAHD,CAGE,OAAOvZ,KAAP,EAAc;YACdsU,MAAM,CAACiF,SAAP,CAAiB,6DAAjB;YACAF,MAAM;UACP;;UACDD,OAAO;QACR,CATS,EASP,GATO,CAAV;MAUD,CAbK,CAAN;IAcD;EArBsB,CAAD,CAAxB;EAuBA,OACEV,aAAa,gBAET;IAAA,wBACE,wDAAC,uDAAD;MAAU,IAAI,EAAC,QAAf;MAAA,uBACE;QAAM,QAAQ,EAAEpE,MAAM,CAACkF,YAAvB;QAAA,wBAEE,wDAAC,sDAAD;UAAe,MAAM,EAAElF,MAAvB;UAA+B,QAAQ,EAAEiC,QAAzC;UAAmD,WAAW,EAAEoC;QAAhE,EAFF,EAGGrE,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyByD,MAAzB,GAAkC,CAAlC,gBAEG;UAAA,wBACE,yDAAC,qDAAD;YAAA,wBACE,wDAAC,oDAAD;cAAa,MAAM,EAAEwY;YAArB,EADF,eAGE,wDAAC,qDAAD;cACE,CAAC,EAAE,CADL;cAEE,IAAI,EAAC,QAFP;cAGE,QAAQ,EAAEA,MAAM,CAACmF,YAHnB;cAAA,UAKGnF,MAAM,CAACmF,YAAP,gBAAsB,wDAAC,sDAAD,KAAtB,GAAoC;YALvC,EAHF;UAAA,EADF,eAYE,wDAAC,qDAAD;YAAA,uBACE,wDAAC,mDAAD;cAAM,KAAK,EAAC,KAAZ;cAAkB,KAAK,EAAC,KAAxB;cAA8B,KAAK,EAAC,QAApC;cAAA,UAA8CnF,MAAM,CAACoF;YAArD;UADF,EAZF;QAAA,EAFH,GAkBK,EArBR;MAAA;IADF,EADF,eA0BE,wDAAC,uDAAD;MAAU,IAAI,EAAC,YAAf;MAAA,UACKpF,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyByD,MAAzB,GAAkC,CAAnC,IAAyCya,QAAQ,IAAI,CAAtD,gBAEG,wDAAC,qDAAD;QAAA,uBACE,yDAAC,mDAAD;UACE,CAAC,EAAE,EADL;UAEE,QAAQ,EAAC,KAFX;UAGE,QAAQ,EAAC,KAHX;UAIE,KAAK,EAAC,QAJR;UAAA,wBAME,yDAAC,sDAAD;YAAA,wBACE,wDAAC,kDAAD;cAAA;YAAA,EADF,eAEE,wDAAC,kDAAD;cAAA;YAAA,EAFF,eAGE,wDAAC,kDAAD;cAAA;YAAA,EAHF;UAAA,EANF,eAWE,yDAAC,wDAAD;YAAA,wBACE,wDAAC,uDAAD;cAAU,EAAE,EAAE,EAAd;cAAA,uBACE,wDAAC,iDAAD;gBACE,QAAQ,EAAEA,QADZ;gBAEE,MAAM,EAAEjC,MAFV;gBAGE,cAAc,EAAEsE;cAHlB;YADF,EADF,eAQE,wDAAC,uDAAD;cAAU,EAAE,EAAE,EAAd;cAAA,uBACE,wDAAC,iDAAD;gBAAU,QAAQ,EAAErC,QAApB;gBAA8B,MAAM,EAAEjC;cAAtC;YADF,EARF,eAWE,wDAAC,uDAAD;cAAU,EAAE,EAAE,EAAd;cAAA,uBACE,wDAAC,gDAAD;gBAAS,QAAQ,EAAEiC,QAAnB;gBAA6B,MAAM,EAAEjC;cAArC;YADF,EAXF;UAAA,EAXF;QAAA;MADF,EAFH,gBAgCG,wDAAC,mDAAD;QAAM,MAAM,EAAC,MAAb;QAAoB,OAAO,EAAC,QAA5B;QAAqC,KAAK,EAAC,QAA3C;QAAA,uBACE;UAAA;QAAA;MADF;IAjCN,EA1BF;EAAA,EAFS,GAoEP,EArER;AAuED;;AAED,iEAAejf,cAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3JA;;AACA;AACA;AAKA;AACA;AACA;AACA;;;;;;;AAEA,MAAM6e,MAAM,GAAG,CACb;EACE5T,EAAE,EAAE,eADN;EAEE6T,IAAI,EAAE,QAFR;EAGEvC,KAAK,EAAE,+BAHT;EAIEnZ,GAAG,EAAE,CAAC,CAJR;EAKEC,GAAG,EAAE,CALP;EAME0b,KAAK,eACH;IAAA,oCAEE;MAAA;IAAA,EAFF;EAAA;AAPJ,CADa,EAcb;EACE9T,EAAE,EAAE,OADN;EAEE6T,IAAI,EAAE,MAFR;EAGEvC,KAAK,EAAE,OAHT;EAIEnZ,GAAG,EAAE,CAAC,CAJR;EAKEC,GAAG,EAAE,CALP;EAME0b,KAAK,eACH;IAAA,6BAEE;MAAA;IAAA,EAFF;EAAA;AAPJ,CAda,EA2Bb;EACE9T,EAAE,EAAE,aADN;EAEE6T,IAAI,EAAE,IAFR;EAGEvC,KAAK,EAAE,aAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKEC,GAAG,EAAE,GALP;EAME0b,KAAK,EAAE;AANT,CA3Ba,EAmCb;EACE9T,EAAE,EAAE,gBADN;EAEE6T,IAAI,EAAE,IAFR;EAGEvC,KAAK,EAAE,iBAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKEC,GAAG,EAAE,GALP;EAME0b,KAAK,EAAE;AANT,CAnCa,EA2Cb;EACE9T,EAAE,EAAE,cADN;EAEE6T,IAAI,EAAE,KAFR;EAGEvC,KAAK,EAAE,cAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKEC,GAAG,EAAE,CALP;EAME0b,KAAK,EAAE;AANT,CA3Ca,EAmDb;EACE9T,EAAE,EAAE,SADN;EAEE6T,IAAI,EAAE,KAFR;EAGEvC,KAAK,EAAE,SAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKEC,GAAG,EAAE,GALP;EAME0b,KAAK,EAAE;AANT,CAnDa,EA2Db;EACE9T,EAAE,EAAE,aADN;EAEE6T,IAAI,EAAE,IAFR;EAGEvC,KAAK,EAAE,cAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKEC,GAAG,EAAE,GALP;EAME0b,KAAK,EAAE;AANT,CA3Da,EAmEb;EACE9T,EAAE,EAAE,YADN;EAEE6T,IAAI,EAAE,IAFR;EAGEvC,KAAK,EAAE,aAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKEC,GAAG,EAAE,EALP;EAME0b,KAAK,eACH;IAAA,oCAEE;MAAA;IAAA,EAFF;EAAA;AAPJ,CAnEa,CAAf;AAkFe,SAAS2D,QAAT,CAAkB;EAAEzD,MAAF;EAAUiC,QAAV;EAAoBqC;AAApB,CAAlB,EAAwD;EACrE,MAAM,CAAC5Y,KAAD,EAAQ8Z,QAAR,IAAoBvlB,+CAAQ,EAAlC;;EACA,MAAMwlB,gBAAgB,GAAI/T,CAAD,IAAO;IAC9BA,CAAC,CAAC2Q,cAAF;IACA,IAAIqD,MAAJ;;IACA,IAAI;MACF,MAAM;QAAEra;MAAF,IAAWka,4DAAS,CAACvF,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyBke,QAAzB,EAAmC3d,KAAnC,CAAyCC,GAA1C,CAAT,CAAwD,CAAxD,CAAjB;MAEAmhB,MAAM,GAAGzc,iEAAc,CAACoC,IAAI,CAACG,IAAN,EAAYH,IAAI,CAACI,IAAjB,CAAvB;IACD,CAJD,CAIE,MAAM;MACN+Z,QAAQ,CAAC,kDAAD,CAAR;MACA;IACD;;IACD,MAAMvZ,QAAQ,GAAG;MACfX,KAAK,EAAEoa,MAAM,CAACC,kBADC;MAEfnhB,aAAa,EAAEkhB,MAAM,CAACE,OAFP;MAGfjhB,KAAK,EAAE+gB,MAAM,CAAC/gB,KAHC;MAIfC,WAAW,EAAE8gB,MAAM,CAACG,QAJL;MAKfhhB,cAAc,EAAE6gB,MAAM,CAACI,QALR;MAMfhhB,YAAY,EAAE4gB,MAAM,CAACK,IANN;MAOfhhB,OAAO,EAAE2gB,MAAM,CAACM,QAPD;MAQfhhB,WAAW,EAAE0gB,MAAM,CAACO,KARL;MASfhhB,UAAU,EAAEygB,MAAM,CAACQ,KATJ;MAUf3hB,GAAG,EAAEyb,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyBke,QAAzB,EAAmC3d,KAAnC,CAAyCC;IAV/B,CAAjB;IAYA0F,MAAM,CAACC,OAAP,CAAe+B,QAAf,EAAyBjF,OAAzB,CACGmf,KAAD,IAAW;MACT,IAAI,CAACA,KAAK,CAAC,CAAD,CAAV,EAAe;QACbX,QAAQ,CAAE,iBAAgBW,KAAK,CAAC,CAAD,CAAI,0CAA3B,CAAR;QACA;MACD;;MACDnG,MAAM,CAACW,aAAP,CAAsB,cAAasB,QAAS,YAAWkE,KAAK,CAAC,CAAD,CAAI,GAAhE,EAAoEA,KAAK,CAAC,CAAD,CAAzE;IACD,CAPH;IASAX,QAAQ,CAAC,EAAD,CAAR;EACD,CAjCD;;EAmCA,oBACE;IAAA,wBACE,wDAAC,kDAAD;MAAM,OAAO,EAAC,cAAd;MAA6B,IAAI,EAAC,MAAlC;MAAA,wBACE,wDAAC,yDAAD;QAAa,KAAK,EAAC,KAAnB;QAAA,wBACE,uDAAC,uDAAD;UAAW,OAAO,EAAG,cAAavD,QAAS,eAA3C;UAAA;QAAA,EADF,eAEE,uDAAC,mDAAD;UACE,EAAE,EAAC,OADL;UAEE,IAAI,EAAG,cAAaA,QAAS,eAF/B;UAGE,IAAI,EAAC,gBAHP;UAIE,OAAO,EAAC,QAJV;UAKE,QAAQ,EAAEjC,MAAM,CAACoC,YALnB;UAME,KAAK,EAAEpC,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyBke,QAAzB,EAAmC3d,KAAnC,CAAyCgH;QANlD,EAFF,EAUG,CAAC0U,MAAM,CAACmB,MAAP,CAAc7V,KAAf,gBACC,uDAAC,4DAAD,KADD,gBAGC,uDAAC,8DAAD;UAAA,UAAmB0U,MAAM,CAACmB,MAAP,CAAc7c,KAAd,CAAoBgH;QAAvC,EAbJ;MAAA,EADF,EAkBGsU,MAAM,CAACnZ,GAAP,CAAYwZ,KAAD,iBACV,uDAAC,0DAAD;QACE,KAAK,EAAED,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyBke,QAAzB,EAAmC3d,KAAnC,CAAyC2b,KAAK,CAACjU,EAA/C,CADT;QAGE,IAAI,EAAEiU,KAAK,CAACJ,IAHd;QAIE,IAAI,EAAG,cAAaoC,QAAS,WAAUhC,KAAK,CAACjU,EAAG,GAJlD;QAKE,KAAK,EAAEiU,KAAK,CAACH,KALf;QAME,MAAM,EAAEE,MANV;QAOE,KAAK,EAAEC,KAAK,CAAC3C,KAPf;QAQE,GAAG,EAAE2C,KAAK,CAAC9b,GARb;QASE,GAAG,EAAE8b,KAAK,CAAC7b;MATb,GAEO6b,KAAK,CAACjU,EAFb,CADD,CAlBH;IAAA,EADF,eAiCE,wDAAC,kDAAD;MACE,CAAC,EAAE,EADL;MAEE,QAAQ,EAAC,KAFX;MAGE,QAAQ,EAAC,KAHX;MAIE,KAAK,EAAC,QAJR;MAAA,wBAME,wDAAC,qDAAD;QAAA,wBACE,uDAAC,iDAAD;UAAA;QAAA,EADF,eAEE,uDAAC,iDAAD;UAAA;QAAA,EAFF;MAAA,EANF,eAUE,wDAAC,uDAAD;QAAA,wBACE,wDAAC,sDAAD;UAAU,EAAE,EAAE,EAAd;UAAA,wBACE,wDAAC,kDAAD;YAAM,IAAI,EAAC,MAAX;YAAkB,OAAO,EAAC,cAA1B;YAAA,wBACE,wDAAC,yDAAD;cAAa,KAAK,EAAC,KAAnB;cAAA,wBACE,uDAAC,uDAAD;gBAAW,OAAO,EAAG,cAAaiW,QAAS,uBAA3C;gBAAA;cAAA,EADF,eAEE,uDAAC,qDAAD;gBACE,IAAI,EAAG,cAAaA,QAAS,uBAD/B;gBAEE,KAAK,EAAEjC,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyBke,QAAzB,EAAmC3d,KAAnC,CAAyC8hB,aAFlD;gBAGE,QAAQ,EAAEpG,MAAM,CAACoC,YAHnB;gBAAA,UAKGkC,cAAc,CAAC7d,GAAf,CAAoBoC,CAAD,iBAClB;kBAAQ,KAAK,EAAEA,CAAC,CAACpG,IAAjB;kBAAA,UACGoG,CAAC,CAACpG;gBADL,GAA4BoG,CAAC,CAACpG,IAA9B,CADD;cALH,EAFF;YAAA,EADF,eAeE,wDAAC,yDAAD;cAAa,KAAK,EAAC,KAAnB;cAAA,wBACE,uDAAC,uDAAD;gBAAW,OAAO,EAAG,cAAawf,QAAS,aAA3C;gBAAA;cAAA,EADF,eAEE,uDAAC,qDAAD;gBACE,IAAI,EAAG,cAAaA,QAAS,aAD/B;gBAEE,KAAK,EAAEjC,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyBke,QAAzB,EAAmC3d,KAAnC,CAAyCC,GAFlD;gBAGE,QAAQ,EAAEyb,MAAM,CAACoC,YAHnB;gBAAA,UAKGkC,cAAc,CAAC3N,IAAf,CACE8D,CAAD,IAAOA,CAAC,CAAChY,IAAF,KAAWud,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyBke,QAAzB,EAAmC3d,KAAnC,CAAyC8hB,aAD5D,EAEC/a,IAFD,CAGE5E,GAHF,CAGM,CAAClC,GAAD,EAAMwK,CAAN,kBACH;kBAEE,KAAK,EAAG,GAAExK,GAAG,CAAC9B,IAAK,KAAI8B,GAAG,CAAC8G,IAAJ,CAASG,IAAK,KAAIjH,GAAG,CAAC8G,IAAJ,CAASI,IAAK,EAFzD;kBAAA,UAIGlH,GAAG,CAAC9B;gBAJP,GACQ,GAAEsM,CAAE,GAAExK,GAAG,CAAC9B,IAAK,EADvB,CAJH;cALH,EAFF;YAAA,EAfF,eAmCE,uDAAC,qDAAD;cACE,OAAO,EAAEgjB,gBADX;cAEE,CAAC,EAAE,CAFL;cAAA;YAAA,EAnCF;UAAA,EADF,eA2CE,uDAAC,kDAAD;YAAM,KAAK,EAAC,KAAZ;YAAA,UAAmB/Z;UAAnB,EA3CF;QAAA,EADF,eAgDE,wDAAC,sDAAD;UAAU,EAAE,EAAE,EAAd;UAAA,wBACE,wDAAC,yDAAD;YAAa,KAAK,EAAC,KAAnB;YAAA,wBACE,uDAAC,uDAAD;cAAW,OAAO,EAAG,cAAauW,QAAS,aAA3C;cAAA;YAAA,EADF,eAEE,uDAAC,uDAAD;cACE,EAAE,EAAC,KADL;cAEE,IAAI,EAAG,cAAaA,QAAS,aAF/B;cAGE,QAAQ,EAAEjC,MAAM,CAACoC,YAHnB;cAIE,KAAK,EAAEpC,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyBke,QAAzB,EAAmC3d,KAAnC,CAAyCC,GAJlD;cAKE,WAAW,EAAC;YALd,EAFF,eASE,uDAAC,8DAAD;cAAA,UAAmByb,MAAM,CAACmB,MAAP,CAAc5c;YAAjC,EATF;UAAA,EADF,eAYE,uDAAC,qDAAD;YACE,OAAO,EAAEkhB,gBADX;YAEE,CAAC,EAAE,CAFL;YAAA;UAAA,EAZF,eAkBE,uDAAC,kDAAD;YAAM,KAAK,EAAC,KAAZ;YAAA,UAAmB/Z;UAAnB,EAlBF;QAAA,EAhDF;MAAA,EAVF;IAAA,EAjCF;EAAA,EADF;AAoHD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvPD;AACA;AACA;;;;;;;AAEA,MAAMkU,MAAM,GAAG,CACb;EACE5T,EAAE,EAAE,WADN;EAEE6T,IAAI,EAAE,GAFR;EAGEvC,KAAK,EAAE,SAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKE2b,KAAK,EAAE;AALT,CADa,EAQb;EACE9T,EAAE,EAAE,gBADN;EAEE6T,IAAI,EAAE,GAFR;EAGEvC,KAAK,EAAE,iBAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKE2b,KAAK,eACH;IAAA,8BAEE;MAAA;IAAA,EAFF;EAAA;AANJ,CARa,EAoBb;EACE9T,EAAE,EAAE,MADN;EAEE6T,IAAI,EAAE,KAFR;EAGEvC,KAAK,EAAE,MAHT;EAIEnZ,GAAG,EAAE,CAJP;EAKE2b,KAAK,eACH;IAAA,6BAEE;MAAA;IAAA,EAFF;EAAA;AANJ,CApBa,CAAf;;AAkCA,SAAS4D,QAAT,CAAkB;EAAEzB,QAAF;EAAYjC;AAAZ,CAAlB,EAAwC;EACtC,oBACE;IAAA,wBACE;MAAA;IAAA,EADF,eAEE,uDAAC,kDAAD;MAAM,IAAI,EAAC,MAAX;MAAkB,OAAO,EAAC,cAA1B;MAAyC,EAAE,EAAE,EAA7C;MAAA,UACGJ,MAAM,CAACnZ,GAAP,CAAYwZ,KAAD,iBACV,uDAAC,0DAAD;QACE,KAAK,EAAED,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyBke,QAAzB,EAAmC/c,KAAnC,CAAyC+a,KAAK,CAACjU,EAA/C,CADT;QAEE,IAAI,EAAEiU,KAAK,CAACJ,IAFd;QAIE,IAAI,EAAG,cAAaoC,QAAS,WAAUhC,KAAK,CAACjU,EAAG,GAJlD;QAKE,KAAK,EAAEiU,KAAK,CAACH,KALf;QAME,MAAM,EAAEE,MANV;QAOE,KAAK,EAAEC,KAAK,CAAC3C,KAPf;QAQE,GAAG,EAAE2C,KAAK,CAAC9b,GARb;QASE,GAAG,EAAE8b,KAAK,CAAC7b;MATb,GAGO6b,KAAK,CAACjU,EAHb,CADD;IADH,EAFF,eAkBE;MAAA;IAAA,EAlBF,eAmBE,uDAAC,kDAAD;MAAM,IAAI,EAAC,MAAX;MAAkB,OAAO,EAAC,cAA1B;MAAA,UACG,CACC;QACEA,EAAE,EAAE,gBADN;QAEE6T,IAAI,EAAE,GAFR;QAGEvC,KAAK,EAAE,SAHT;QAIEnZ,GAAG,EAAE,CAJP;QAKE2b,KAAK,EAAE;MALT,CADD,EAQC;QACE9T,EAAE,EAAE,UADN;QAEE6T,IAAI,EAAE,IAFR;QAGEvC,KAAK,EAAE,UAHT;QAIEnZ,GAAG,EAAE,CAJP;QAKE2b,KAAK,EAAE;MALT,CARD,EAeC;QACE9T,EAAE,EAAE,yBADN;QAEE6T,IAAI,EAAE,GAFR;QAGEvC,KAAK,EAAE,2BAHT;QAIEnZ,GAAG,EAAE,CAJP;QAKE2b,KAAK,EAAE;MALT,CAfD,EAsBCrZ,GAtBD,CAsBMwZ,KAAD,iBACJ,uDAAC,0DAAD;QACE,KAAK,EAAED,MAAM,CAACxO,MAAP,CAAczN,UAAd,CAAyBke,QAAzB,EAAmC/c,KAAnC,CAAyC+a,KAAK,CAACjU,EAA/C,CADT;QAEE,IAAI,EAAEiU,KAAK,CAACJ,IAFd;QAIE,IAAI,EAAG,cAAaoC,QAAS,WAAUhC,KAAK,CAACjU,EAAG,GAJlD;QAKE,KAAK,EAAEiU,KAAK,CAACH,KALf;QAME,MAAM,EAAEE,MANV;QAOE,KAAK,EAAEC,KAAK,CAAC3C,KAPf;QAQE,GAAG,EAAE2C,KAAK,CAAC9b,GARb;QASE,GAAG,EAAE8b,KAAK,CAAC7b;MATb,GAGO6b,KAAK,CAACjU,EAHb,CAvBD;IADH,EAnBF;EAAA,EADF;AA2DD;;AAED,iEAAe0X,QAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpGA;AACA;AACA;AAGA;AACA;AACA;AACA;;;;;;;AAEA,SAASiD,iBAAT,CAA2B;EACzBlf,SADyB;EACdC,KADc;EACPua,QADO;EACGoC,WADH;EACgB5D,IADhB;EACsBrE;AADtB,CAA3B,EAEG;EACD,oBACE,wDAAC,sDAAD;IACE,EAAE,EAAErc,kDADN;IAEE,CAAC,EAAE,CAFL;IAGE,OAAO,EAAC,cAHV;IAIE,KAAK,EAAC,QAJR;IAKE,YAAY,EAAE,CALhB;IAME,UAAU,EAAG2H,KAAK,KAAKua,QAAX,GAAuB,UAAvB,GAAoC,EANlD;IAQE,OAAO,EAAE,MAAMoC,WAAW,CAAC3c,KAAD,CAR5B;IAAA,wBAoBE,uDAAC,4DAAD;MACE,KAAK,EAAED,SAAS,CAAChF,IADnB;MAEE,IAAI,EAAG,cAAaiF,KAAM,QAF5B;MAGE,IAAI,EAAE+Y,IAHR;MAIE,QAAQ,EAAE,MAAM4D,WAAW,CAAC3c,KAAD;IAJ7B,EApBF,eA0BE,uDAAC,oDAAD;MACE,IAAI,EAAC,QADP;MAEE,SAAS,EAAC,WAFZ;MAGE,OAAO,EAAGgK,CAAD,IAAO;QACdA,CAAC,CAACkV,eAAF;;QACA,IAAIlf,KAAK,KAAKua,QAAd,EAAwB;UACtBoC,WAAW,CACT,MAAO3c,KAAK,GAAG,CAAR,GAAYA,KAAK,GAAG,CAApB,GAAwB,CADtB,CAAX;QAGD,CAJD,MAIO,IAAIA,KAAK,GAAGua,QAAZ,EAAsB;UAC3BoC,WAAW,CAAE1b,IAAD,IAAUA,IAAI,GAAG,CAAlB,CAAX;QACD;;QACDyT,MAAM,CAAC1U,KAAD,CAAN;MACD,CAbH;MAAA,uBAeE,uDAAC,4DAAD;IAfF,EA1BF;EAAA,GAOOD,SAAS,CAACuE,EAPjB,CADF;AA8CD;;AAED,SAASwX,aAAT,CAAuB;EAAExD,MAAF;EAAUiC,QAAV;EAAoBoC;AAApB,CAAvB,EAA0D;EACxD,oBACE,wDAAC,oDAAD;IAAA,wBACE;MAAI,KAAK,EAAC,QAAV;MAAA;IAAA,EADF,eAEE,uDAAC,kDAAD;MAAgB,KAAK,EAAErE,MAAvB;MAAA,uBACE,uDAAC,8CAAD;QAAY,IAAI,EAAC,YAAjB;QAAA,UACIkC,eAAD,IAAqB;UACpB,MAAM;YACJta,IADI;YACEwU,MADF;YACUqE;UADV,IAEFyB,eAFJ;UAGA,MAAM;YAAE1Q;UAAF,IAAaiP,IAAnB;UACA,oBACE;YAAA,wBACE,uDAAC,kDAAD;cAAM,KAAK,EAAC,KAAZ;cAAkB,SAAS,EAAC,OAA5B;cAAoC,SAAS,EAAC,MAA9C;cAAA,UACGjP,MAAM,CAACzN,UAAP,CAAkByD,MAAlB,GAA2B,CAA3B,IACEgK,MAAM,CAACzN,UAAP,CAAkB0C,GAAlB,CAAsB,CAACgB,SAAD,EAAYC,KAAZ,kBACvB,uDAAC,iBAAD;gBACE,SAAS,EAAED,SADb;gBAEE,KAAK,EAAEC,KAFT;gBAGE,QAAQ,EAAEua,QAHZ;gBAIE,WAAW,EAAEoC,WAJf;gBAKE,IAAI,EAAE5D,IALR;gBAME,MAAM,EAAErE;cANV,GAOO3U,SAAS,CAACuE,EAPjB,CADC;YAFL,EADF,eAeE,uDAAC,oDAAD;cACE,CAAC,EAAE,CADL;cAEE,OAAO,EAAE,MAAM;gBACbpE,IAAI,CAAC,EACH,GAAG8e,4DADA;kBAEHjkB,IAAI,EAAG,aAAY+O,MAAM,CAACzN,UAAP,CAAkByD,MAAlB,GAA2B,CAAE,EAF7C;kBAGHwE,EAAE,EAAEhD,gDAAM;gBAHP,CAAD,CAAJ;gBAKAqb,WAAW,CAAC7S,MAAM,CAACzN,UAAP,CAAkByD,MAAnB,CAAX;cACD,CATH;cAAA,uBAWE,uDAAC,qDAAD;YAXF,EAfF;UAAA,EADF;QA+BD;MArCH;IADF,EAFF;EAAA,EADF;AA8CD;;AAED,iEAAegc,aAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9GA;;;;AAEA,MAAM5B,WAAW,GAAG;EAClBnf,IAAI,EAAE,UADY;EAElBqD,WAAW,EAAE,GAFK;EAGlBJ,IAAI,EAAE,UAHY;EAIlBK,QAAQ,EAAE,GAJQ;EAKlBI,MAAM,EAAE,CALU;EAMlBP,QAAQ,EAAE;AANQ,CAApB;AASA,MAAM8gB,gBAAgB,GAAG;EACvBpiB,KAAK,EAAE;IACLgH,KAAK,EAAE,qBADF;IAEL9G,aAAa,EAAE,UAFV;IAGLG,KAAK,EAAE,SAHF;IAILC,WAAW,EAAE,OAJR;IAKLC,cAAc,EAAE,QALX;IAMLC,YAAY,EAAE,SANT;IAOLC,OAAO,EAAE,OAPJ;IAQLC,WAAW,EAAE,QARR;IASLC,UAAU,EAAE,WATP;IAULV,GAAG,EAAE,2JAVA;IAWL6hB,aAAa,EAAE;EAXV,CADgB;EAcvBlhB,KAAK,EAAE;IACLC,SAAS,EAAE,GADN;IAELC,cAAc,EAAE,KAFX;IAGLC,IAAI,EAAE,MAHD;IAILC,cAAc,EAAE,GAJX;IAKLC,QAAQ,EAAE,KALL;IAMLC,uBAAuB,EAAE;EANpB,CAdgB;EAsBvBC,MAAM,EAAE,CACN;IACEhD,IAAI,EAAE,UADR;IAEEqD,WAAW,EAAE,GAFf;IAGEJ,IAAI,EAAE,UAHR;IAIEK,QAAQ,EAAE,GAJZ;IAKEI,MAAM,EAAE,CALV;IAMEP,QAAQ,EAAE;EANZ,CADM;AAtBe,CAAzB;AAkCA,MAAM9E,aAAa,GAAG;EAEpBiD,UAAU,EAAE,CACV;IACEO,KAAK,EAAE;MACLgH,KAAK,EAAE,qBADF;MAEL9G,aAAa,EAAE,UAFV;MAGLG,KAAK,EAAE,SAHF;MAILC,WAAW,EAAE,OAJR;MAKLC,cAAc,EAAE,QALX;MAMLC,YAAY,EAAE,SANT;MAOLC,OAAO,EAAE,OAPJ;MAQLC,WAAW,EAAE,QARR;MASLC,UAAU,EAAE,WATP;MAULV,GAAG,EAAE,2JAVA;MAWL6hB,aAAa,EAAE;IAXV,CADT;IAcElhB,KAAK,EAAE;MACLC,SAAS,EAAE,GADN;MAELC,cAAc,EAAE,KAFX;MAGLC,IAAI,EAAE,MAHD;MAILC,cAAc,EAAE,GAJX;MAKLC,QAAQ,EAAE,KALL;MAMLC,uBAAuB,EAAE;IANpB,CAdT;IAsBEC,MAAM,EAAE,CACN;MACEhD,IAAI,EAAE,UADR;MAEEqD,WAAW,EAAE,GAFf;MAGEJ,IAAI,EAAE,UAHR;MAIEK,QAAQ,EAAE,GAJZ;MAKEI,MAAM,EAAE,CALV;MAMEP,QAAQ,EAAE;IANZ,CADM,CAtBV;IAgCEnD,IAAI,EAAE,aAhCR;IAiCEuJ,EAAE,EAAEhD,gDAAM;EAjCZ,CADU,EAoCV;IACE1E,KAAK,EAAE;MACLgH,KAAK,EAAE,qBADF;MAEL9G,aAAa,EAAE,UAFV;MAGLG,KAAK,EAAE,QAHF;MAILC,WAAW,EAAE,OAJR;MAKLC,cAAc,EAAE,QALX;MAMLC,YAAY,EAAE,SANT;MAOLC,OAAO,EAAE,OAPJ;MAQLC,WAAW,EAAE,QARR;MASLC,UAAU,EAAE,WATP;MAULV,GAAG,EAAE,2JAVA;MAWL6hB,aAAa,EAAE;IAXV,CADT;IAcElhB,KAAK,EAAE;MACLC,SAAS,EAAE,GADN;MAELC,cAAc,EAAE,KAFX;MAGLC,IAAI,EAAE,MAHD;MAILC,cAAc,EAAE,GAJX;MAKLC,QAAQ,EAAE,KALL;MAMLC,uBAAuB,EAAE;IANpB,CAdT;IAsBEC,MAAM,EAAE,CACN;MACEhD,IAAI,EAAE,UADR;MAEEqD,WAAW,EAAE,GAFf;MAGEJ,IAAI,EAAE,UAHR;MAIEK,QAAQ,EAAE,GAJZ;MAKEI,MAAM,EAAE,CALV;MAMEP,QAAQ,EAAE;IANZ,CADM,CAtBV;IAgCEnD,IAAI,EAAE,aAhCR;IAiCEuJ,EAAE,EAAEhD,gDAAM;EAjCZ,CApCU,EAuEV;IACE1E,KAAK,EAAE;MACLgH,KAAK,EAAE,qBADF;MAEL9G,aAAa,EAAE,IAFV;MAGLG,KAAK,EAAE,WAHF;MAILC,WAAW,EAAE,OAJR;MAKLC,cAAc,EAAE,QALX;MAMLC,YAAY,EAAE,SANT;MAOLC,OAAO,EAAE,OAPJ;MAQLC,WAAW,EAAE,QARR;MASLC,UAAU,EAAE,WATP;MAULV,GAAG,EAAE,2JAVA;MAWL6hB,aAAa,EAAE;IAXV,CADT;IAcElhB,KAAK,EAAE;MACLC,SAAS,EAAE,GADN;MAELC,cAAc,EAAE,KAFX;MAGLC,IAAI,EAAE,MAHD;MAILC,cAAc,EAAE,GAJX;MAKLC,QAAQ,EAAE,KALL;MAMLC,uBAAuB,EAAE;IANpB,CAdT;IAsBEC,MAAM,EAAE,CACN;MACEhD,IAAI,EAAE,UADR;MAEEqD,WAAW,EAAE,GAFf;MAGEJ,IAAI,EAAE,UAHR;MAIEK,QAAQ,EAAE,GAJZ;MAKEI,MAAM,EAAE,CALV;MAMEP,QAAQ,EAAE;IANZ,CADM,CAtBV;IAgCEnD,IAAI,EAAE,aAhCR;IAiCEuJ,EAAE,EAAEhD,gDAAM;EAjCZ,CAvEU,CAFQ;EA6GpBzB,WAAW,EAAE,CA7GO;EA8GpBlB,OAAO,EAAE;IACPzB,WAAW,EAAE,CADN;IAEPC,cAAc,EAAE,CAFT;IAGPC,YAAY,EAAE,CAHP;IAIPC,OAAO,EAAE,CAJF;IAKPC,WAAW,EAAE,CALN;IAMPC,UAAU,EAAE;EANL;AA9GW,CAAtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7CA;;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;;;;;;AAEA,MAAM8hB,MAAM,GAAG,CACb,CAAC,CAAC,GAAD,EAAM,CAAN,EAAS,CAAT,EAAY,CAAZ,CAAD,EAAiB,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,EAAc,CAAd,CAAjB,CADa,EAEb,CAAC,CAAC,CAAD,EAAI,GAAJ,EAAS,CAAT,EAAY,CAAZ,CAAD,EAAiB,CAAC,EAAD,EAAK,GAAL,EAAU,EAAV,EAAc,CAAd,CAAjB,CAFa,EAGb,CAAC,CAAC,CAAD,EAAI,CAAJ,EAAO,GAAP,EAAY,CAAZ,CAAD,EAAiB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,CAAjB,CAHa,EAIb,CAAC,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,CAAD,EAAkB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,CAAlB,CAJa,EAKb,CAAC,CAAC,GAAD,EAAM,EAAN,EAAU,CAAV,EAAa,CAAb,CAAD,EAAkB,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,EAAc,CAAd,CAAlB,CALa,EAMb,CAAC,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,CAAD,EAAkB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,CAAlB,CANa,CAAf;AASA,MAAMC,WAAW,GAAGD,MAAM,CAACtgB,GAAP,CACjBgL,KAAD,IAAWA,KAAK,CAAChL,GAAN,CAAWwgB,GAAD,IAASA,GAAG,CAACxgB,GAAJ,CAAQ,CAACoC,CAAD,EAAIkG,CAAJ,KAAWA,CAAC,GAAG,CAAJ,GAAQlG,CAAC,GAAG,GAAZ,GAAkB,CAArC,CAAnB,CADO,CAApB;AAIA,MAAMqe,WAAW,GAAG;EAClBjf,WAAW,EAAE;IACXxF,IAAI,EAAE,cADK;IAEX0kB,IAAI,EAAE,GAFK;IAGX7J,KAAK,EAAE,EAHI;IAIXE,QAAQ,EAAE,CAAC5N,KAAD,EAAQnI,SAAR,KAAsBA,SAAS,CAACP,WAAV,CAAsBe,WAAtB,CAAkC2H,KAAlC,IAA2C,GAJhE;IAKXzL,GAAG,EAAE,CALM;IAMXC,GAAG,EAAE;EANM,CADK;EAUlB8D,kBAAkB,EAAE;IAClBzF,IAAI,EAAE,wBADY;IAElB6a,KAAK,EAAE,iBAFW;IAGlBE,QAAQ,EAAE,CAAC5N,KAAD,EAAQnI,SAAR,KAAsBA,SAAS,CAACP,WAAV,CAAsBgB,kBAAtB,CAAyC0H,KAAzC,IAAkD,GAHhE;IAIlBzL,GAAG,EAAE,CAJa;IAKlBC,GAAG,EAAE;EALa,CAVF;EAiBlBoG,UAAU,EAAE;IACV/H,IAAI,EAAE,aADI;IAEV0kB,IAAI,EAAE,GAFI;IAGV7J,KAAK,EAAE,EAHG;IAIVE,QAAQ,EAAE,CAAC5N,KAAD,EAAQnI,SAAR,KAAsBA,SAAS,CAACb,MAAV,CAAiBQ,IAAjB,CAAsB2E,aAAtB,CAC9BtE,SAAS,CAACP,WAAV,CAAsBc,OAAtB,CAA8B4H,KAA9B,CAD8B,EAG9BnI,SAAS,CAACP,WAAV,CAAsBC,aAAtB,CAAoCyI,KAApC,CAH8B;EAJtB,CAjBM;EA2BlB9J,WAAW,EAAE;IACXrD,IAAI,EAAE,aADK;IAEX0kB,IAAI,EAAE,GAFK;IAGX7J,KAAK,EAAE,EAHI;IAIXE,QAAQ,EAAE,CAAC5N,KAAD,EAAQnI,SAAR,KAAsBA,SAAS,CAACb,MAAV,CAAiBQ,IAAjB,CAAsB3B,MAAtB,CAC9BgC,SAAS,CAACP,WAAV,CAAsBC,aAAtB,CAAoCyI,KAApC,CAD8B,EAE9B9J;EANS;AA3BK,CAApB;AAqCA,MAAMshB,OAAO,GAAGP,4CAAA,GAAgBS,SAAhB,CAA0B,CAAErM,CAAD,IAAOA,CAAC,CAAC,CAAD,CAAD,CAAK3N,CAAb,CAA1B,CAAhB;AACA,MAAMia,OAAO,GAAGV,8CAAA,GAEbS,SAFa,CAEH,CAAErM,CAAD,IAAOA,CAAC,CAAC,CAAD,CAAD,CAAK1N,CAAb,CAFG,EAGbka,GAHa,CAGT,CAAC,CAAD,EAAI,CAAJ,CAHS,CAAhB;;AAKA,MAAMC,SAAS,GAAG,CAAChgB,KAAD,EAAQ2P,OAAR,EAAiBtC,QAAjB,KAA8B8R,iDAAA,GAE7Ce,UAF6C,CAEjC3M,CAAD,IAAOA,CAAC,CAACvT,KAAD,CAAD,CAAS4F,CAFkB,EAG7Cua,SAH6C,CAGlC5M,CAAD,IAAOA,CAAC,CAACvT,KAAD,CAAD,CAAS6F,CAHmB,EAI7Cua,OAJ6C,CAIrC,MAAM,CAJ+B,EAK7CC,MAL6C,CAKrCC,YAAD,IAAkBA,YAAY,CAACxgB,MAAb,GAAsB,CALF,EAM7CygB,SAN6C,CAMnC,CANmC,EAO7C5Q,OAP6C,CAOrCA,OAPqC,EAQ7C6Q,QAR6C,CAQnCrf,CAAD,IAAO;EACf,MAAM;IAAEkG,CAAF;IAAKoZ;EAAL,IAAWpT,QAAQ,CAACrN,KAAD,CAAzB;EACAmf,kDAAA,CAAoBG,WAAW,CAACjY,CAAD,CAAX,CAAeoZ,CAAf,CAApB,EAAuCtf,CAAvC;AACD,CAX6C,CAAhD;;AAaA,MAAMwf,SAAS,GAAGxB,uDAAA,EAAlB;;AAEA,SAAS0B,KAAT,CAAe;EACbjN,QADa;EACHkN,YADG;EACW7hB,IADX;EACiB8hB;AADjB,CAAf,EAEG;EACD,MAAM7Y,KAAK,GAAGzP,6CAAM,CAACwP,gEAAA,GAAyBC,KAA1B,CAApB;EACA1P,gDAAS,CAAC,MAAM;IACdyP,iEAAA,CACGhO,KAAD,IAAW;MACT,IAAIA,KAAK,CAACiO,KAAN,GAAc,CAAd,GAAkBA,KAAK,CAAChH,OAA5B,EAAqC;QAAEgH,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;MAA8B;;MACrE,IAAIA,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAA1B,EAAiC;QAAEA,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;MAA8B,CAFxD,CAIT;;IACD,CANH;EAQD,CATQ,EASN,EATM,CAAT;EAWA,MAAMyH,OAAO,GAAGlX,6CAAM,EAAtB;EAEA,MAAMob,IAAI,GAAGpb,6CAAM,CAAC,EAAD,CAAnB;EACA,MAAMuoB,KAAK,GAAGvoB,6CAAM,EAApB;EACA,MAAMwoB,QAAQ,GAAGxoB,6CAAM,EAAvB;;EAEA,MAAMyoB,SAAS,GAAG,MAAM;IACtB9N,sCAAA,CAAU6N,QAAQ,CAAC/f,OAAnB,EAA4BigB,KAA5B,CAAkCtN,IAAI,CAAC3S,OAAvC,EAAgDkgB,IAAhD,CAAqDJ,KAAK,CAAC9f,OAA3D;EACD,CAFD;;EAGA,MAAMmM,QAAQ,GAAG5U,6CAAM,EAAvB;EACA,MAAM4oB,SAAS,GAAG5oB,6CAAM,EAAxB;;EACA,MAAMqb,UAAU,GAAG,MAAM7U,IAAI,CAACiC,OAAL,CAAanC,GAAb,CAAiB,CAACgC,CAAD,EAAIugB,CAAJ,KAAU;IAClDD,SAAS,CAACngB,OAAV,GAAoB,EAApB;IACA0S,QAAQ,CAAC1S,OAAT,CAAiB7E,UAAjB,CAA4BiD,OAA5B,CAAqCS,SAAD,IAAe;MACjD6T,QAAQ,CAAC1S,OAAT,CAAiBhC,MAAjB,CAAwBI,OAAxB,CAAiCiZ,KAAD,IAAW;QACzC,MAAMgJ,OAAO,GAAG/B,WAAW,CAACjH,KAAD,CAA3B;QACA8I,SAAS,CAACngB,OAAV,CAAkBhB,IAAlB,CAAuB;UACrB0F,CAAC,EAAE7E,CADkB;UAErB8E,CAAC,EAAE0b,OAAO,CAACzL,QAAR,CAAiBwL,CAAjB,EAAoBvhB,SAApB;QAFkB,CAAvB;MAID,CAND;IAOD,CARD;IASA,OAAOshB,SAAS,CAACngB,OAAjB;EACD,CAZwB,CAAzB;;EAcA,MAAMsgB,SAAS,GAAG/oB,6CAAM,EAAxB;EACA,MAAMgpB,KAAK,GAAGhpB,6CAAM,EAApB;EACA,MAAMipB,MAAM,GAAGjpB,6CAAM,EAArB;EACA,MAAMkpB,MAAM,GAAGlpB,6CAAM,EAArB;EACA,MAAMmpB,OAAO,GAAGnpB,6CAAM,EAAtB;EACA,MAAMopB,MAAM,GAAGppB,6CAAM,EAArB;;EACA,MAAMqpB,WAAW,GAAG,MAAM;IACxB,MAAM;MAAEzlB,UAAF;MAAc6C;IAAd,IAAyB0U,QAAQ,CAAC1S,OAAxC;IACA2gB,MAAM,CAAC3gB,OAAP,GAAiB7E,UAAU,CAAC0C,GAAX,CAAgBgB,SAAD,IAAeb,MAAM,CAACH,GAAP,CAAYwZ,KAAD,IAAY,GAAExY,SAAS,CAAChF,IAAK,IAAGykB,WAAW,CAACjH,KAAD,CAAX,CAAmB3C,KAAM,EAApE,CAA9B,EAAsGmM,IAAtG,EAAjB;IACA1U,QAAQ,CAACnM,OAAT,GAAmB7E,UAAU,CAAC0C,GAAX,CACjB,CAACgB,SAAD,EAAYsH,CAAZ,KAAkBnI,MAAM,CAACH,GAAP,CAAW,CAACwZ,KAAD,EAAQkI,CAAR,MAAe;MAAEpZ,CAAF;MAAKoZ;IAAL,CAAf,CAAX,CADD,EAEjBsB,IAFiB,EAAnB;IAGAH,OAAO,CAAC1gB,OAAR,GAAkBkS,4CAAA,GACf4O,MADe,CACRH,MAAM,CAAC3gB,OADC,EAEf+gB,KAFe,CAETJ,MAAM,CAAC3gB,OAAP,CAAenC,GAAf,CAAmB,CAAC6W,KAAD,EAAQ5V,KAAR,KAAkB;MAC1C,MAAM;QAAEqH,CAAF;QAAKoZ;MAAL,IAAWpT,QAAQ,CAACnM,OAAT,CAAiBlB,KAAjB,CAAjB;MACA,OAAQ,OAAMqf,MAAM,CAAChY,CAAD,CAAN,CAAUoZ,CAAV,EAAatN,KAAb,CAAmB,CAAnB,EAAsB,CAAtB,CAAyB,GAAvC;IACD,CAHM,CAFS,CAAlB;IAOAuO,MAAM,CAACxgB,OAAP,GAAiBkC,KAAK,CAACC,IAAN,CACf;MAAEvD,MAAM,EAAEzD,UAAU,CAACyD,MAAX,GAAoBZ,MAAM,CAACY;IAArC,CADe,EAEf,CAACiT,CAAD,EAAI1L,CAAJ,KAAU2Y,SAAS,CAAC3Y,CAAD,EAAIsI,OAAO,CAACzO,OAAZ,EAAqBmM,QAAQ,CAACnM,OAA9B,CAFJ,CAAjB;IAKA,IAAI,CAACugB,KAAK,CAACvgB,OAAX,EAAoBugB,KAAK,CAACvgB,OAAN,GAAgBie,kDAAA,EAAhB;IACpBsC,KAAK,CAACvgB,OAAN,CACGwgB,MADH,CACUA,MAAM,CAACxgB,OADjB,EAEGyO,OAFH,CAEWA,OAAO,CAACzO,OAFnB;IAIAygB,MAAM,CAACzgB,OAAP,GAAiBke,0DAAW,GACzBhjB,KADc,CACR,MADQ,EACAgX,sCAAA,GAAYpV,IAAZ,CAAiBoV,4CAAjB,EAAkCiP,IAAlC,CAAuC,GAAvC,GADA,EAEdC,YAFc,CAED,EAFC,EAGdC,SAHc,CAGJ,GAHI,EAIdzW,KAJc,CAIR8V,OAAO,CAAC1gB,OAJA,CAAjB;;IAMA,IAAI;MACFkS,sCAAA,CAAUoO,SAAS,CAACtgB,OAApB,EAA6BuR,MAA7B,CAAoC,KAApC,EACG2O,IADH,CACQO,MAAM,CAACzgB,OADf,EAEGuR,MAFH,CAEU,cAFV,EAGGoC,IAHH,CAGQ,WAHR,EAGqB,kBAHrB,EAIGA,IAJH,CAIQ,OAJR,EAIiB,QAJjB;IAKD,CAND,CAME,MAAM,CAAE;;IAEV,IAAI,CAACmM,KAAK,CAAC9f,OAAX,EAAoB;MAClB8f,KAAK,CAAC9f,OAAN,GAAgBie,gDAAA,CAAkB/L,yCAAA,EAAlB,EAAkCA,2CAAA,EAAlC,EACbuP,MADa,CACN,MADM,EAEbC,WAFa,CAEDjC,SAFC,EAGbkC,aAHa,CAGCpB,KAAK,CAACvgB,OAHP,CAAhB;IAID;;IAED,MAAMqgB,OAAO,GAAG/B,WAAW,CAACtgB,MAAM,CAAC,CAAD,CAAP,CAA3B;IACA8hB,KAAK,CAAC9f,OAAN,CACG4hB,MADH,CACUvB,OAAO,CAAC9B,IADlB,EAEGsD,UAFH,CAEcxB,OAAO,CAACxmB,IAFtB,EAGGioB,OAHH,CAGWnD,OAAO,CAAChM,IAAI,CAAC3S,OAAN,CAHlB;EAID,CAjDD;;EAmDA,MAAM+hB,QAAQ,GAAGxqB,6CAAM,EAAvB;EACA,MAAMsc,SAAS,GAAGtc,6CAAM,EAAxB;EACA,MAAMyqB,MAAM,GAAGzqB,6CAAM,EAArB;EACA+Z,qDAAS,CAAC,MAAM;IACd,IAAIuC,SAAS,CAAC7T,OAAV,KAAsBgH,KAAK,CAAChH,OAAhC,EAAyC;IACzC,IAAI,CAACjC,IAAI,CAACiC,OAAV,EAAmB;;IACnB,IAAI,CAAC8f,KAAK,CAAC9f,OAAX,EAAoB;MAClB2S,IAAI,CAAC3S,OAAL,GAAe4S,UAAU,EAAzB;MACAgO,WAAW;MACXZ,SAAS;;MACT,IAAI,CAACvR,OAAO,CAACzO,OAAb,EAAsB;QACpB,MAAMiO,MAAM,GAAGiE,sCAAA,CAAU6N,QAAQ,CAAC/f,OAAnB,EAA4BuR,MAA5B,CAAmC,oBAAnC,EAAyDjE,IAAzD,EAAf;QACAmB,OAAO,CAACzO,OAAR,GAAkBiO,MAAM,CAACS,UAAP,CAAkB,OAAlB,CAAlB;MACD;IACF;;IACD,IAAIkR,YAAY,CAAC5f,OAAjB,EAA0B;MACxB2S,IAAI,CAAC3S,OAAL,GAAe4S,UAAU,EAAzB;MACAgO,WAAW;MACXhB,YAAY,CAAC5f,OAAb,GAAuB,KAAvB;IACD;;IACDgiB,MAAM,CAAChiB,OAAP,GAAiBgH,KAAK,CAAChH,OAAN,GAAiB,CAACgH,KAAK,CAAChH,OAAN,GAAgB,GAAjB,KAAyB6f,IAAI,CAAC7f,OAAL,GAAe,IAAxC,CAAlC;IAEA+hB,QAAQ,CAAC/hB,OAAT,GAAmB2S,IAAI,CAAC3S,OAAL,CAAaiS,KAAb,CAAmBjL,KAAK,CAAChH,OAAN,GAAgBgiB,MAAM,CAAChiB,OAAvB,IAAkC,CAAlC,GAClCgH,KAAK,CAAChH,OAAN,GAAgBgiB,MAAM,CAAChiB,OADW,GACD,CADlB,EACqBgH,KAAK,CAAChH,OAD3B,CAAnB,CAnBc,CAqBd;;IACA8f,KAAK,CAAC9f,OAAN,CACGiiB,OADH,CACWzD,OAAO,CAACuD,QAAQ,CAAC/hB,OAAV,CADlB;IAGAggB,SAAS;IACTnM,SAAS,CAAC7T,OAAV,GAAoBgH,KAAK,CAAChH,OAA1B;EACD,CA3BQ,CAAT;EA6BA,MAAMqH,GAAG,GAAG7P,kDAAW,CAAE8V,IAAD,IAAU;IAChCyS,QAAQ,CAAC/f,OAAT,GAAmBsN,IAAnB;EACD,CAFsB,EAEpB,EAFoB,CAAvB;EAIA,oBACE,uDAAC,iDAAD;IAAK,SAAS,EAAE,GAAhB;IAAqB,KAAK,EAAC,MAA3B;IAAA,uBACE,wDAAC,kDAAD;MAAM,OAAO,EAAC,QAAd;MAAA,wBACE;QACE,KAAK,EAAE;UACLK,KAAK,EAAE,KADF;UAELC,MAAM,EAAE,OAFH;UAGLsU,OAAO,EAAE;QAHJ,CADT;QAME,GAAG,EAAE7a,GANP;QAOE,EAAE,EAAC;MAPL,EADF,eAUE;QACE,EAAE,EAAC,QADL;QAEE,GAAG,EAAEiZ,SAFP;QAGE,KAAK,EAAE;UACL3S,KAAK,EAAE,KADF;UAELC,MAAM,EAAE;QAFH;MAHT,EAVF;IAAA;EADF,EADF;AAuBD;;AAED,8EAAe/C,iDAAA,CAAW8U,KAAX,CAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnPA;;AACA;;AACA;;AACA;AACA;AACA;AAKA;AAKA;AACA;AACA;AACA;;;;;;AAEA,MAAM2C,YAAY,GAAG,CACnB;EACE7Z,GAAG,EAAE,aADP;EAEE5O,IAAI,EAAE,cAFR;EAGEsb,SAAS,EAAE,CAAC,aAAD,EAAgB,oBAAhB;AAHb,CADmB,EAMnB;EACE1M,GAAG,EAAE,YADP;EAEE5O,IAAI,EAAE,aAFR;EAGEsb,SAAS,EAAE,CAAC,YAAD;AAHb,CANmB,EAWnB;EACE1M,GAAG,EAAE,aADP;EAEE5O,IAAI,EAAE,aAFR;EAGEsb,SAAS,EAAE,CAAC,aAAD;AAHb,CAXmB,CAArB;;AAkBA,SAASoN,WAAT,GAAuB;EACrB,MAAM;IACJ3kB,SADI;IACOG,IADP;IACaY,WADb;IAC0B6jB;EAD1B,IAEFvqB,sDAAQ,CACTc,KAAD,KAAY;IACV6E,SAAS,EAAE7E,KAAK,CAAC+N,OAAN,CAAc3L,UAAd,CAAyByC,SAD1B;IAEVe,WAAW,EAAE5F,KAAK,CAAC+N,OAAN,CAAc3L,UAAd,CAAyBwD,WAF5B;IAGV6jB,QAAQ,EAAEzpB,KAAK,CAAC+N,OAAN,CAAc3L,UAAd,CAAyBqnB,QAHzB;IAIVzkB,IAAI,EAAEhF,KAAK,CAAC+N,OAAN,CAAc/I;EAJV,CAAZ,CADU,EAOVlG,uDAPU,CAFZ,CADqB,CAarB;EACA;;EAEA,MAAM6a,QAAQ,GAAGnb,6CAAM,CAAC;IACtB4D,UAAU,EAAEyC,SAAS,CAACqU,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,CADU;IAEtBjU,MAAM,EAAE,CAAC,aAAD,EAAgB,oBAAhB;EAFc,CAAD,CAAvB;EAIA,MAAM,CAACykB,kBAAD,EAAqBC,qBAArB,IAA8CrrB,+CAAQ,CAACuG,SAAS,CAACqU,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,CAAD,CAA5D;EACA,MAAM2N,YAAY,GAAGroB,6CAAM,CAAC,KAAD,CAA3B;;EACA,MAAMorB,cAAc,GAAIvf,EAAD,IAAQ;IAC7B,MAAMvE,SAAS,GAAGjB,SAAS,CAACmQ,IAAV,CAAgB8D,CAAD,IAAOA,CAAC,CAACzO,EAAF,KAASA,EAA/B,CAAlB;;IACA,IAAIsP,QAAQ,CAAC1S,OAAT,CAAiB7E,UAAjB,CAA4BynB,QAA5B,CAAqC/jB,SAArC,CAAJ,EAAqD;MACnD,IAAI6T,QAAQ,CAAC1S,OAAT,CAAiB7E,UAAjB,CAA4ByD,MAA5B,KAAuC,CAA3C,EAA8C;MAC9C8T,QAAQ,CAAC1S,OAAT,CAAiB7E,UAAjB,GAA8BuX,QAAQ,CAAC1S,OAAT,CAAiB7E,UAAjB,CAA4ByK,MAA5B,CAC3BiM,CAAD,IAAOA,CAAC,CAACzO,EAAF,KAASvE,SAAS,CAACuE,EADE,CAA9B;IAGD,CALD,MAKO;MACLsP,QAAQ,CAAC1S,OAAT,CAAiB7E,UAAjB,GAA8B,CAAC,GAAGuX,QAAQ,CAAC1S,OAAT,CAAiB7E,UAArB,EAAiC0D,SAAjC,CAA9B;;MACA,IAAI6T,QAAQ,CAAC1S,OAAT,CAAiB7E,UAAjB,CAA4ByD,MAA5B,GAAqC,CAAzC,EAA4C;QAC1C8T,QAAQ,CAAC1S,OAAT,CAAiB7E,UAAjB,CAA4B0nB,MAA5B,CAAmC,CAAnC,EAAsC,CAAtC;MACD;IACF;;IACDT,sDAAe,CAAC,MAAM;MAAEM,qBAAqB,CAAChQ,QAAQ,CAAC1S,OAAT,CAAiB7E,UAAlB,CAArB;IAAqD,CAA9D,CAAf;IAEAykB,YAAY,CAAC5f,OAAb,GAAuB,IAAvB;EACD,CAhBD;;EAiBA,MAAM8iB,iBAAiB,GAAIha,CAAD,IAAO;IAC/B4J,QAAQ,CAAC1S,OAAT,CAAiBhC,MAAjB,GAA0BskB,YAAY,CAACvU,IAAb,CAAmB8D,CAAD,IAAOA,CAAC,CAACpJ,GAAF,KAAUK,CAAC,CAACC,MAAF,CAAS3G,KAA5C,EAAmD+S,SAA7E;IACAyK,YAAY,CAAC5f,OAAb,GAAuB,IAAvB;EACD,CAHD;;EAKA,MAAMgH,KAAK,GAAGzP,6CAAM,CAACwP,gEAAA,GAAyBC,KAA1B,CAApB;EACA1P,gDAAS,CAAC,MAAM;IACdyP,iEAAA,CACGhO,KAAD,IAAW;MACT,IAAIA,KAAK,CAACiO,KAAN,GAAc,CAAd,GAAkBA,KAAK,CAAChH,OAA5B,EAAqC;QAAEgH,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;MAA8B;;MACrE,IAAIA,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAA1B,EAAiC;QAAEA,KAAK,CAAChH,OAAN,GAAgBjH,KAAK,CAACiO,KAAtB;MAA8B,CAFxD,CAIT;;IACD,CANH;EAQD,CATQ,EASN,EATM,CAAT;EAUA,MAAM6Y,IAAI,GAAGtoB,6CAAM,CAAC,GAAD,CAAnB;;EACA,MAAMwrB,UAAU,GAAIlR,CAAD,IAAO;IACxBgO,IAAI,CAAC7f,OAAL,GAAe6R,CAAf;EACD,CAFD;;EAGA,MAAMC,OAAO,GAAGva,6CAAM,EAAtB;EAEAD,gDAAS,CAAC,MAAM;IACdob,QAAQ,CAAC1S,OAAT,CAAiB7E,UAAjB,GAA8ByC,SAAS,CAACqU,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,CAA9B;IACAH,OAAO,CAAC9R,OAAR,GAAkBjC,IAAlB;IACA6hB,YAAY,CAAC5f,OAAb,GAAuB,IAAvB;EACD,CAJQ,EAIN,CAACpC,SAAD,EAAYG,IAAZ,CAJM,CAAT;EAMA,oBACE,wDAAC,oDAAD;IAAA,wBACE,uDAAC,8CAAD;MACE,QAAQ,EAAE2U,QADZ;MAEE,YAAY,EAAEkN,YAFhB;MAGE,IAAI,EAAE9N,OAHR;MAIE,IAAI,EAAE+N;IAJR,EADF,eAOE,uDAAC,yDAAD;MAAa,KAAK,EAAC,KAAnB;MAAA,uBACE,wDAAC,kDAAD;QAAM,GAAG,EAAE,CAAX;QAAc,KAAK,EAAC,QAApB;QAA6B,OAAO,EAAC,QAArC;QAA8C,CAAC,EAAE,CAAjD;QAAA,wBACE,uDAAC,uDAAD;UAAW,MAAM,EAAC,MAAlB;UAAyB,MAAM,EAAE,CAAjC;UAAA;QAAA,EADF,eAEE,wDAAC,oDAAD;UACE,cAAW,aADb;UAEE,WAAW,EAAC,QAFd;UAGE,YAAY,EAAE,GAHhB;UAIE,GAAG,EAAE,CAJP;UAKE,GAAG,EAAE,IALP;UAME,IAAI,EAAE,EANR;UAOE,QAAQ,EAAEkD,UAPZ;UAQE,QAAQ,EAAC,OARX;UAAA,wBAUE,uDAAC,yDAAD;YAAA,uBACE,uDAAC,+DAAD;UADF,EAVF,eAaE,uDAAC,yDAAD,KAbF;QAAA,EAFF;MAAA;IADF,EAPF,eA2BE,wDAAC,kDAAD;MAAM,KAAK,EAAC,MAAZ;MAAmB,OAAO,EAAC,YAA3B;MAAA,wBACE,uDAAC,sDAAD;QAAe,cAAc,EAAEJ,cAA/B;QAA+C,QAAQ,EAAEF;MAAzD,EADF,eAEE,uDAAC,oDAAD;QAAQ,KAAK,EAAC,KAAd;QAAA,uBACE,wDAAC,oDAAD;UAAQ,KAAK,EAAC,KAAd;UAAA,wBACE;YAAA;UAAA,EADF,eAEE,uDAAC,qDAAD;YACE,QAAQ,EAAEK,iBADZ;YAAA,UAGGR,YAAY,CAACzkB,GAAb,CAAkBmlB,MAAD,iBAChB;cAAQ,KAAK,EAAEA,MAAM,CAACva,GAAtB;cAAA,UAA6Cua,MAAM,CAACnpB;YAApD,GAAgCmpB,MAAM,CAACva,GAAvC,CADD;UAHH,EAFF;QAAA;MADF,EAFF,eAcE,uDAAC,iDAAD;QAAK,KAAK,EAAC;MAAX,EAdF;IAAA,EA3BF;EAAA,EADF;AA8CD;;AAED,iEAAe8Z,WAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzJA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEA,SAASzqB,eAAT,GAA2B;EACzB,MAAM;IAAEY;EAAF,IAAWT,sDAAQ,CACtBc,KAAD,KAAY;IACVL,IAAI,EAAEK,KAAK,CAACL;EADF,CAAZ,CADuB,EAIvBb,uDAJuB,CAAzB;EAMA,oBACE;IAAA,wBACE,uDAAC,sDAAD;MAAU,IAAI,EAAC,aAAf;MAA6B,SAAS,EAAEa,IAAI,CAACmB,IAAL,KAAc,aAAd,GAA8B,EAA9B,GAAmC,uBAA3E;MAAoG,QAAQ,EAAEnB,IAAI,CAACmB,IAAL,KAAc,aAAd,GAA8B,EAA9B,GAAmC,UAAjJ;MAAA,uBACE,uDAAC,oDAAD;IADF,EADF,eAIE,uDAAC,sDAAD;MAAU,IAAI,EAAC,SAAf;MAAyB,SAAS,EAAEnB,IAAI,CAACmB,IAAL,KAAc,aAAd,GAA8B,EAA9B,GAAmC,uBAAvE;MAAgG,QAAQ,EAAEnB,IAAI,CAACmB,IAAL,KAAc,aAAd,GAA8B,EAA9B,GAAmC,UAA7I;MAAA,uBACE,uDAAC,gDAAD;IADF,EAJF;EAAA,EADF;AAUD;;AAED,8EAAegR,iDAAA,CAAW/S,eAAX,CAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA;AACA;AAGA;AACA;AACA;;;;;;AAEA,SAAS8iB,aAAT,CAAuB;EAAE+H,cAAF;EAAkBjQ;AAAlB,CAAvB,EAAqD;EACnD,MAAM;IACJ9U;EADI,IAEF3F,sDAAQ,CACTc,KAAD,KAAY;IACV6E,SAAS,EAAE7E,KAAK,CAAC+N,OAAN,CAAc3L,UAAd,CAAyByC;EAD1B,CAAZ,CADU,EAIV/F,uDAJU,CAFZ;;EAQA,MAAMsrB,YAAY,GAAIra,CAAD,IAAO;IAC1B,MAAM;MAAE1F;IAAF,IAAS0F,CAAC,CAACC,MAAjB;IACA4Z,cAAc,CAACvf,EAAD,CAAd;EACD,CAHD;;EAKA,oBACE,wDAAC,oDAAD;IAAQ,KAAK,EAAC,KAAd;IAAA,wBACE;MAAA,4BAEG,GAFH,eAGE;QAAA;MAAA,EAHF;IAAA,EADF,eAOE,uDAAC,2DAAD;MAAe,KAAK,EAAC,MAArB;MAAA,UACGxF,SAAS,CAACC,GAAV,CAAeC,QAAD,iBACb,uDAAC,sDAAD;QACE,QAAQ,EAAEqlB,YADZ;QAEE,EAAE,EAAErlB,QAAQ,CAACsF,EAFf;QAIE,KAAK,EAAC,OAJR;QAKE,UAAU,EAAGsP,QAAQ,CAAC9T,MAAT,KAAoB,CAApB,IAAyB8T,QAAQ,CAACkQ,QAAT,CAAkB9kB,QAAlB,CALxC;QAME,SAAS,EAAE4U,QAAQ,CAACkQ,QAAT,CAAkB9kB,QAAlB,CANb;QAAA,UAQGA,QAAQ,CAACjE;MARZ,GAGOiE,QAAQ,CAACsF,EAHhB,CADD;IADH,EAPF;EAAA,EADF;AAwBD;;AAED,iEAAewX,aAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDA;AAKA;AACA;AACA;AACA;;;;;;AAEA,MAAMwI,IAAI,GAAG5iB,uDAAU,IAAI,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArB,CAAvB;AAEA,MAAMiU,SAAS,GAAG,CAChB;EACEhM,GAAG,EAAE,UADP;EAEE5O,IAAI,EAAE,gBAFR;EAGE+a,QAAQ,EAAE,MAAMwO,IAHlB;EAIEC,MAAM,EAAGjhB,KAAD,IAAY,GAAEA,KAAK,CAAC+N,OAAN,CAAc,CAAd,CAAiB,OAJzC;EAKE2E,WAAW,EAAE,CAACpC,QAAD,EAAW9U,SAAX,KAAyB;IACpC,MAAMkE,MAAM,GAAG4Q,QAAQ,CAAC1U,MAAT,GAAkB0U,QAAQ,CAAC1U,MAAT,CAAgBtC,KAAhB,CAAsBoG,MAAxC,GAAiDlE,SAAS,CAAC,CAAD,CAAT,CAAaI,MAAb,CAAoBtC,KAApB,CAA0BoG,MAA1F;IACA,OAAQ,GAAE,CAAEtB,uDAAD,GAAesB,MAAhB,EAAwBqO,OAAxB,CAAgC,CAAhC,CAAmC,SAA7C;EACD;AARH,CADgB,EAWhB;EACE1H,GAAG,EAAE,gBADP;EAEE5O,IAAI,EAAE,iBAFR;EAGE+a,QAAQ,EAAGlC,QAAD,IAAcA,QAAQ,CAAC/S,OAAT,CAAiBJ,cAH3C;EAIE8jB,MAAM,EAAGjhB,KAAD,IAAY,GAAEA,KAAK,CAAC+N,OAAN,CAAc,CAAd,CAAiB,IAJzC;EAKE2E,WAAW,EAAE,CAACpC,QAAD,EAAW9U,SAAX,KAAyB;IACpC,IAAI8U,QAAQ,CAAC1U,MAAb,EAAqB,OAAQ,GAAE,CAAC0U,QAAQ,CAAC/S,OAAT,CAAiBJ,cAAjB,GAAkCmT,QAAQ,CAAC1U,MAAT,CAAgBkD,OAAhB,CAAwBvE,QAA3D,EAAqEwT,OAArE,CAA6E,CAA7E,CAAgF,iBAA1F;IACrB,OAAQ,GAAE,CAACuC,QAAQ,CAAC/S,OAAT,CAAiBJ,cAAjB,GAAkC3B,SAAS,CAAC,CAAD,CAAT,CAAaI,MAAb,CAAoBkD,OAApB,CAA4BvE,QAA/D,EAAyEwT,OAAzE,CAAiF,CAAjF,CAAoF,iBAA9F;EACD;AARH,CAXgB,EAqBhB;EACE1H,GAAG,EAAE,aADP;EAEE5O,IAAI,EAAE,qBAFR;EAGE+a,QAAQ,EAAGlC,QAAD,IAAcA,QAAQ,CAAC/S,OAAT,CAAiBH,WAH3C;EAIE6jB,MAAM,EAAGjhB,KAAD,IAAY,GAAEA,KAAK,CAAC+N,OAAN,CAAc,CAAd,CAAiB,UAJzC;EAKE2E,WAAW,EAAGpC,QAAD,IAAe,GAAE,CAAEA,QAAQ,CAAC/S,OAAT,CAAiBH,WAAjB,GAA+B,GAAhC,IAAwC4jB,IAAI,GAAG,EAAP,GAAY,EAApD,CAAD,EAA0DjT,OAA1D,CAAkE,CAAlE,CAAqE,QAAOiT,IAAI,CAACjT,OAAL,CAAa,CAAb,CAAgB;AAL5H,CArBgB,EA4BhB;EACE1H,GAAG,EAAE,mBADP;EAEE5O,IAAI,EAAE,qBAFR;EAGE+a,QAAQ,EAAGlC,QAAD,IAAcA,QAAQ,CAAC/S,OAAT,CAAiBD,wBAH3C;EAIE2jB,MAAM,EAAGjhB,KAAD,IAAY,GAAE,CAACA,KAAK,GAAG,GAAT,EAAc+N,OAAd,CAAsB,CAAtB,CAAyB,GAJjD;EAKE2E,WAAW,EAAGpC,QAAD,IAAe,GAAE,CAACA,QAAQ,CAAC/S,OAAT,CAAiBF,sBAAjB,GAA0C,GAA3C,EAAgD0Q,OAAhD,CAAwD,CAAxD,CAA2D;AAL3F,CA5BgB,CAAlB;;AAqCA,SAASsG,OAAT,GAAmB;EACjB,MAAM;IAAE7Y,SAAF;IAAagC;EAAb,IAAuB3H,sDAAQ,CAClCc,KAAD,KAAY;IACV6E,SAAS,EAAE7E,KAAK,CAAC+N,OAAN,CAAc3L,UAAd,CAAyByC,SAD1B;IAEVgC,KAAK,EAAE7G,KAAK,CAAC+N,OAAN,CAAc3L,UAAd,CAAyByE;EAFtB,CAAZ,CADmC,EAKnC/H,uDALmC,CAArC;EAQA,MAAM,CAAC6a,QAAD,EAAWuC,WAAX,IAA0B5d,+CAAQ,CAACuG,SAAS,CAAC,CAAD,CAAV,CAAxC;;EACA,MAAMsX,qBAAqB,GAAIpM,CAAD,IAAO;IACnC,IAAIA,CAAC,CAACC,MAAF,CAAS3G,KAAT,KAAmB,OAAvB,EAAgC6S,WAAW,CAAC,MAAMrV,KAAP,CAAX,CAAhC,KACK;MACHqV,WAAW,CAAC,MAAMrX,SAAS,CAACmQ,IAAV,CAAgB8D,CAAD,IAAOA,CAAC,CAACzO,EAAF,KAAS0F,CAAC,CAACC,MAAF,CAAS3G,KAAxC,CAAP,CAAX;IACD;EACF,CALD;;EAMA,oBACE,wDAAC,oDAAD;IAAQ,KAAK,EAAC,MAAd;IAAA,wBACE;MAAA;IAAA,EADF,eAEE,uDAAC,oDAAD;MAAQ,QAAQ,EAAC,KAAjB;MAAA,uBACE,wDAAC,oDAAD;QAAQ,QAAQ,EAAE8S,qBAAlB;QAAA,WACGtX,SAAS,CAACC,GAAV,CAAeC,QAAD,iBACb;UAA0B,KAAK,EAAEA,QAAQ,CAACsF,EAA1C;UAAA,UAA+CtF,QAAQ,CAACjE;QAAxD,GAAaiE,QAAQ,CAACsF,EAAtB,CADD,CADH,eAIE;UAAQ,KAAK,EAAC,OAAd;UAAA;QAAA,EAJF;MAAA;IADF,EAFF,eAUE,uDAAC,uDAAD;MAAW,EAAE,EAAEjM,kDAAf;MAAqB,IAAI,EAAC,MAA1B;MAAiC,KAAK,EAAC,MAAvC;MAA8C,OAAO,EAAC,QAAtD;MAA+D,KAAK,EAAC,QAArE;MAAA,UACGsd,SAAS,CAAC5W,GAAV,CAAe4X,IAAD,iBACb,wDAAC,kDAAD;QAAqB,CAAC,EAAE,CAAxB;QAA2B,QAAQ,EAAC,MAApC;QAA2C,KAAK,EAAC,QAAjD;QAAA,wBACE,uDAAC,uDAAD;UAAA,UAAYA,IAAI,CAAC5b;QAAjB,EADF,eAEE,uDAAC,wDAAD;UAAA,UAAa4b,IAAI,CAAC4N,MAAL,CAAY5N,IAAI,CAACb,QAAL,CAAclC,QAAd,CAAZ;QAAb,EAFF,eAGE,uDAAC,0DAAD;UAAA,UAAe+C,IAAI,CAACX,WAAL,CAAiBpC,QAAjB,EAA2B9U,SAA3B;QAAf,EAHF;MAAA,GAAW6X,IAAI,CAAChN,GAAhB,CADD;IADH,EAVF;EAAA,EADF;AAuBD;;AAED,iEAAegO,OAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1FA;AACA;AAGA;;;;;;AAEA,SAASne,WAAT,GAAuB;EACrB,MAAMK,OAAO,GAAGV,sDAAQ,CAAEc,KAAD,IAAWA,KAAK,CAACJ,OAAlB,CAAxB;EACA,oBAEE,uDAAC,sDAAD;IACE,IAAI,EAAC,OADP,CAEE;IACA;IACA;IACA;IACA;IACA;IAPF;IAAA,uBASE,uDAAC,kDAAD;MAAM,UAAU,EAAC,QAAjB;MAA0B,OAAO,EAAC,QAAlC;MAA2C,MAAM,EAAC,MAAlD;MAAA,uBACE,wDAAC,yDAAD;QAAa,OAAO,EAAEA,OAAtB;QAAA,wBACE,uDAAC,oDAAD;UAAQ,KAAK,EAAC,SAAd;UAAA;QAAA,EADF,eAIE,uDAAC,oDAAD;UAAQ,KAAK,EAAC,aAAd;UAAA;QAAA,EAJF;MAAA;IADF;EATF,EAFF;AAwBD;;AAED,iEAAeL,WAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;;AACA;;AACA;;AACA;;AACA;;AACA;AACA;AAOA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,SAASwrB,UAAT,CAAoBC,QAApB,EAA8BC,QAA9B,EAAwC;EACtC,MAAMC,aAAa,GAAG,EAAtB;EAEAA,aAAa,CAACC,SAAd,GAA0BC,QAAQ,CAACJ,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,EAA6B,EAA7B,CAAlC;EACAH,aAAa,CAACI,SAAd,GAA0BC,UAAU,CAACP,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAApC;EACAH,aAAa,CAACroB,aAAd,GAA8B0oB,UAAU,CAACP,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAAxC;EACAH,aAAa,CAACM,mBAAd,GAAoCD,UAAU,CAC3C,IAAGH,QAAQ,CACVJ,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CADU,EAEV,EAFU,CAGV,IAAGL,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAA2B,EAJY,CAA9C;EAMAH,aAAa,CAACloB,KAAd,GAAsBuoB,UAAU,CAC7B,GAAEP,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAA2B,IAAGD,QAAQ,CACvCJ,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CADuC,EAEvC,EAFuC,CAGvC,IAAGL,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAA2B,EAJF,CAAhC,CAZsC,CAmBtC;;EACAH,aAAa,CAACjoB,WAAd,GAA4BsoB,UAAU,CAACN,QAAQ,CAACI,SAAT,CAAmB,CAAnB,EAAsB,EAAtB,CAAD,CAAtC;EACAH,aAAa,CAAChoB,cAAd,GAA+BqoB,UAAU,CAACN,QAAQ,CAACI,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAAzC;EACAH,aAAa,CAAC/nB,YAAd,GAA6BooB,UAAU,CAAE,IAAGN,QAAQ,CAACI,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAA2B,EAAhC,CAAvC;EACAH,aAAa,CAAC9nB,OAAd,GAAwBmoB,UAAU,CAACN,QAAQ,CAACI,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAAlC;EACAH,aAAa,CAAC7nB,WAAd,GAA4BkoB,UAAU,CAACN,QAAQ,CAACI,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAAtC;EACAH,aAAa,CAAC5nB,UAAd,GAA2BioB,UAAU,CAACN,QAAQ,CAACI,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAArC;EACA,IAAII,IAAJ;;EACA,IAAIP,aAAa,CAACC,SAAd,GAA0B,EAA9B,EAAkC;IAChCM,IAAI,GAAGP,aAAa,CAACC,SAAd,GAA0B,IAAjC;EACD,CAFD,MAEO;IACLM,IAAI,GAAGP,aAAa,CAACC,SAAd,GAA0B,IAAjC;EACD;;EAED,MAAMO,WAAW,GAAGd,gEAAU,CAACa,IAAD,EAAOP,aAAa,CAACI,SAArB,CAA9B;EACA,MAAM;IACJK,GADI;IACCC,GADD;IACMC,EADN;IACUC,MADV;IACkBC;EADlB,IAEFL,WAFJ;EAGAR,aAAa,CAACvhB,KAAd,GAAsB,IAAIC,IAAJ,CAAS6hB,IAAT,EAAeE,GAAf,EAAoBC,GAApB,EAAyBC,EAAzB,EAA6BC,MAA7B,EAAqCC,GAArC,CAAtB;EAEA,OAAOb,aAAP;AACD;;AAED,SAASc,YAAT,CAAsBC,IAAtB,EAA4B;EAC1B,OACE,CAACriB,IAAI,CAACsiB,GAAL,CAASD,IAAI,CAACE,WAAL,EAAT,EAA6BF,IAAI,CAACG,QAAL,EAA7B,EAA8CH,IAAI,CAACI,OAAL,EAA9C,IACGziB,IAAI,CAACsiB,GAAL,CAASD,IAAI,CAACE,WAAL,EAAT,EAA6B,CAA7B,EAAgC,CAAhC,CADJ,IAEE,EAFF,GAGE,EAHF,GAIE,EAJF,GAKE,IANJ;AAQD;;AAED,SAAS5kB,WAAT,CAAqB2jB,aAArB,EAAoC;EAClC,MAAM;IACJvhB,KADI;IAEJ9G,aAFI;IAGJG,KAHI;IAIJC,WAJI;IAKJC,cALI;IAMJC,YANI;IAOJC,OAPI;IAQJC,WARI;IASJC;EATI,IAUF4nB,aAVJ;EAWA,IAAIoB,OAAO,GAAGC,MAAM,CAAC5iB,KAAK,CAAC6iB,OAAN,EAAD,CAApB;EACA,IAAIF,OAAO,GAAG,GAAd,EAAmBA,OAAO,GAAGA,OAAO,CAACjB,SAAR,CAAkB,CAAlB,CAAV;EAEnB,IAAIoB,QAAQ,GAAGT,YAAY,CAACriB,KAAD,CAA3B;EACA,IAAI8iB,QAAQ,GAAG,GAAf,EAAoBA,QAAQ,GAAI,IAAGA,QAAS,EAAxB;EAEpB,MAAMC,aAAa,GAAGH,MAAM,CAC1B,CACE5iB,KAAK,CAACgjB,QAAN,KAAmB,EAAnB,GACEhjB,KAAK,CAACijB,UAAN,MAAsB,KAAK,EAA3B,CADF,GAEEjjB,KAAK,CAACkjB,UAAN,MAAsB,KAAK,EAAL,GAAU,EAAhC,CAHJ,EAIEzV,OAJF,CAIU,CAJV,CAD0B,CAAN,CAMpBiU,SANoB,CAMV,CANU,CAAtB;EAQA,IAAIyB,mBAAmB,GAAGP,MAAM,CAC9B1pB,aAAa,CAACuU,OAAd,CAAsB,CAAtB,CAD8B,CAAN,CAExBiU,SAFwB,CAEd,CAFc,CAA1B;;EAGA,IAAIxoB,aAAa,GAAG,CAApB,EAAuB;IAAEiqB,mBAAmB,GAAI,IAAGA,mBAAmB,CAACzB,SAApB,CAA8B,CAA9B,CAAiC,EAA3D;EAA+D;;EACxF,IAAIxoB,aAAa,IAAI,CAArB,EAAwB;IAAEiqB,mBAAmB,GAAI,IAAGA,mBAAoB,EAA9C;EAAkD;;EAE5E,IAAIC,SAAS,GAAGR,MAAM,CAACvpB,KAAK,CAACgqB,aAAN,CAAoB,CAApB,CAAD,CAAN,CACbC,KADa,CACP,GADO,EAEbC,IAFa,CAER,EAFQ,EAGb7B,SAHa,CAGH,CAHG,EAGA,CAHA,CAAhB;EAIA,IAAIroB,KAAK,GAAG,CAAZ,EAAe+pB,SAAS,GAAI,IAAGA,SAAS,CAAC1B,SAAV,CAAoB,CAApB,EAAuB,CAAvB,CAA0B,EAA1C;EACf,MAAM8B,QAAQ,GAAG7sB,IAAI,CAACqK,IAAL,CAAUrK,IAAI,CAAC8sB,KAAL,CAAW9sB,IAAI,CAAC+sB,GAAL,CAASrqB,KAAT,CAAX,CAAV,CAAjB;EAEA,MAAM6G,IAAI,GAAI,qBAAoByiB,OAAQ,GAAEG,QAAS,GAAEC,aAAc,IAAGI,mBAAoB,aAAYC,SAAU,GAAEI,QAAS,UAA7H;EACA,IAAIG,iBAAiB,GAAGf,MAAM,CAACtpB,WAAW,CAACmU,OAAZ,CAAoB,CAApB,CAAD,CAA9B;EACA,IAAInU,WAAW,GAAG,GAAlB,EAAuBqqB,iBAAiB,GAAI,IAAGA,iBAAkB,EAA1C;EAEvB,IAAIC,oBAAoB,GAAGhB,MAAM,CAACrpB,cAAc,CAACkU,OAAf,CAAuB,CAAvB,CAAD,CAAjC;;EACA,IAAIlU,cAAc,GAAG,GAArB,EAA0B;IAAEqqB,oBAAoB,GAAI,IAAGA,oBAAqB,EAAhD;EAAoD;;EAEhF,MAAMC,kBAAkB,GAAGjB,MAAM,CAC/BppB,YAAY,CAACiU,OAAb,CAAqB,CAArB,CAD+B,CAAN,CAEzBiU,SAFyB,CAEf,CAFe,CAA3B;EAIA,IAAIoC,aAAa,GAAGlB,MAAM,CAACnpB,OAAO,CAACgU,OAAR,CAAgB,CAAhB,CAAD,CAA1B;EACA,IAAIhU,OAAO,GAAG,GAAd,EAAmBqqB,aAAa,GAAI,IAAGA,aAAc,EAAlC;EAEnB,IAAIC,iBAAiB,GAAGnB,MAAM,CAAClpB,WAAW,CAAC+T,OAAZ,CAAoB,CAApB,CAAD,CAA9B;;EACA,IAAIsW,iBAAiB,GAAG,GAAxB,EAA6B;IAAEA,iBAAiB,GAAI,IAAGA,iBAAkB,EAA1C;EAA8C;;EAE7E,MAAMC,gBAAgB,GAAGpB,MAAM,CAACjpB,UAAU,CAAC0Y,WAAX,CAAuB,EAAvB,CAAD,CAA/B;EACA,MAAMlS,IAAI,GAAI,WAAUwjB,iBAAkB,IAAGC,oBAAqB,IAAGC,kBAAmB,IAAGC,aAAc,IAAGC,iBAAkB,IAAGC,gBAAiB,QAAlJ;EAEA,OAAO;IACL9jB,IADK;IAELC;EAFK,CAAP;AAID;;AAED,SAASxC,cAAT,CAAwB0jB,QAAxB,EAAkCC,QAAlC,EAA4C;EAC1C,MAAM2C,OAAO,GAAG,GAAhB;EACA,MAAMC,MAAM,GAAG,UAAU,MAAMrD,0DAAhB,CAAf,CAF0C,CAEN;;EACpC,IAAIiB,IAAI,GAAG,CAAX;EAEA,MAAMqC,MAAM,GAAG,EAAf;EACAA,MAAM,CAAC/jB,KAAP,GAAe,CAAf;EAEA+jB,MAAM,CAACC,MAAP,GAAgB/C,QAAQ,CAACK,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,CAAhB;EAEAyC,MAAM,CAACE,OAAP,GAAiB5C,QAAQ,CAACJ,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,EAA6B,EAA7B,CAAzB;EACAyC,MAAM,CAACG,SAAP,GAAmB1C,UAAU,CAACP,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAA7B;EACAyC,MAAM,CAACI,IAAP,GAAc3C,UAAU,CAACP,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAAxB;EACAyC,MAAM,CAACK,KAAP,GAAe5C,UAAU,CACtB,IAAGH,QAAQ,CACVJ,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CADU,EAEV,EAFU,CAGV,IAAGL,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAA2B,EAJT,CAAzB;EAMAyC,MAAM,CAAC9qB,KAAP,GAAeuoB,UAAU,CACtB,GAAEP,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAA2B,IAAGD,QAAQ,CACvCJ,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CADuC,EAEvC,EAFuC,CAGvC,IAAGL,QAAQ,CAACK,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAA2B,EAJT,CAAzB,CAnB0C,CA0B1C;;EACAyC,MAAM,CAACM,KAAP,GAAe7C,UAAU,CAACN,QAAQ,CAACI,SAAT,CAAmB,CAAnB,EAAsB,EAAtB,CAAD,CAAzB;EACAyC,MAAM,CAACO,KAAP,GAAe9C,UAAU,CAACN,QAAQ,CAACI,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAAzB;EACAyC,MAAM,CAAC1J,IAAP,GAAcmH,UAAU,CAAE,IAAGN,QAAQ,CAACI,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAA2B,EAAhC,CAAxB;EACAyC,MAAM,CAACQ,KAAP,GAAe/C,UAAU,CAACN,QAAQ,CAACI,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAAzB;EACAyC,MAAM,CAACS,EAAP,GAAYhD,UAAU,CAACN,QAAQ,CAACI,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAAtB;EACAyC,MAAM,CAAC7jB,EAAP,GAAYshB,UAAU,CAACN,QAAQ,CAACI,SAAT,CAAmB,EAAnB,EAAuB,EAAvB,CAAD,CAAtB,CAhC0C,CAkC1C;;EACAyC,MAAM,CAACvJ,KAAP,GAAeuJ,MAAM,CAAC7jB,EAAtB;EACA6jB,MAAM,CAAC7jB,EAAP,IAAa4jB,MAAb,CApC0C,CAoCrB;EACrB;EACA;EAEA;;EACAC,MAAM,CAACU,CAAP,GAAW,CAACV,MAAM,CAAC7jB,EAAP,GAAYwgB,6DAAb,MAAwB,CAAC,GAAD,GAAO,GAA/B,CAAX;EACAqD,MAAM,CAAC7J,OAAP,GAAiB6J,MAAM,CAACI,IAAxB;EACAJ,MAAM,CAACI,IAAP,IAAeL,MAAM,GAAG,MAAxB,CA3C0C,CA2CV;;EAChCC,MAAM,CAACK,KAAP,IAAgBN,MAAM,GAAG,MAAT,GAAkB,IAAlC,CA5C0C,CA8C1C;;EACAC,MAAM,CAAC5J,QAAP,GAAkB4J,MAAM,CAACM,KAAzB;EACAN,MAAM,CAACM,KAAP,IAAgB1D,+DAAhB;EACAoD,MAAM,CAAC3J,QAAP,GAAkB2J,MAAM,CAACO,KAAzB;EACAP,MAAM,CAACO,KAAP,IAAgB3D,+DAAhB;EACAoD,MAAM,CAACzJ,QAAP,GAAkByJ,MAAM,CAACQ,KAAzB;EACAR,MAAM,CAACQ,KAAP,IAAgB5D,+DAAhB;EACAoD,MAAM,CAACxJ,KAAP,GAAewJ,MAAM,CAACS,EAAtB;EACAT,MAAM,CAACS,EAAP,IAAa7D,+DAAb;EAEAoD,MAAM,CAACW,IAAP,GAAcX,MAAM,CAACU,CAAP,IAAY,MAAMV,MAAM,CAAC1J,IAAzB,IAAiC,GAA/C;EACA0J,MAAM,CAACY,IAAP,GAAcZ,MAAM,CAACU,CAAP,IAAY,MAAMV,MAAM,CAAC1J,IAAzB,IAAiC,GAA/C,CAzD0C,CA2D1C;EACA;EACA;EACA;EACA;EAEA;EACA;;EAEA,IAAI0J,MAAM,CAACE,OAAP,GAAiB,EAArB,EAAyB;IACvBvC,IAAI,GAAGqC,MAAM,CAACE,OAAP,GAAiB,IAAxB;EACD,CAFD,MAEO;IACLvC,IAAI,GAAGqC,MAAM,CAACE,OAAP,GAAiB,IAAxB;EACD;;EAED,MAAMtC,WAAW,GAAGd,gEAAU,CAACa,IAAD,EAAOqC,MAAM,CAACG,SAAd,CAA9B;EAEA,MAAM;IACJtC,GADI;IACCC,GADD;IACMC,EADN;IACUC,MADV;IACkBC;EADlB,IAEFL,WAFJ;EAGAoC,MAAM,CAACa,UAAP,GAAoBhE,0DAAI,CAACc,IAAD,EAAOE,GAAP,EAAYC,GAAZ,EAAiBC,EAAjB,EAAqBC,MAArB,EAA6BC,GAA7B,CAAxB;EACA+B,MAAM,CAAC5oB,SAAP,GAAmB,IAAI0E,IAAJ,CAAS6hB,IAAT,EAAeE,GAAf,EAAoBC,GAApB,EAAyBC,EAAzB,EAA6BC,MAA7B,EAAqCC,GAArC,CAAnB;EACA+B,MAAM,CAAC9J,kBAAP,GAA4B,IAAIpa,IAAJ,CAC1BkkB,MAAM,CAAC5oB,SAAP,CAAiBsG,OAAjB,KAA6BsiB,MAAM,CAAC5oB,SAAP,CAAiB0pB,iBAAjB,KAAuC,KAD1C,EAE1BC,WAF0B,GAEZxD,SAFY,CAEF,CAFE,EAEC,EAFD,CAA5B,CAjF0C,CAqF1C;;EACAR,iFAAQ,CAACiD,MAAD,EAAS;IACfF,OADe;IAEfkB,IAAI,EAAEhB,MAAM,CAACC,MAFE;IAGfpkB,KAAK,EAAEmkB,MAAM,CAACa,UAAP,GAAoB,SAHZ;IAIfI,MAAM,EAAEjB,MAAM,CAAC9qB,KAJA;IAKfgsB,KAAK,EAAElB,MAAM,CAAC1J,IALC;IAMf6K,MAAM,EAAEnB,MAAM,CAACQ,KANA;IAOfY,MAAM,EAAEpB,MAAM,CAACM,KAPA;IAQfe,GAAG,EAAErB,MAAM,CAACS,EARG;IASfa,GAAG,EAAEtB,MAAM,CAAC7jB,EATG;IAUfolB,MAAM,EAAEvB,MAAM,CAACO;EAVA,CAAT,CAAR;EAaA,OAAOP,MAAP;AACD;;AAED,SAASnM,cAAT,CAAwBO,GAAxB,EAA6B;EAC3B,OAAQ,sCAAqCA,GAAI,EAAjD;AACD;;AAED,SAAS0B,SAAT,CAAmB0L,WAAnB,EAAgC;EAC9B,MAAMC,MAAM,GAAG,EAAf;EACA,MAAMC,KAAK,GAAGF,WAAW,CAACrC,KAAZ,CAAkB,IAAlB,CAAd;EACA,IAAIuC,KAAK,GAAG,CAAZ,EAAe,MAAM,IAAIxlB,KAAJ,CAAU,mBAAV,CAAN;EACf,IAAI/C,OAAO,GAAG,IAAd;;EACA,KAAK,IAAImG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoiB,KAAK,CAAC3pB,MAA1B,EAAkC,EAAEuH,CAApC,EAAuC;IACrC,MAAMqiB,IAAI,GAAGD,KAAK,CAACpiB,CAAD,CAAL,CAAS1K,IAAT,EAAb;IACA,IAAI+sB,IAAI,CAAC5pB,MAAL,KAAgB,CAApB,EAAuB;;IAEvB,IAAI4pB,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAZ,IAAmBA,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAnC,EAAwC;MACtCxoB,OAAO,GAAG;QACRnG,IAAI,EAAE2uB;MADE,CAAV;IAGD,CAJD,MAIO,IAAIA,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAhB,EAAqB;MAC1BxoB,OAAO,GAAG,EACR,GAAGA,OADK;QAERyC,IAAI,EAAE,EAAE,GAAGzC,OAAO,CAACyC,IAAb;UAAmBG,IAAI,EAAE4lB;QAAzB;MAFE,CAAV;IAID,CALM,MAKA,IAAIA,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAhB,EAAqB;MAC1BxoB,OAAO,GAAG,EACR,GAAGA,OADK;QAERyC,IAAI,EAAE,EAAE,GAAGzC,OAAO,CAACyC,IAAb;UAAmBI,IAAI,EAAE2lB;QAAzB;MAFE,CAAV;MAIAF,MAAM,CAACtpB,IAAP,CAAYgB,OAAZ;IACD,CANM,MAMA,MAAM,IAAI+C,KAAJ,CAAU,mBAAV,CAAN;EACR;;EAED,OAAOulB,MAAP;AACD;;AAED,SAASG,YAAT,CAAsBxN,GAAtB,EAA2B;EACzB,OAAOyN,KAAK,CAACzN,GAAD,CAAL,CAAW3d,IAAX,CAAiB4d,GAAD,IAAS;IAC9B,IAAIA,GAAG,CAACyN,EAAR,EAAY;MACV,OAAOzN,GAAG,CAACnJ,IAAJ,GAAWzU,IAAX,CAAiByU,IAAD,IAAU6W,IAAI,CAACC,KAAL,CAAW9W,IAAX,CAA1B,CAAP;IACD;EACF,CAJM,CAAP;AAKD;;AAED,SAAS4I,QAAT,CAAkBM,GAAlB,EAAuB;EACrB,OAAOyN,KAAK,CAACzN,GAAD,CAAL,CAAW3d,IAAX,CAAiB4d,GAAD,IAAS;IAC9B,IAAIA,GAAG,CAACyN,EAAR,EAAY;MACV,OAAOzN,GAAG,CAACnJ,IAAJ,GAAWzU,IAAX,CAAiByU,IAAD,IAAU;QAC/B,MAAM5W,UAAU,GAAGwhB,SAAS,CAAC5K,IAAD,CAA5B;QACA,OAAO5W,UAAP;MACD,CAHM,CAAP;IAID;EACF,CAPM,CAAP;AAQD;;AAED,MAAM2tB,OAAO,GAAIjX,CAAD,KAAQ;EACtBnN,CAAC,EAAEmN,CAAC,CAACnN,CAAF,GAAMb,mEADa;EAEtBc,CAAC,EAAEkN,CAAC,CAACjN,CAAF,GAAMf,mEAFa;EAGtBe,CAAC,EAAE,CAACiN,CAAC,CAAClN,CAAH,GAAOd,mEAAWA;AAHC,CAAR,CAAhB;;AAMA,SAASklB,kBAAT,CAA4BlqB,SAA5B,EAAuCmmB,IAAvC,EAA6C;EAC3C,MAAMgE,gBAAgB,GAAGnF,mDAAA,CACvBhlB,SAAS,CAACnD,KADa,EAEvBspB,IAFuB,CAAzB;EAKA,MAAMkE,WAAW,GAAGF,gBAAgB,CAACte,QAArC;EACA,OAAOoe,OAAO,CAACI,WAAD,CAAd;AACD;;AAED,SAAS3oB,cAAT,CAAwB1B,SAAxB,EAAmCd,IAAnC,EAAyC;EACvC,MAAM8G,GAAG,GAAGkkB,kBAAkB,CAAClqB,SAAD,EAAYd,IAAZ,CAA9B,CADuC,CAEvC;;EACA,OAAO;IAAE2G,CAAC,EAAEG,GAAG,CAACH,CAAT;IAAYC,CAAC,EAAEE,GAAG,CAACF,CAAnB;IAAsBC,CAAC,EAAEC,GAAG,CAACD;EAA7B,CAAP;AACD;;AAED,SAASd,cAAT,CAAwB/F,IAAxB,EAA8B;EAC5B,MAAMorB,CAAC,GAAGprB,IAAI,CAACwG,OAAL,KAAiB,QAAjB,GAA4B,OAA5B,GAAsC,OAAhD;EACA,IAAI6kB,CAAC,GAAG,aAAa,kBAAkBD,CAAvC;EACA,IAAIC,CAAC,GAAG,IAAI/vB,IAAI,CAACC,EAAjB,EAAqB8vB,CAAC,IAAI,IAAI/vB,IAAI,CAACC,EAAd;EACrB,IAAI+vB,CAAC,GAAG,cAAc,kBAAkBF,CAAxC;EACA,IAAIE,CAAC,GAAG,IAAIhwB,IAAI,CAACC,EAAjB,EAAqB+vB,CAAC,IAAI,IAAIhwB,IAAI,CAACC,EAAd;EACrB,MAAMgwB,SAAS,GAAGF,CAAC,GAAG,cAAc/vB,IAAI,CAACkwB,GAAL,CAASF,CAAT,CAAlB,GAAgC,eAAehwB,IAAI,CAACkwB,GAAL,CAASF,CAAT,CAAjE;EACA,MAAM9jB,QAAQ,GAAG,UAAU,UAAUlM,IAAI,CAACmwB,GAAL,CAASH,CAAT,CAApB,GAAkC,UAAUhwB,IAAI,CAACmwB,GAAL,CAAS,IAAIH,CAAb,CAAV,IAChD,cAAcxlB,mEADkC,CAAnD;EAEA,MAAM4lB,SAAS,GAAG,aAAa,iBAAiBN,CAAhD;EACA,MAAMxkB,CAAC,GAAIY,QAAQ,GAAGlM,IAAI,CAACkwB,GAAL,CAASE,SAAT,CAAX,GAAiCpwB,IAAI,CAACkwB,GAAL,CAASD,SAAT,CAA5C;EAEA,MAAM5kB,CAAC,GAAIa,QAAQ,GAAGlM,IAAI,CAACmwB,GAAL,CAASF,SAAT,CAAtB;EACA,MAAM1kB,CAAC,GAAG,EAAEW,QAAQ,GAAGlM,IAAI,CAACmwB,GAAL,CAASC,SAAT,CAAX,GAAiCpwB,IAAI,CAACkwB,GAAL,CAASD,SAAT,CAAnC,CAAV;EAEA,OAAO;IAAE5kB,CAAF;IAAKC,CAAL;IAAQC;EAAR,CAAP;AACD;;AAED,SAASb,qBAAT,CAA+BihB,IAA/B,EAAqC;EACnC,MAAM0E,EAAE,GAAG1E,IAAI,GAAG,QAAP,GAAkB,OAAlB,GAA4B,OAAvC;EACA,OAAO,IAAI3rB,IAAI,CAACC,EAAT,IAAe,iBAAiB,oBAAoBowB,EAApD,CAAP;AACD;;AAED,SAAS1lB,WAAT,CAAqB2lB,SAArB,EAAgCC,SAAhC,EAA2C;EACzC,MAAMrC,CAAC,GAAGoC,SAAS,CAACjlB,CAAV,GAAcklB,SAAS,CAACllB,CAAlC;EACA,MAAMmB,CAAC,GAAG8jB,SAAS,CAAChlB,CAAV,GAAcilB,SAAS,CAACjlB,CAAlC;EACA,MAAM1E,CAAC,GAAG0pB,SAAS,CAAC/kB,CAAV,GAAcglB,SAAS,CAAChlB,CAAlC;EAEA,OAAOvL,IAAI,CAACwwB,IAAL,CAAUtC,CAAC,GAAGA,CAAJ,GAAQ1hB,CAAC,GAAGA,CAAZ,GAAgB5F,CAAC,GAAGA,CAA9B,CAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvWD,MAAMO,UAAU,GAAG,KAAK,EAAL,GAAU,EAAV,GAAe,CAAf,GAAmB,IAAtC,EAA4C;;AAC5C,MAAMspB,IAAI,GAAG,MAAM,IAAnB;AAEA,MAAM1lB,aAAa,GAAG,IAAtB;AACA,MAAMwI,SAAS,GAAG,GAAlB;AACA,MAAMzI,MAAM,GAAG3D,UAAU,IAAIspB,IAAI,GAAGld,SAAX,CAAzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLA;;AACA;AACA;AAEA;;;;AAEA,MAAMb,KAAK,GAAGge,mBAAO,CAAC,mDAAD,CAArB;;AAEA,MAAMC,aAAa,GAAG,IAAIje,KAAK,CAAC9C,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAtB;AACA,MAAMlE,WAAW,GAAG,IAAIgH,KAAK,CAAC9C,OAAV,EAApB;AACA,MAAMnE,WAAW,GAAG,IAAIiH,KAAK,CAAC9C,OAAV,EAApB;AACA,MAAMghB,QAAQ,GAAG,IAAIle,KAAK,CAAC9C,OAAV,EAAjB;AACA,MAAMihB,MAAM,GAAG,IAAIne,KAAK,CAAC9C,OAAV,EAAf;;AAEA,SAASxK,UAAT,CAAoBI,SAApB,EAA+BX,GAA/B,EAAoC;EAClC6G,WAAW,CAAColB,SAAZ,CAAsB,CAACjsB,GAAG,CAACwG,CAAL,EAAQxG,GAAG,CAACyG,CAAZ,EAAezG,GAAG,CAAC0G,CAAnB,CAAtB;EACAE,WAAW,CAACqlB,SAAZ,CAAsB,CAACtrB,SAAS,CAAC6F,CAAX,EAAc7F,SAAS,CAAC8F,CAAxB,EAA2B9F,SAAS,CAAC+F,CAArC,CAAtB;EAEAqlB,QAAQ,CAACG,UAAT,CAAoBJ,aAApB,EAAmCjlB,WAAnC;EACAmlB,MAAM,CAACE,UAAP,CAAkBtlB,WAAlB,EAA+BklB,aAA/B;EAEA,MAAMK,KAAK,GAAGJ,QAAQ,CAACK,OAAT,CAAiBJ,MAAjB,CAAd;EAEA,MAAMK,gBAAgB,GAAGxlB,WAAW,CAACylB,UAAZ,CAAuBR,aAAvB,CAAzB;EACA,MAAMS,cAAc,GAAG1lB,WAAW,CAACylB,UAAZ,CAAuB1lB,WAAvB,CAAvB;EACA,MAAM4lB,SAAS,GAAGrxB,IAAI,CAACsxB,KAAL,CAAW9mB,mEAAX,EAAwB0mB,gBAAxB,CAAlB;;EAEA,IAAIF,KAAK,GAAGK,SAAR,IAAqBD,cAAc,GAAGF,gBAA1C,EAA4D;IAC1D,OAAO,KAAP;EACD;;EACD,OAAO,IAAP;AACD;;AAED,SAASrmB,aAAT,CAAuBlG,MAAvB,EAA+BiI,MAA/B,EAAuCjB,WAAvC,EAAoD;EAClD,MAAM4lB,YAAY,GAAG5sB,MAAM,CAACQ,IAAP,CAAY2E,aAAZ,CAA0B8C,MAA1B,CAArB;EACA,OAAO2kB,YAAY,CAAC5lB,WAAD,CAAnB;AACD;;AAED,SAASf,cAAT,CACEjG,MADF,EAEEgH,WAFF,EAGEiB,MAHF,EAIE5G,WAJF,EAKE2G,KALF,EAME;EACA,MAAMpE,UAAU,GAAGsC,aAAa,CAAClG,MAAD,EAASiI,MAAT,EAAiBjB,WAAjB,CAAhC;EACA,MAAM;IAAErI;EAAF,IAAeqB,MAAM,CAACkD,OAA5B;;EAEA,IAAI7B,WAAW,IAAI,GAAf,IAAsBuC,UAAU,IAAI,CAAxC,EAA2C;IACzC,OAAO,CAAP;EACD;;EAED,IAAIvC,WAAW,IAAI,CAAf,IAAoBuC,UAAU,IAAI,CAAtC,EAAyC;IACvC,OAAO,CAAP;EACD;;EAED,OACE,CACGvC,WAAW,GAAG1C,QAAf,GACGqJ,KAAK,GAAGpE,UAFb,IAGIjF,QAJN;AAMD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9DD;AACA;AACA;AACA;;;;;;;AAEA,MAAMouB,IAAI,GAAGD,4DAAU,CAACvc,QAAQ,CAACyc,cAAT,CAAwB,MAAxB,CAAD,CAAvB,EAA0D;;AAC1DD,IAAI,CAACE,MAAL,eACE;EAAA,wBACE,uDAAC,6DAAD;IAAiB,gBAAgB,EAAE5yB,sEAA6B8yB;EAAhE,EADF,eAEE,uDAAC,4CAAD,KAFF;AAAA,EADF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;;;;AAEA,MAAMD,MAAM,GAAG;EACbI,kBAAkB,EAAE,KADP;EAEbH,gBAAgB,EAAE;AAFL,CAAf;AAKA,MAAMI,MAAM,GAAG;EACbC,MAAM,EAAGC,KAAD,KAAY;IAClBC,IAAI,EAAE;MACJC,EAAE,EAAEN,4DAAI,CAAC,OAAD,EAAU,SAAV,CAAJ,CAAyBI,KAAzB,CADA;MAEJhe,UAAU,EAAG;IAFT,CADY;IAKlBme,EAAE,EAAE;MACFle,QAAQ,EAAE,MADR;MAEFme,UAAU,EAAE;IAFV,CALc;IASlBC,EAAE,EAAE;MACFpe,QAAQ,EAAE,QADR;MAEFme,UAAU,EAAE,MAFV;MAGF3J,OAAO,EAAE;IAHP,CATc;IAclB6J,EAAE,EAAE;MACFre,QAAQ,EAAE,SADR;MAEFme,UAAU,EAAE,MAFV;MAGF3J,OAAO,EAAE;IAHP,CAdc;IAmBlB8J,EAAE,EAAE;MACFte,QAAQ,EAAE,MADR;MAEFme,UAAU,EAAE,MAFV;MAGF3J,OAAO,EAAE;IAHP;EAnBc,CAAZ;AADK,CAAf;AA4BA,MAAM+J,KAAK,GAAG;EACZA,KAAK,EAAE;IACLC,OAAO,EAAG,qBADL;IAELR,IAAI,EAAG;EAFF;AADK,CAAd;AAOA,MAAMS,WAAW,GAAG;EAClBzZ,QAAQ,EAAE;IACRiZ,EAAE,EAAE;EADI;AADQ,CAApB;AAMA,MAAMS,UAAU,GAAG;EACjBvwB,MAAM,EAAE;IACN4R,UAAU,EAAE;EADN;AADS,CAAnB;AAMA,MAAM4e,UAAU,GAAG;EACjB5U,WAAW,EAAE;IACX6U,SAAS,EAAE;MACT3e,KAAK,EAAE;IADE;EADA,CADI;EAMjBsI,KAAK,EAAE;IACLsW,KAAK,EAAE;MACLC,EAAE,EAAE;QACFC,MAAM,EAAE;UACN7e,MAAM,EAAE,MADF;UAEN8e,QAAQ,EAAE;QAFJ;MADN;IADC;EADF;AANU,CAAnB;AAkBA,MAAMvO,MAAM,GAAG;EACbwO,UAAU,EAAE;IACV,KAAK,sBADK;IAEV,KAAK,sBAFK;IAGV,KAAK;EAHK;AADC,CAAf;AAQA,MAAMt0B,KAAK,GAAG+yB,6DAAW,CAAC;EACxBF,MADwB;EAChBK,MADgB;EACRU,KADQ;EACDE,WADC;EACYC,UADZ;EACwBC,UADxB;EACoClO;AADpC,CAAD,CAAzB;AAIA,iEAAe9lB,KAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtFA;AACgH;AACjB;AAC/F,8BAA8B,mFAA2B,CAAC,4FAAqC;AAC/F;AACA,iDAAiD,kBAAkB,GAAG,OAAO,qFAAqF,UAAU,gCAAgC,kBAAkB,GAAG,mBAAmB;AACpP;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;;;;;;;;;ACPvC;AACgH;AACjB;AAC/F,8BAA8B,mFAA2B,CAAC,4FAAqC;AAC/F;AACA,oEAAoE,eAAe,kBAAkB,sBAAsB,GAAG,sBAAsB,gDAAgD,GAAG,aAAa,kBAAkB,GAAG,kBAAkB,kBAAkB,gBAAgB,eAAe,4CAA4C,oBAAoB,GAAG,kBAAkB,kBAAkB,gBAAgB,GAAG,iBAAiB,8BAA8B,eAAe,+CAA+C,GAAG,aAAa,uBAAuB,mBAAmB,kBAAkB,gBAAgB,sBAAsB,uBAAuB,GAAG,OAAO,oGAAoG,UAAU,UAAU,WAAW,MAAM,KAAK,WAAW,MAAM,KAAK,UAAU,MAAM,KAAK,UAAU,UAAU,UAAU,WAAW,UAAU,MAAM,KAAK,UAAU,UAAU,MAAM,MAAM,KAAK,KAAK,WAAW,MAAM,KAAK,WAAW,UAAU,UAAU,UAAU,WAAW,WAAW,qDAAqD,eAAe,kBAAkB,sBAAsB,GAAG,sBAAsB,2CAA2C,KAAK,aAAa,kBAAkB,GAAG,kBAAkB,kBAAkB,gBAAgB,eAAe,wCAAwC,oBAAoB,GAAG,eAAe,kBAAkB,gBAAgB,GAAG,iBAAiB,8BAA8B,iBAAiB,gDAAgD,aAAa,uBAAuB,mBAAmB,kBAAkB,gBAAgB,sBAAsB,uBAAuB,GAAG,uBAAuB;AACzrD;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNvC,MAAqG;AACrG,MAA2F;AAC3F,MAAkG;AAClG,MAAqH;AACrH,MAA8G;AAC9G,MAA8G;AAC9G,MAAqJ;AACrJ;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;;AAErC,uBAAuB,uGAAa;AACpC;AACA,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,yHAAO;;;;AAI+F;AACvH,OAAO,iEAAe,yHAAO,IAAI,gIAAc,GAAG,gIAAc,YAAY,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzB7E,MAAqG;AACrG,MAA2F;AAC3F,MAAkG;AAClG,MAAqH;AACrH,MAA8G;AAC9G,MAA8G;AAC9G,MAAwJ;AACxJ;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;;AAErC,uBAAuB,uGAAa;AACpC;AACA,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,4HAAO;;;;AAIkG;AAC1H,OAAO,iEAAe,4HAAO,IAAI,mIAAc,GAAG,mIAAc,YAAY,EAAC","sources":["webpack:///./src/App.jsx","webpack:///./src/Model/mission.js","webpack:///./src/Model/satellite.js","webpack:///./src/Model/simulation.js","webpack:///./src/Model/store.js","webpack:///./src/Simulation/Beam.js","webpack:///./src/Simulation/Camera.js","webpack:///./src/Simulation/Earth.js","webpack:///./src/Simulation/Frame.js","webpack:///./src/Simulation/Satellite.js","webpack:///./src/Simulation/Satellites.js","webpack:///./src/Simulation/Shaders/LaserBeam.js","webpack:///./src/Simulation/Simulation.js","webpack:///./src/Simulation/Sun.js","webpack:///./src/UI/Controls.js","webpack:///./src/UI/HUD/Gauge.js","webpack:///./src/UI/HUD/HUD.js","webpack:///./src/UI/LoopDialog.js","webpack:///./src/UI/MissionPlanner/ConfigModal.js","webpack:///./src/UI/MissionPlanner/CustomEditableInput.js","webpack:///./src/UI/MissionPlanner/CustomNumberInput.js","webpack:///./src/UI/MissionPlanner/DutyTab.js","webpack:///./src/UI/MissionPlanner/EditableControls.js","webpack:///./src/UI/MissionPlanner/MissionPlanner.js","webpack:///./src/UI/MissionPlanner/OrbitTab.js","webpack:///./src/UI/MissionPlanner/PowerTab.js","webpack:///./src/UI/MissionPlanner/SatelliteList.js","webpack:///./src/UI/MissionPlanner/defaultInputs.js","webpack:///./src/UI/PerformanceView/Chart.js","webpack:///./src/UI/PerformanceView/ChartEditor.js","webpack:///./src/UI/PerformanceView/PerformanceView.js","webpack:///./src/UI/PerformanceView/SatelliteList.js","webpack:///./src/UI/PerformanceView/Summary.js","webpack:///./src/UI/ViewButtons.js","webpack:///./src/UI/index.js","webpack:///./src/Util/astronomy.js","webpack:///./src/Util/constants.js","webpack:///./src/Util/power.js","webpack:///./src/index.js","webpack:///./src/theme.js","webpack:///./src/UI/HUD/HUD.css","webpack:///./src/UI/PerformanceView/Charts.css","webpack:///./src/UI/HUD/HUD.css?d53d","webpack:///./src/UI/PerformanceView/Charts.css?eb8b"],"sourcesContent":["/* eslint-disable react/jsx-curly-brace-presence */\nimport {\n  Center,\n  ChakraProvider,\n  Grid, GridItem, Spinner, Button, Flex, Text,\n} from '@chakra-ui/react';\nimport {\n  useState, useEffect, useRef, useCallback, Suspense,\n  useTransition,\n  useMemo,\n  useLayoutEffect,\n} from 'react';\nimport '@fontsource/barlow/700.css';\nimport '@fontsource/barlow/400.css';\nimport '@fontsource/azeret-mono';\nimport shallow from 'zustand/shallow';\nimport PerformanceView from 'UI/PerformanceView/PerformanceView';\nimport { useGLTF } from '@react-three/drei';\nimport Controls from './UI/Controls';\nimport { useStore } from './Model/store';\nimport { defaultValues } from './UI/MissionPlanner/defaultInputs';\nimport { MissionPlanner, HUD } from './UI';\nimport theme from './theme';\nimport ViewButtons from './UI/ViewButtons';\nimport Simulation from './Simulation/Simulation';\nimport SatelliteGLB from './Assets/Mesh/lowpolysat.glb';\n\nfunction App() {\n  const {\n    view, setView, initializeMission, isInitialized, storeObj,\n  } = useStore(\n    (state) => ({\n      view: state.view,\n      setView: state.setView,\n      initializeMission: state.initializeMission,\n      isInitialized: state.isInitialized,\n      storeObj: state.storeObj,\n    }),\n    shallow,\n  );\n  const obj = useGLTF(SatelliteGLB);\n\n  useLayoutEffect(() => {\n    obj.nodes.Satellite.geometry.rotateY((3 * Math.PI) / 2);\n    storeObj(obj);\n  }, [obj]);\n\n  const [firstRender, setFirstRender] = useState(false);\n  useEffect(() => {\n    if (firstRender) {\n      initializeMission(defaultValues);\n    }\n  }, [firstRender]);\n  useEffect(() => {\n    setFirstRender(true);\n  }, []);\n  return (\n    <ChakraProvider theme={theme}>\n      <Grid\n        minHeight={'100vh'}\n        width={'100%'}\n        templateRows={view.templateRows}\n        templateColumns={view.templateColumns}\n        templateAreas={view.templateAreas}\n      >\n        <GridItem area={view.headerArea} display={view.name === 'simulation' ? '' : 'none'} zIndex={99}>\n          <Grid\n            h={'100%'}\n            templateColumns={'1fr 1fr 1fr'}\n            templateRows={'1fr 2fr'}\n            templateAreas={\n               `\". . .\"\n               \"views title controls\"`\n            }\n          >\n            <ViewButtons />\n            <GridItem area={'title'}>\n              <Flex align=\"center\" height=\"100%\" justify=\"center\" gap={2}>\n                <h1>Space Power Simulator</h1>\n                <span>(beta)</span>\n              </Flex>\n            </GridItem>\n            <GridItem area={'controls'}>\n              { isInitialized\n                ? (\n                  <Controls />\n                )\n                : '' }\n            </GridItem>\n          </Grid>\n        </GridItem>\n        <GridItem position=\"relative\" area={view.simulationArea}>\n          <Grid\n            h={'100%'}\n            templateColumns={'1fr 0.25fr'}\n            templateRows={'0.125fr 1.75fr 0.625fr 0.125fr'}\n          >\n            { isInitialized ? (\n              <>\n                <Simulation />\n                <HUD />\n              </>\n            ) : <Spinner position=\"absolute\" top=\"50%\" left=\"50%\" transform={'translate(-50%, -50%)'} />}\n            {((view.name === 'mission') || (view.name === 'performance'))\n              ? (\n                <>\n                  <GridItem area={'4 / 2 / 5 / 4'}>\n                    <Button value={'simulation'} onClick={setView}>\n                      Return\n                    </Button>\n                  </GridItem>\n                  <GridItem area={'1 / 1 / 1 / 3'}>\n                    <Controls />\n                  </GridItem>\n                </>\n              ) : ''}\n          </Grid>\n        </GridItem>\n        <MissionPlanner shouldDisplay={view.name === 'mission'} />\n        {isInitialized ? (\n          <PerformanceView />\n        )\n          : ''}\n        <GridItem area={view.footerArea}>\n          <Text align=\"center\" fontSize=\"0.75rem\" color=\"grey\">\n            Copyright  SPACE POWER Ltd 2022. All Rights Reserved.\n          </Text>\n        </GridItem>\n      </Grid>\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n","/* eslint-disable consistent-return */\n/* eslint-disable max-len */\n/* eslint-disable no-param-reassign */\nimport * as Yup from 'yup';\nimport { createSatellite, createPowerSatellite, getOffsets } from './satellite';\nimport {\n  getTimeArray,\n  getSatellitePositions,\n  getSunPositions,\n  getEclipsedArray,\n  getCurrentDuties,\n  getBeams,\n  getBeamDuties,\n  getChargeStates,\n  getDischargeSaved,\n  getEarthRotationAngles,\n  getSources,\n  getLowestChargeState,\n} from './simulation';\n\nconst MissionSchema = Yup.object().shape({\n\n  satellites: Yup.array()\n    .of(\n      Yup.object().shape({\n        name: Yup.string()\n          .min(2, 'Too Short!')\n          .max(50, 'Too Long!')\n          .trim(),\n        // size: Yup.number()\n        //   .integer()\n        //   .min(1, 'Size must be 1 or more!')\n        //   .max(6, 'Size must be 6 or less!')\n        //   .required('size is required'),\n        // tle1: Yup.string()\n        //   .min(69, 'tle must be 69 columns')\n        //   .max(69, 'tle must be 69 columns')\n        //   .required('tle line 1 is required'),\n        // tle2: Yup.string()\n        //   .min(69, 'tle must be 69 columns')\n        //   .max(69, 'tle must be 69 columns')\n        //   .required('tle line 2 required'),\n\n        orbit: Yup.object().shape({\n          tle: Yup.string(),\n          meanMotionDot: Yup.number()\n            .min(-1, 'Must be more than -1')\n            .max(1, 'Must be less than 1')\n            .required('meanMotionDot is required'),\n          bstar: Yup.number()\n            .min(-2, 'Must be between -2 and 2')\n            .max(2, 'Must be between -2 and 2')\n            .required('bstar is required'),\n          inclination: Yup.number()\n            .min(0, 'Must be 0-360')\n            .max(360, 'Must be 0-360')\n            .required('inclination is required'),\n          rightAscension: Yup.number()\n            .min(0, 'Must be 0-360')\n            .max(360, 'Must be 0-360')\n            .required('right ascension is required'),\n          eccentricity: Yup.number()\n            .min(0, 'Must be between 0 and 1')\n            .max(1, 'Must be between 0 and 1')\n            .required('eccentricity is required'),\n          perigee: Yup.number()\n            .min(0, 'Must be 0-360')\n            .max(360, 'Must be 0-360')\n            .required('perigee is required'),\n          meanAnomaly: Yup.number()\n            .min(0, 'Must be 0-360')\n            .max(360, 'Must be 0-360')\n            .required('mean anomaly is required'),\n          meanMotion: Yup.number()\n            .min(0, 'Must be greater than 0')\n            .max(16, 'Must be less than 16')\n            .required('mean motion is required'),\n        }),\n        power: Yup.object().shape({\n          pvVoltage: Yup.number()\n            .min(0, 'Must be positive')\n            .required('pv voltage is required'),\n          currentDensity: Yup.number()\n            .min(0, 'Must be positive')\n            .required('pv current density is required'),\n          area: Yup.number()\n            .min(0, 'Must be greater than 0')\n            .required('pv area is required'),\n          batteryVoltage: Yup.number()\n            .min(0, 'Must be positive')\n            .required('battery voltage is required'),\n          capacity: Yup.number()\n            .min(0, 'Must be greater than 0')\n            .required('battery capacity is required'),\n          powerStoringConsumption: Yup.number()\n            .min(0, 'Must be greater than 0')\n            .required('Power storing consumption is required'),\n        }),\n        duties: Yup.array()\n          .of(\n            Yup.object().shape({\n              type: Yup.string()\n                .oneOf(['cyclical'])\n                .required('Type is required'),\n              name: Yup.string()\n                .min(2, 'Too Short!')\n                .max(30, 'Too Long!')\n                .required('required!'),\n              priority: Yup.number()\n                .integer()\n                .min(1)\n                .required('Priority is required'),\n              consumption: Yup.number()\n                .min(0, 'Must be positive')\n                .required('Consumption is required'),\n              duration: Yup.number()\n                .min(0, 'Must be positive')\n                .when(\n                  'type',\n                  {\n                    is: 'cyclical',\n                    then: Yup.number().required('Duration is required'),\n                  },\n                ),\n              cycles: Yup.number()\n                .min(0, 'Must be positive')\n                .when(\n                  'type',\n                  {\n                    is: 'cyclical',\n                    then: Yup.number().required('Cycles is required'),\n                  },\n                ),\n            }),\n          ),\n      }),\n    ),\n  powerSats: Yup.number()\n    .integer()\n    .min(0, 'Must be an integer greater than or equal to 0'),\n  offsets: Yup.object().shape({\n    inclination: Yup.number()\n      .min(0, 'Must be 0-36')\n      .max(36, 'Must be 0-36')\n      .required('inclination is required'),\n    rightAscension: Yup.number()\n      .min(0, 'Must be 0-36')\n      .max(36, 'Must be 0-36')\n      .required('right ascension is required'),\n    eccentricity: Yup.number()\n      .min(0, 'Must be between 0 and 1')\n      .max(1, 'Must be between 0 and 1')\n      .required('eccentricity is required'),\n    perigee: Yup.number()\n      .min(0, 'Must be 0-36')\n      .max(36, 'Must be 0-36')\n      .required('perigee is required'),\n    meanAnomaly: Yup.number()\n      .min(0, 'Must be 0-360')\n      .max(360, 'Must be 0-360')\n      .required('mean anomaly is required'),\n    meanMotion: Yup.number()\n      .min(0, 'Must be greater than 0')\n      .max(16, 'Must be less than 16')\n      .required('mean motion is required'),\n  }),\n});\n\nconst handleMissionRequest = (req) => {\n  // try {\n  //   missionSchema.validate(req);\n  // } catch (err) {\n  //   console.log(err);\n  //   return new Error({ type: err.name, message: `${err.path} ${err.message}` });\n  // }\n\n  // initialize customers\n  const customers = req.satellites.map((customer) => createSatellite(customer));\n  // initialize global simulation parameters\n  const time = getTimeArray(customers[0].params.orbit.epochdate);\n  const sun = getSunPositions(time);\n  const earth = getEarthRotationAngles(time);\n\n  // simulate customer orbits and duties\n  customers.forEach((customer) => {\n    customer.positions = getSatellitePositions(customer.params, time);\n    customer.performance = {\n      currentDuties: getCurrentDuties(customer.params.load.duties, time),\n      isEclipsed: getEclipsedArray(customer, sun, time),\n    };\n  });\n  const offsets = getOffsets(Number(req.spacePowers), req.satellites.length, req.offsets);\n  const spacePowers = [];\n\n  req.satellites.forEach((satellite, index) => {\n    if (!offsets[index]) return;\n    return offsets[index].forEach((offset) => spacePowers.push(createPowerSatellite(\n      `Space Power ${index + 1}`,\n      satellite.orbit,\n      offset,\n    )));\n  });\n\n  // simulate space power orbits and initialize beams\n  const beams = [];\n  spacePowers.forEach((spacePower) => {\n    spacePower.positions = getSatellitePositions(spacePower.params, time);\n    const satBeams = getBeams(spacePower, customers, time);\n    spacePower.performance = {\n      currentDuties: getBeamDuties(satBeams, time),\n      isEclipsed: getEclipsedArray(spacePower, sun, time),\n    };\n    beams.push(...satBeams);\n  });\n\n  // simulate batteries\n  customers.forEach((customer) => {\n    customer.performance.sources = getSources(customer, beams, time);\n\n    customer.performance = {\n      ...customer.performance,\n      chargeState: getChargeStates(customer, time),\n      chargeStateNoBeams: getChargeStates(customer, time, false),\n    };\n    const [dischargeSaved, timeCharged] = getDischargeSaved(customer);\n    const [lowestChargeStateBeams, lowestChargeStateNoBeams] = getLowestChargeState(customer);\n    customer.summary = {\n      dischargeSaved,\n      timeCharged,\n      lowestChargeStateBeams,\n      lowestChargeStateNoBeams,\n    };\n  });\n\n  spacePowers.forEach((spacePower) => {\n    spacePower.performance.sources = getSources(spacePower, beams, time);\n    spacePower.performance = {\n      ...spacePower.performance,\n      chargeState: getChargeStates(spacePower, time),\n    };\n  });\n\n  // calculate averages\n\n  const fleet = {\n    name: 'fleet',\n    performance: {\n      chargeState: time.map((t, index) => customers.reduce((prev, current) => prev + current.performance.chargeState[index], 0) / customers.length),\n      chargeStateNoBeams: time.map((t, index) => customers.reduce((prev, current) => prev + current.performance.chargeStateNoBeams[index], 0) / customers.length),\n    },\n    summary: {\n      dischargeSaved: customers.reduce((prev, current) => prev + current.summary.dischargeSaved, 0),\n      timeCharged: customers.reduce((prev, current) => prev + current.summary.timeCharged, 0),\n      lowestChargeStateBeams: customers.reduce((prev, current) => {\n        const c = current.summary.lowestChargeStateBeams;\n        return prev < c ? prev : c;\n      }, customers[0].summary.lowestChargeStateBeams),\n      lowestChargeStateNoBeams: customers.reduce((prev, current) => {\n        const c = current.summary.lowestChargeStateNoBeams;\n        return prev < c ? prev : c;\n      }, customers[0].summary.lowestChargeStateNoBeams),\n    },\n  };\n\n  return {\n    success: true,\n    time,\n    satellites: {\n      customers,\n      spacePowers,\n      fleet,\n    },\n    beams,\n    sun,\n    earth,\n  };\n};\n\nexport { handleMissionRequest, MissionSchema };\n","/* eslint-disable consistent-return */\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n  twoline2satrec,\n  generateTLE,\n  getOrbitAtTime,\n} from '../Util/astronomy';\nimport { SIM_LENGTH } from '../Util/constants';\n\nconst PV_SOURCES = {\n  sunOnly: {\n    name: 'sun',\n    efficiency: 1,\n  },\n  beamOnly: {\n    name: 'beam',\n    efficiency: 1,\n  },\n  sunAndBeam: {\n    name: 'sun and beam',\n    efficiency: 1.5,\n  },\n  eclipsed: {\n    name: 'eclipsed',\n    efficiency: 0,\n  },\n};\n\nconst POWER_SAT_REQUEST = {\n  power: {\n    pvVoltage: 4.7,\n    currentDensity: 170.5,\n    area: 0.0128,\n    batteryVoltage: 3.6,\n    capacity: 1.125,\n    powerStoringConsumption: 1.2,\n  },\n  duties: [\n    {\n      name: 'beaming',\n      duration: null,\n      cycles: null,\n      consumption: 3.2,\n      type: 'space power',\n    },\n  ],\n};\n\nfunction generatePowerProfiles(pv, duties, battery) {\n  const { area, voltage, currentDensity } = pv;\n  const newPowerProfiles = [];\n  Object.entries(pv.sources).forEach((pvSource) => {\n    const current = currentDensity * pvSource[1].efficiency * area;\n    const pvPower = current * voltage;\n    const loadProfiles = [];\n    duties.forEach((duty) => {\n      const netPower = pvPower - duty.consumption;\n      const netCurrent = netPower / battery.voltage;\n      loadProfiles.push(netCurrent);\n    });\n    newPowerProfiles[pvSource[1].name] = loadProfiles;\n  });\n  return newPowerProfiles;\n}\n\nfunction getDutyIntervals(duty, period, time) {\n  const cycles = Number(duty.cycles);\n  const duration = Number(duty.duration) * 1000;\n  const interval = (period - (duration * cycles)) / cycles;\n  const totalCycles = Math.floor((SIM_LENGTH / period) * cycles);\n  return Array.from({ length: totalCycles }, (value, index) => {\n    const start = time.valueOf() + (interval * (index + 1)) + (duration * index);\n    return {\n      start,\n      end: start + duration,\n    };\n  });\n}\n\nfunction createSatellite(satellite, isCustomer = true) {\n  const tles = generateTLE({\n    ...satellite.orbit,\n    epoch: new Date(satellite.orbit.epoch),\n  });\n  const orbit = twoline2satrec(tles.tle1, tles.tle2);\n\n  try {\n    getOrbitAtTime({ orbit }, new Date());\n  } catch {\n    const error = `Unable to propagate orbital parameters for ${satellite.name}. ${\n      isCustomer ? 'Please try different values or choose a TLE.' : 'Please try different offsets in the power configuration menu.'}`;\n    throw new Error(error);\n  }\n\n  orbit.period = (2 * Math.PI * 60 * 1000) / orbit.no;\n\n  const pv = {\n    sources: PV_SOURCES,\n    voltage: satellite.power.pvVoltage,\n    currentDensity: satellite.power.currentDensity,\n    area: satellite.power.area,\n  };\n\n  const battery = {\n    voltage: satellite.power.batteryVoltage,\n    capacity: satellite.power.capacity,\n  };\n\n  const duties = satellite.duties.map((duty) => ({\n    name: duty.name,\n    type: duty.type,\n    consumption: Number(duty.consumption),\n    duration: (Number(duty.duration) * 1000) || null,\n    cycles: Number(duty.cycles) || null,\n    intervals: duty.type === 'cyclical' ? getDutyIntervals(duty, orbit.period, orbit.epochdate) : null,\n  }));\n\n  duties.unshift({\n    name: 'Power storing',\n    type: 'power storing',\n    consumption: satellite.power.powerStoringConsumption,\n  });\n  const powerProfiles = generatePowerProfiles(pv, duties, battery);\n  return {\n    name: satellite.name,\n    id: satellite.id,\n    params: {\n      orbit,\n      battery,\n      pv,\n      load: {\n        powerProfiles,\n        duties,\n      },\n    },\n    isCustomer,\n  };\n}\n\nfunction createPowerSatellite(name, orbit, offsets) {\n  const newOrbit = { ...orbit };\n  Object.entries(offsets).forEach((offset) => {\n    newOrbit[offset[0]] = orbit[offset[0]] + Number(offset[1]);\n  });\n\n  const request = {\n    ...POWER_SAT_REQUEST,\n    name,\n    id: uuidv4(),\n    orbit: newOrbit,\n  };\n  return createSatellite(request, false);\n}\n\nfunction getOffsets(spacePowers, customers, offsets) {\n  if (spacePowers === 0) return [];\n  if (spacePowers === customers) return Array.from({ length: customers }, () => [offsets]);\n  if (spacePowers < customers) {\n    const spacing = Math.floor(customers / spacePowers);\n    let total = 0;\n    return Array.from({ length: customers }, (value, index) => {\n      if (index % spacing) return null;\n      total += 1;\n      if (total > spacePowers) return null;\n      return [offsets];\n    });\n  }\n  if (spacePowers > customers) {\n    let ratio = Math.ceil(spacePowers / customers);\n    let total = 0;\n    return Array.from(\n      { length: customers },\n      () => {\n        let multiplier = 0;\n        if ((total + ratio) > spacePowers) ratio = spacePowers - total;\n        return Array.from({ length: ratio }, (value, index) => {\n          if (index % 2 === 0) multiplier += 1;\n          const newOffsets = {};\n          Object.entries(offsets).forEach((offset) => {\n            newOffsets[offset[0]] = offset[1] * multiplier * ((0 - 1) ** index);\n          });\n          total += 1;\n\n          return newOffsets;\n        });\n      },\n    );\n  }\n}\n\nexport { createSatellite, createPowerSatellite, getOffsets };\n","/* eslint-disable consistent-return */\n/* eslint-disable max-len */\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { earthRadius } from 'satellite.js/lib/constants';\nimport {\n  getOrbitAtTime, getSunPosition, getEarthRotationAngle, getDistance,\n} from '../Util/astronomy';\nimport { isEclipsed, getChargeState, getNetCurrent } from '../Util/power';\nimport { SIM_LENGTH, FRAMES, BEAM_DISTANCE } from '../Util/constants';\n\nfunction getTimeArray(initial) {\n  const initialMillisecs = initial.getTime();\n  const mspf = SIM_LENGTH / FRAMES;\n  return Array.from({ length: FRAMES }, (value, index) => {\n    const time = initialMillisecs + index * mspf;\n    return time;\n  });\n}\n\nfunction getSatellitePositions(satellite, timeArray) {\n  const x = [];\n  const y = [];\n  const z = [];\n\n  timeArray.forEach((time) => {\n    const pos = getOrbitAtTime(satellite, new Date(time));\n    x.push(pos.x);\n    y.push(pos.y);\n    z.push(pos.z);\n  });\n\n  return {\n    x,\n    y,\n    z,\n  };\n}\n\nfunction getSunPositions(timeArray) {\n  const x = [];\n  const y = [];\n  const z = [];\n\n  timeArray.forEach((time) => {\n    const pos = getSunPosition(new Date(time));\n    x.push(pos.x);\n    y.push(pos.y);\n    z.push(pos.z);\n  });\n\n  return {\n    x,\n    y,\n    z,\n  };\n}\n\nfunction getEarthRotationAngles(timeArray) {\n  return timeArray.map((time) => getEarthRotationAngle(time));\n}\n\nfunction getEclipsedArray(satellite, sun, timeArray) {\n  return timeArray.map((time, index) => {\n    const satPosition = {\n      x: satellite.positions.x[index],\n      y: satellite.positions.y[index],\n      z: satellite.positions.z[index],\n    };\n\n    const sunPosition = {\n      x: sun.x[index],\n      y: sun.y[index],\n      z: sun.z[index],\n    };\n    return isEclipsed(satPosition, sunPosition);\n  });\n}\n\nfunction getCurrentDuties(duties, timeArray) {\n  return timeArray.map((time) => {\n    let currentDuty = 0;\n    duties.forEach((duty, index) => {\n      if (duty.type === 'power storing') return;\n      duty.intervals.forEach((cycle) => {\n        if ((time >= cycle.start) && (time <= cycle.end)) currentDuty = index;\n      });\n    });\n    return currentDuty;\n  });\n}\n\nfunction getBeams(spacePower, customers, timeArray) {\n  return customers.map((customer) => {\n    const beamName = `${spacePower.name} - ${customer.name}`;\n    const distances = timeArray.map((time, index) => {\n      const spacePowerPosition = {\n        x: spacePower.positions.x[index],\n        y: spacePower.positions.y[index],\n        z: spacePower.positions.z[index],\n      };\n      const customerPosition = {\n        x: customer.positions.x[index],\n        y: customer.positions.y[index],\n        z: customer.positions.z[index],\n      };\n      return getDistance(spacePowerPosition, customerPosition);\n    });\n    const activated = distances.map((distance) => {\n      if ((distance * earthRadius) < BEAM_DISTANCE) return true;\n      return false;\n    });\n    return {\n      name: beamName,\n      distances,\n      activated,\n      customerId: customer.id,\n      spacePowerId: spacePower.id,\n      id: uuidv4(),\n    };\n  });\n}\n\nfunction getBeamDuties(beams, timeArray) {\n  return timeArray.map((time, index) => (beams.reduce((prev, current) => current.activated[index] || prev, false) ? 1 : 0));\n}\n\nfunction getSource(satellite, beams, index) {\n  let hasBeam;\n  if (beams) {\n    const satBeams = beams.filter((b) => b.customerId === satellite.id);\n    hasBeam = satBeams.reduce((prev, current) => current.activated[index] || prev, false);\n  } else {\n    hasBeam = false;\n  }\n\n  const hasSun = !satellite.performance.isEclipsed[index];\n\n  if (!hasSun && hasBeam) return 'beam';\n  if (hasSun && hasBeam) return 'sun and beam';\n  if (!hasSun && !hasBeam) return 'eclipsed';\n  if (hasSun && !hasBeam) return 'sun';\n}\n\nfunction getSources(satellite, beams, timeArray) {\n  return timeArray.map((time, index) => getSource(satellite, beams, index));\n}\n\nfunction getChargeStates(satellite, timeArray, hasBeams = true) {\n  const delta = ((SIM_LENGTH / (60 * 60 * 1000)) / FRAMES);\n  let chargeState = 1;\n  return timeArray.map((time, index) => {\n    let source = satellite.performance.sources[index];\n    if (hasBeams === false) {\n      if (source === 'sun and beam') source = 'sun';\n      if (source === 'beam') source = 'eclipsed';\n    }\n    chargeState = getChargeState(satellite.params, satellite.performance.currentDuties[index], source, chargeState, delta);\n    if (chargeState > 1) return 1;\n    return chargeState;\n  });\n}\n\nfunction getDischargeSaved(satellite) {\n  let timeCharged = 0;\n  const totalCurrent = satellite.performance.sources.reduce((prev, source, i) => {\n    const currentDuty = satellite.performance.currentDuties[i];\n    const netCurrent = getNetCurrent(satellite.params, source, currentDuty);\n    let sourceNoBeams = source;\n    if (source === 'sun and beam') {\n      sourceNoBeams = 'sun';\n      timeCharged += 1;\n    } else if (source === 'beam') {\n      timeCharged += 1;\n      sourceNoBeams = 'eclipsed';\n    }\n    const netCurrentNoBeams = getNetCurrent(satellite.params, sourceNoBeams, currentDuty);\n    return (netCurrent - netCurrentNoBeams) + prev;\n  }, 0);\n  const dischargeSaved = (totalCurrent * (SIM_LENGTH / (1000 * 60 * 60))) / FRAMES;\n  timeCharged = ((timeCharged / FRAMES) * SIM_LENGTH) / (1000 * 60);\n  return [dischargeSaved, timeCharged];\n}\n\nfunction getLowestChargeState(satellite) {\n  const lowestBeams = satellite.performance.chargeState.reduce((prev, current) => (current < prev ? current : prev), 1);\n  const lowestNoBeams = satellite.performance.chargeStateNoBeams.reduce((prev, current) => (current < prev ? current : prev), 1);\n  return [lowestBeams, lowestNoBeams];\n}\n\nexport {\n  getTimeArray,\n  getSatellitePositions,\n  getSunPositions,\n  getEarthRotationAngles,\n  getEclipsedArray,\n  getCurrentDuties,\n  getSources,\n  getChargeStates,\n  getBeams,\n  getBeamDuties,\n  getDischargeSaved,\n  getLowestChargeState,\n};\n","import create from 'zustand';\nimport createVanilla from 'zustand/vanilla';\nimport { handleMissionRequest } from './mission';\n\nconst defaultOptions = {\n  showLabel: false,\n};\n\nconst views = {\n  simulation: {\n    name: 'simulation',\n    templateRows: '0.375fr 2.125fr 0.125fr',\n    templateColumns: '1fr',\n    templateAreas: '',\n    simulationArea: ' 1 / 1 / 4 / 2',\n    headerArea: ' 1 / 1 / 2 / 4',\n    footerArea: '3 / 1 / 4 / 2',\n  },\n  mission: {\n    name: 'mission',\n    templateRows: '0.75fr 1.75fr 0.125fr',\n    templateColumns: '1fr 2.25fr',\n    templateAreas: `\"simulation parameters\"\n  \"select parameters\"\n  \"footer footer\"`,\n    simulationArea: 'simulation',\n    headerArea: '',\n    footerArea: 'footer',\n  },\n  performance: {\n    name: 'performance',\n    templateRows: '1fr 1.5fr 0.125fr',\n    templateColumns: '1fr 2fr',\n    templateAreas: `\"simulation performance\"\n  \"summary performance\"\n  \"footer footer\"`,\n    simulationArea: 'simulation',\n    headerArea: '',\n    footerArea: 'footer',\n  },\n};\n\nconst useFrameStore = createVanilla(() => ({\n  frame: 0,\n}));\n\nconst useStore = create((set) => ({\n  isPaused: false,\n  speed: 1,\n  cameraTarget: {\n    name: 'earth',\n    ref: null,\n    lock: true,\n    id: null,\n  },\n  refs: new Map(),\n  satelliteOptions: new Map(),\n  view: views.simulation,\n  mission: null,\n  isInitialized: false,\n  satelliteObj: null,\n  shouldLoop: false,\n  isFinished: false,\n  setLoop: (shouldLoop) => set(() => ({ shouldLoop })),\n  setFinished: (isFinished) => set(() => ({ isFinished })),\n  storeObj: (obj) => set(() => ({ satelliteObj: obj })),\n  setInitialized: (isInitialized) => set(() => ({ isInitialized })),\n  setPaused: (isPaused) => set(() => ({ isPaused })),\n  setSpeed: (speed) => set(() => ({ speed })),\n  attachCamera: (id) => set((state) => ({\n    cameraTarget: {\n      ...state.cameraTarget,\n      ref: state.refs.get(id),\n      id,\n      name: state.satelliteOptions.get(id).name,\n    },\n  })),\n  detachCamera: () => set((state) => ({\n    cameraTarget: {\n      ...state.cameraTarget,\n      name: 'earth',\n      ref: null,\n      id: null,\n    },\n  })),\n  toggleLabel: (id) => set((state) => {\n    const prev = state.satelliteOptions.get(id);\n    return ({\n      satelliteOptions: new Map(state.satelliteOptions).set(id, {\n        ...prev,\n        showLabel: !prev.showLabel,\n      }),\n    });\n  }),\n  toggleAllLabels: (shouldShow) => set((state) => {\n    const newOptions = new Map(state.satelliteOptions);\n    if (!shouldShow) {\n      newOptions.forEach(\n        (value, key) => newOptions.set(key, { ...value, showLabel: false }),\n      );\n    } else {\n      newOptions.forEach(\n        (value, key) => newOptions.set(key, { ...value, showLabel: true }),\n      );\n    }\n    return ({\n      satelliteOptions: newOptions,\n    });\n  }),\n  setLockCamera: (lock) => set((state) => ({\n    cameraTarget: {\n      ...state.cameraTarget,\n      lock,\n    },\n  })),\n  storeRef: (id, ref) => set((state) => ({ refs: new Map(state.refs).set(id, ref) })),\n  initializeMission: (values) => set(() => {\n    const mission = handleMissionRequest(values);\n    const satellites = [...mission.satellites.customers, ...mission.satellites.spacePowers];\n    const newOptions = new Map();\n    satellites.forEach((satellite) => {\n      newOptions.set(satellite.id, {\n        ...defaultOptions,\n        name: satellite.name,\n        color: satellite.isCustomer ? 'red' : 'yellow',\n      });\n    });\n    return ({\n      mission,\n      satelliteOptions: newOptions,\n      isInitialized: true,\n      cameraTarget: {\n        name: 'earth',\n        ref: null,\n        lock: true,\n        id: null,\n      },\n    });\n  }),\n  setView: (e) => set(() => ({ view: views[`${e.target.value}`] })),\n}));\n\nexport { useStore, useFrameStore };\n","/* eslint-disable react/prop-types */\nimport { useFrame } from '@react-three/fiber';\nimport { useRef, useEffect, useLayoutEffect } from 'react';\nimport {\n  Vector3, MeshBasicMaterial, AdditiveBlending, DoubleSide, Object3D, Texture, PlaneGeometry,\n} from 'three';\nimport { useFrameStore, useStore } from '../Model/store';\nimport { generateLaserBodyCanvas, getLaserMeshes } from './Shaders/LaserBeam';\n\nfunction Beam({\n  beam, spacePower, customer,\n}) {\n  const ref = useRef();\n  const laser = useRef(new Object3D());\n  const texture = useRef();\n  const material = useRef();\n  const meshes = useRef();\n\n  useEffect(() => {\n    texture.current = new Texture(generateLaserBodyCanvas());\n    texture.current.needsUpdate = true;\n    material.current = new MeshBasicMaterial({\n      map: texture.current,\n      blending: AdditiveBlending,\n      color: 0x4444aa,\n      side: DoubleSide,\n      depthWrite: false,\n      transparent: false,\n    });\n    meshes.current = getLaserMeshes(1, material.current);\n    meshes.current.forEach((mesh) => laser.current.add(mesh));\n  }, []);\n\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  useFrame(() => {\n    if (beam.activated[frame.current]) {\n      if (ref.current.children.length === 0) {\n        ref.current.children = meshes.current;\n      }\n      ref.current.position.x = spacePower.positions.x[frame.current];\n      ref.current.position.y = spacePower.positions.y[frame.current];\n      ref.current.position.z = spacePower.positions.z[frame.current];\n\n      ref.current.lookAt(\n        customer.positions.x[frame.current],\n        customer.positions.y[frame.current],\n        customer.positions.z[frame.current],\n      );\n      ref.current.rotateY(-Math.PI / 2);\n      ref.current.scale.set(beam.distances[frame.current], 1, 1);\n    } else if (ref.current.children) {\n      ref.current.children = [];\n    }\n  });\n  return (\n    <primitive\n      object={laser.current}\n      position={[0, 0, 0]}\n      ref={ref}\n    />\n  );\n}\n\nexport default Beam;\n","/* eslint-disable no-console */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-unused-vars */\nimport React, { useRef, useEffect, useLayoutEffect } from 'react';\nimport { useFrame, useThree } from '@react-three/fiber';\nimport { OrbitControls } from '@react-three/drei';\nimport { Vector3, Spherical } from 'three';\nimport { useStore } from '../Model/store';\n\nexport default function Camera() {\n  const controls = useRef();\n  const { camera } = useThree();\n  useLayoutEffect(() => {\n    camera.position.z = 4;\n  }, [camera]);\n  const target = useStore((state) => state.cameraTarget);\n  useEffect(() => {\n    controls.current.maxDistance = 10;\n    controls.current.minDistance = 2;\n  }, [controls]);\n\n  const earth = useRef(new Vector3(0, 0, 0));\n  const spherical = useRef(new Spherical());\n\n  useEffect(() => {\n    if (target.lock || target.name === 'earth') controls.current.target = earth.current;\n    else controls.current.target = target.ref.position;\n  }, [target]);\n  useFrame(({ clock }, delta) => {\n    if (!target.ref) return;\n    if (target.lock) {\n      // controls.current.target = earth.current;\n      spherical.current.setFromVector3(\n        target.ref.position,\n\n      );\n      controls.current.setAzimuthalAngle(spherical.current.theta);\n      controls.current.setPolarAngle(spherical.current.phi);\n    } else {\n      // controls.current.target = target.ref.position;\n    }\n  });\n\n  return (\n    <OrbitControls\n      makeDefault\n      enableZoom\n      enableRotate={target.name === 'earth' || !target.lock}\n      enablePan={false}\n      ref={controls}\n    />\n  );\n}\n","/* eslint-disable consistent-return */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-cycle */\n/* eslint-disable no-unused-vars */\nimport React, {\n  useRef, useEffect, useLayoutEffect,\n} from 'react';\nimport { useLoader, useFrame } from '@react-three/fiber';\nimport { TextureLoader } from 'three/src/loaders/TextureLoader';\nimport * as THREE from 'three';\nimport { useFrameStore, useStore } from '../Model/store';\nimport earthTexture from '../Assets/Textures/earth-texture.jpg';\nimport gradientTexture from '../Assets/Textures/twoTone.jpg';\n\nfunction Earth() {\n  const ref = useRef();\n  const colorMap = useLoader(TextureLoader, earthTexture);\n  const gradientMap = useLoader(TextureLoader, gradientTexture);\n\n  useLayoutEffect(() => {\n    gradientMap.minFilter = THREE.NearestFilter;\n    gradientMap.magFilter = THREE.NearestFilter;\n  }, [gradientMap]);\n\n  useLayoutEffect(() => {\n    colorMap.wrapS = THREE.RepeatWrapping;\n    colorMap.offset.x = 0.5;\n  }, [colorMap]);\n\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  const angles = useStore((state) => state.mission.earth);\n  useFrame(() => {\n    ref.current.rotation.y = angles[frame.current];\n  });\n  return (\n    <mesh\n      ref={ref}\n      rotation={[0, angles[0], 0]}\n      position={[0, 0, 0]}\n    >\n      <sphereGeometry attach=\"geometry\" args={[1, 64, 64]} />\n      <meshToonMaterial\n        attach=\"material\"\n        map={colorMap}\n        gradientMap={gradientMap}\n      />\n    </mesh>\n  );\n}\n\nexport default Earth;\n","/* eslint-disable react/prop-types */\n/* eslint-disable no-unused-vars */\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useFrame, useThree } from '@react-three/fiber';\nimport shallow from 'zustand/shallow';\n// import { unstable_batchedUpdates } from 'react-dom'; // or 'react-native'\nimport { useStore, useFrameStore } from '../Model/store';\nimport { FRAMES, SIM_LENGTH, MIN_SPEED } from '../Util/constants';\n\nconst interval = 1 / 60;\n\nfunction Frame() {\n  const updateFrame = useCallback((frame) => {\n    useFrameStore.setState({ frame });\n  }, []);\n\n  const {\n    isPaused, speed, shouldLoop, setFinished, isFinished, setPaused,\n  } = useStore(\n    (state) => ({\n      setPaused: state.setPaused,\n      speed: state.speed,\n      shouldLoop: state.shouldLoop,\n      setFinished: state.setFinished,\n      isFinished: state.isFinished,\n      isPaused: state.isPaused,\n    }),\n    shallow,\n  );\n\n  const frame = useRef(0);\n  useFrame(({ clock }, delta) => {\n    let newFrame = frame.current + Math.round(\n      FRAMES * ((delta * 1000 * MIN_SPEED * speed) / (SIM_LENGTH)),\n    );\n\n    if (newFrame >= FRAMES - 1) {\n      newFrame = 0;\n\n      if (!shouldLoop) {\n        setFinished(true);\n        // setPaused(true);\n        return;\n        // clock.stop();\n      }\n    }\n\n    if (newFrame !== frame.current) {\n      frame.current = newFrame;\n      updateFrame(newFrame);\n    }\n  });\n\n  const { clock } = useThree();\n\n  useEffect(() => {\n    if (isPaused || isFinished) clock.stop();\n    else clock.start();\n  }, [isPaused, isFinished]);\n\n  return null;\n}\n\nexport default Frame;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-cycle */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\nimport { Html, Instance } from '@react-three/drei';\nimport { useFrame } from '@react-three/fiber';\nimport { useCallback, useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport shallow from 'zustand/shallow';\nimport { useFrameStore, useStore } from '../Model/store';\n\nconst earth = new THREE.Vector3(0, 0, 0);\n\nfunction Satellite({\n  satellite,\n}) {\n  const {\n    storeRef, toggleLabel, satelliteOptions,\n  } = useStore(\n    (state) => ({\n      storeRef: state.storeRef,\n      toggleLabel: state.toggleLabel,\n      satelliteOptions: state.satelliteOptions.get(satellite.id),\n    }),\n    shallow,\n  );\n  const satRef = useRef();\n  const ref = useCallback((node) => {\n    if (node !== null) {\n      storeRef(satellite.id, node);\n      satRef.current = node;\n    }\n  }, []);\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  useFrame(({ clock }, delta) => {\n    satRef.current.position.x = satellite.positions.x[frame.current];\n    satRef.current.position.y = satellite.positions.y[frame.current];\n    satRef.current.position.z = satellite.positions.z[frame.current];\n\n    const lookAt = earth.clone().sub(satRef.current.position);\n    satRef.current.lookAt(earth);\n  });\n\n  return (\n    <Instance\n      ref={ref}\n      scale={0.01}\n      // onClick={() => toggleLabel(satellite.id)}\n      color={satelliteOptions.color || 'red'}\n      up={[0, 0, 1]}\n    >\n      {satelliteOptions.showLabel ? (\n        <Html\n          style={{\n            fontFamily: 'sans-serif',\n            color: 'white',\n            fontSize: '1rem',\n            width: '100ch',\n            height: '2rem',\n          }}\n        >\n          <p>\n            {satellite.name}\n          </p>\n        </Html>\n      ) : (\n        ''\n      )}\n    </Instance>\n  );\n}\n\nexport default Satellite;\n","/* eslint-disable react/prop-types */\nimport { Instances, useGLTF } from '@react-three/drei';\nimport { useLoader } from '@react-three/fiber';\nimport { useStore } from 'Model/store';\nimport { useLayoutEffect } from 'react';\nimport { TextureLoader } from 'three';\nimport shallow from 'zustand/shallow';\nimport Beam from './Beam';\nimport Satellite from './Satellite';\nimport gradientTexture from '../Assets/Textures/twoTone.jpg';\n\nfunction Satellites() {\n  const {\n    customers, spacePowers, beams, satelliteObj,\n  } = useStore(\n    (state) => ({\n      customers: state.mission.satellites.customers,\n      spacePowers: state.mission.satellites.spacePowers,\n      beams: state.mission.beams,\n      satelliteObj: state.satelliteObj,\n    }),\n    shallow,\n  );\n  const gradientMap = useLoader(TextureLoader, gradientTexture);\n\n  return (\n    <>\n      <Instances\n        geometry={satelliteObj.nodes.Satellite.geometry}\n      >\n        <meshToonMaterial\n          gradientMap={gradientMap}\n        />\n        {spacePowers.map((satellite) => (\n          <Satellite\n            satellite={satellite}\n            key={satellite.id}\n          />\n        ))}\n        {customers.map((satellite) => (\n          <Satellite\n            satellite={satellite}\n            key={satellite.id}\n          />\n        ))}\n      </Instances>\n      {beams.map((beam) => (\n        <Beam\n          beam={beam}\n          key={beam.id}\n          customer={customers.find((customer) => customer.id === beam.customerId)}\n          spacePower={spacePowers.find((spacePower) => spacePower.id === beam.spacePowerId)}\n        />\n      ))}\n    </>\n  );\n}\n\nexport default Satellites;\n","/* eslint-disable no-shadow */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-use-before-define */\nimport * as THREE from 'three';\n\nconst LaserBeam = (width, height, canvas) => {\n  const object3d = new THREE.Object3D();\n  // generate the texture\n  const texture = new THREE.Texture(canvas);\n  texture.needsUpdate = true;\n  // do the material\n  const material = new THREE.MeshBasicMaterial({\n    map: texture,\n    blending: THREE.AdditiveBlending,\n    color: 0x4444aa,\n    side: THREE.DoubleSide,\n    depthWrite: false,\n    transparent: false,\n  });\n\n  const geometry = new THREE.PlaneGeometry(width, height);\n  //   geometry.applyMatrix4(\n  //     new THREE.Matrix4().makeRotationX(-Math.PI / 2)\n  //   );\n  //   geometry.applyMatrix4(\n  //     new THREE.Matrix4().makeTranslation(0, -height / 2, 0)\n  //   );\n  const nPlanes = 4;\n  for (let i = 0; i < nPlanes; i++) {\n    const mesh = new THREE.Mesh(geometry, material);\n    mesh.translateX(width / 2);\n    mesh.rotation.x = (i / nPlanes) * Math.PI;\n    mesh.rotateX(-Math.PI / 2);\n    object3d.add(mesh);\n  }\n  return object3d;\n};\n\nconst getLaserMeshes = (width, material) => {\n  const geometry = new THREE.PlaneGeometry(width, 0.01);\n  const nPlanes = 4;\n  const meshes = [];\n  for (let i = 0; i < nPlanes; i++) {\n    const mesh = new THREE.Mesh(geometry, material);\n    mesh.translateX(width / 2);\n    mesh.rotation.x = (i / nPlanes) * Math.PI;\n    mesh.rotateX(-Math.PI / 2);\n    meshes.push(mesh);\n  }\n  return meshes;\n};\n\nfunction generateLaserBodyCanvas() {\n  // init canvas\n  const canvas = document.createElement('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = 1;\n  canvas.height = 1;\n  // set gradient\n  const gradient = context.createLinearGradient(\n    0,\n    0,\n    canvas.width,\n    canvas.height,\n  );\n  gradient.addColorStop(0, 'rgba(  0,  0,  0,0.1)');\n  gradient.addColorStop(0.4, 'rgba(160,160,160,0.3)');\n  gradient.addColorStop(0.5, 'rgba(255,255,255,0.5)');\n  gradient.addColorStop(0.6, 'rgba(160,160,160,0.3)');\n  gradient.addColorStop(1.0, 'rgba(  0,  0,  0,0.1)');\n  // fill the rectangle\n  context.fillStyle = gradient;\n  context.fillRect(0, 0, canvas.width, canvas.height);\n  // return the just built canvas\n  return canvas;\n}\n\nexport { LaserBeam, generateLaserBodyCanvas, getLaserMeshes };\n","/* eslint-disable react/jsx-curly-brace-presence */\n/* eslint-disable react/prop-types */\nimport { Canvas } from '@react-three/fiber';\nimport { Box, GridItem } from '@chakra-ui/react';\nimport {\n  Stars, View, PerformanceMonitor,\n} from '@react-three/drei';\nimport { Suspense, useRef, useState } from 'react';\nimport { useStore } from '../Model/store';\nimport Frame from './Frame';\nimport Earth from './Earth';\nimport Sun from './Sun';\nimport Camera from './Camera';\nimport Satellites from './Satellites';\nimport LoopDialog from '../UI/LoopDialog';\n\nfunction Simulation() {\n  const viewRef = useRef();\n  const container = useRef();\n  const isPaused = useStore((state) => state.isPaused);\n\n  const [dpr, setDpr] = useState(1);\n  return (\n\n    <GridItem area=\"1 / 1 / 4 / 3\">\n      <div\n        ref={container}\n        style={{\n          width: '100%',\n          height: '100%',\n          position: 'relative',\n          // display: `${shouldDisplay ? 'block' : 'none'}`,\n        }}\n      >\n        <LoopDialog />\n        <div\n          ref={viewRef}\n          style={{\n            width: '100%',\n            height: '100%',\n            display: 'inline-block',\n            zIndex: 0,\n          }}\n        />\n\n        <Canvas\n          className=\"canvas\"\n          onCreated={(state) => {\n            state.events.connect(container.current);\n          }}\n          style={{\n            pointerEvents: 'none',\n            position: 'fixed',\n            top: '0px',\n            left: '0px',\n          }}\n          dpr={dpr}\n        >\n\n          <View track={viewRef}>\n            <Suspense>\n\n              <PerformanceMonitor\n                onChange={({ factor }) => setDpr((0.75 + 1.5 * factor).toFixed(1))}\n              />\n              <Camera />\n              <Frame />\n              <Stars\n                radius={100} // Radius of the inner sphere (default=100)\n                depth={50} // Depth of area where stars should fit (default=50)\n                count={5000} // Amount of stars (default=5000)\n                factor={4} // Size factor (default=4)\n                saturation={1} // Saturation 0-1 (default=0)\n                fade\n                speed={isPaused ? 0 : 1}\n              />\n              {/* <ambientLight intensity={0.25} /> */}\n              <Sun />\n              <Earth />\n              <Satellites />\n            </Suspense>\n\n          </View>\n        </Canvas>\n\n      </div>\n    </GridItem>\n  );\n}\n\nexport default Simulation;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-cycle */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\nimport { Billboard } from '@react-three/drei';\nimport { useFrame } from '@react-three/fiber';\nimport React, { forwardRef, useEffect, useRef } from 'react';\nimport { earthRadius } from 'satellite.js/lib/constants';\nimport { useFrameStore, useStore } from '../Model/store';\n\nfunction Sun() {\n  const ref = useRef();\n\n  const frame = useRef(useFrameStore.getState().frame);\n\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  const position = useStore((state) => state.mission.sun);\n  useFrame(({ clock }) => {\n    ref.current.position.x = position.x[frame.current];\n    ref.current.position.y = position.y[frame.current];\n    ref.current.position.z = position.z[frame.current];\n  });\n  return (\n    <group ref={ref}>\n      <directionalLight\n        color={0xffffff}\n        intensity={0.5}\n        position={[position.x[0], position.y[0], position.z[0]]}\n      />\n      {/* <mesh>\n        <sphereGeometry attach=\"geometry\" args={[109, 64, 64]} />\n        <meshBasicMaterial\n          attach=\"material\"\n          color=\"yellow\"\n        />\n      </mesh> */}\n\n    </group>\n  );\n}\n\nexport default Sun;\n","/* eslint-disable react/jsx-boolean-value */\n/* eslint-disable react/prop-types */\n/* eslint-disable consistent-return */\n\nimport { ChevronDownIcon } from '@chakra-ui/icons';\nimport {\n  Button, Flex, FormLabel, Menu, MenuButton, MenuDivider, MenuGroup,\n  MenuItem, MenuList, Radio, RadioGroup, Select, Slider,\n  SliderFilledTrack, SliderThumb, SliderTrack, Switch, Text,\n} from '@chakra-ui/react';\nimport { addEffect } from '@react-three/fiber';\nimport { select } from 'd3';\nimport { useEffect, useRef } from 'react';\nimport shallow from 'zustand/shallow';\nimport { useFrameStore, useStore } from '../Model/store';\n\nfunction SimControls() {\n  const {\n    isPaused, setPaused, speed, setSpeed, shouldLoop, setLoop, isFinished,\n  } = useStore(\n    (state) => ({\n      isPaused: state.isPaused,\n      setPaused: state.setPaused,\n      speed: state.speed,\n      setSpeed: state.setSpeed,\n      shouldLoop: state.shouldLoop,\n      setLoop: state.setLoop,\n      isFinished: state.isFinished,\n    }),\n    shallow,\n  );\n\n  const handlePaused = () => {\n    setPaused(!isPaused);\n  };\n\n  const handleLoop = (e) => {\n    setLoop(e.target.checked);\n  };\n\n  return (\n    <>\n      <MenuItem as={Flex} justify=\"space-between\" align=\"center\">\n\n        <Button\n          onClick={handlePaused}\n          isDisabled={isFinished}\n        >\n          {isPaused ? 'Resume' : 'Pause'}\n        </Button>\n        <FormLabel htmlFor=\"loop\" alignSelf=\"center\" mb={0}>\n          Loop\n          <Switch\n            id=\"loop\"\n            mx={1}\n            isChecked={shouldLoop}\n            onChange={handleLoop}\n          />\n        </FormLabel>\n      </MenuItem>\n      <MenuItem>\n        <FormLabel htmlFor=\"speed\">Speed</FormLabel>\n        <Slider\n          name=\"speed\"\n          value={speed}\n          onChange={setSpeed}\n          min={1}\n          max={10}\n        >\n          <SliderTrack>\n            <SliderFilledTrack />\n          </SliderTrack>\n          <SliderThumb />\n        </Slider>\n      </MenuItem>\n    </>\n  );\n}\n\nfunction CameraControls({\n  satellites,\n}) {\n  const {\n    cameraTarget, attachCamera, detachCamera, setLockCamera,\n  } = useStore(\n    (state) => ({\n      cameraTarget: state.cameraTarget,\n      attachCamera: state.attachCamera,\n      detachCamera: state.detachCamera,\n      setLockCamera: state.setLockCamera,\n    }),\n    shallow,\n  );\n  return (\n    <>\n\n      <Select onChange={(e) => {\n        if (e.target.value === 'earth') detachCamera();\n        else attachCamera(e.target.value);\n      }}\n      >\n        <option value=\"earth\">Earth</option>\n        {satellites.customers.map((customer) => (\n          <option key={customer.id} value={customer.id}>{customer.name}</option>\n        ))}\n      </Select>\n\n      <MenuItem>\n        <RadioGroup\n          onChange={(v) => setLockCamera(v === '1')}\n          value={cameraTarget.lock ? '1' : '0'}\n          disabled={cameraTarget.name === 'earth'}\n          as={Flex}\n          justify=\"space-around\"\n          width=\"100%\"\n        >\n          <Radio value=\"1\">Lock</Radio>\n          <Radio value=\"0\">Watch</Radio>\n        </RadioGroup>\n      </MenuItem>\n    </>\n  );\n}\n\n/* eslint-disable react/prop-types */\nfunction Controls() {\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        frame.current = state.frame;\n      },\n    );\n  }, []);\n  const {\n    time, satellites, view,\n  } = useStore(\n    (state) => ({\n      time: state.mission.time,\n      satellites: state.mission.satellites,\n      view: state.view,\n    }),\n    shallow,\n  );\n  const timeRef = useRef();\n  addEffect(() => {\n    if (!timeRef.current) return;\n    select(timeRef.current).text(new Date(time[frame.current]).toString().slice(0, 21));\n  });\n  return (\n    <Flex align=\"center\" justify={view.name === 'simulation' ? 'center' : 'space-between'} height=\"100%\">\n      <Text ref={timeRef} width=\"22ch\" m={2}>{new Date(time[0]).toString().slice(0, 21)}</Text>\n      <Menu closeOnSelect={false}>\n        <MenuButton as={Button} rightIcon={<ChevronDownIcon />}>\n          Controls\n        </MenuButton>\n        <MenuList>\n          <MenuGroup title=\"Animation\">\n            <SimControls />\n          </MenuGroup>\n          <MenuDivider />\n          <MenuGroup title=\"Camera\">\n            <CameraControls\n              satellites={satellites}\n            />\n          </MenuGroup>\n        </MenuList>\n      </Menu>\n    </Flex>\n  );\n}\n\nexport default Controls;\n","/* eslint-disable react/no-this-in-sfc */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable import/no-extraneous-dependencies */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-nested-ternary */\n\nimport {\n  useCallback, useEffect, useRef,\n} from 'react';\nimport { addEffect } from '@react-three/fiber';\nimport * as d3 from 'd3';\nimport { useFrameStore } from '../../Model/store';\n\nconst color = d3.scaleOrdinal(['white', 'grey', 'rgba(255,255,255,0.2)']);\n\nconst pie = d3.pie()\n  .value((d) => d.value)\n  .startAngle(-Math.PI / 2.2).endAngle(Math.PI / 2.2)\n  .sort(null);\n\nexport default function Gauge({ height, selected }) {\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        if (state.frame - 2 > frame.current) { frame.current = state.frame; }\n        if (frame.current > state.frame) frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  const data = useRef();\n\n  const updateData = () => {\n    data.current = [\n      {\n        id: 2,\n        value: selected.performance.chargeStateNoBeams[frame.current] * 100,\n        color: (selected.performance.chargeStateNoBeams[frame.current] > 0.33) ? 'white' : 'red',\n      },\n      {\n        id: 1,\n        value: (selected.performance.chargeState[frame.current]\n            - selected.performance.chargeStateNoBeams[frame.current]) * 100,\n        color: 'grey',\n      },\n      {\n        id: 3,\n        value: 100 - (selected.performance.chargeState[frame.current] * 100),\n        color: 'lightgrey',\n      },\n    ];\n  };\n  const arc = d3.arc().innerRadius(height / 2 - 20)\n    .outerRadius(height / 3 - 10);\n  const pieRef = useRef();\n\n  const group = useRef();\n  const groupWithData = useRef();\n  const groupWithUpdate = useRef();\n  const path = useRef();\n  const createPie = () => {\n    group.current = d3.select(pieRef.current);\n    groupWithData.current = group.current.selectAll('g.arc').data(pie(data.current));\n\n    groupWithData.current.exit().remove();\n\n    groupWithUpdate.current = groupWithData.current\n      .enter()\n      .append('g')\n      .attr('class', 'arc');\n\n    path.current = groupWithUpdate.current\n      .append('path')\n      .merge(groupWithData.current.select('path.arc'));\n\n    path.current\n      .attr('class', 'arc')\n      .attr('d', arc)\n      .attr('fill', (d) => color(d));\n  };\n\n  const prevFrame = useRef();\n  addEffect(() => {\n    if (prevFrame === frame.current) return;\n    if (!pieRef.current) return;\n    updateData();\n    createPie();\n    prevFrame.current = frame.current;\n  });\n\n  const ref = useCallback((node) => {\n    pieRef.current = node;\n    updateData();\n\n    createPie(data.current);\n  });\n\n  return (\n\n    <svg width={height} height={height / 2}>\n      <g\n        ref={ref}\n        transform={`translate(${height / 2} ${height / 2})`}\n      />\n    </svg>\n  );\n}\n// function change() {\n//   const pie = d3.pie()\n//     .value((d) => d.presses)(data);\n\n//   path = d3.select('#pie').selectAll('path').data(pie);\n// }\n","/* eslint-disable import/no-extraneous-dependencies */\n/* eslint-disable react/jsx-curly-brace-presence */\n/* eslint-disable consistent-return */\n/* eslint-disable react/prop-types */\nimport {\n  Flex, Select, Stat, StatLabel, StatNumber,\n  Box, Center, StatGroup, GridItem, StatHelpText, StatArrow, ButtonGroup,\n  Button, Text,\n} from '@chakra-ui/react';\nimport {\n  useCallback, useEffect, useRef, useState,\n} from 'react';\nimport shallow from 'zustand/shallow';\nimport { addAfterEffect, addEffect } from '@react-three/fiber';\nimport * as d3 from 'd3';\nimport { useFrameStore, useStore } from '../../Model/store';\nimport Gauge from './Gauge';\nimport './HUD.css';\nimport Frame from '../../Simulation/Frame';\nimport { FRAMES } from '../../Util/constants';\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nconst statProps = [\n  {\n    key: 'netCurrent',\n    label: 'Net Current',\n    shouldArrows: true,\n    getValue: (frame, selected) => {\n      const netCurrent = selected.params.load.powerProfiles[\n        selected.performance.sources[frame]\n      ][\n        selected.performance.currentDuties[frame]\n      ];\n      return netCurrent;\n    },\n    formatValue: (value) => `${(value).toFixed(2)}A`,\n    getHelpText: (frame, selected) => capitalize(selected.performance.sources[frame]),\n  },\n  {\n    key: 'consumption',\n    label: 'Consumption',\n    shouldArrows: false,\n    getValue: (frame, selected) => selected.params.load.duties[\n      selected.performance.currentDuties[frame]\n    ].consumption,\n    formatValue: (value) => `${value}W`,\n    getHelpText: (frame, selected) => `${capitalize(selected.params.load.duties[selected.performance.currentDuties[frame]].name)}`,\n\n  },\n  {\n    key: 'chargeState',\n    label: '',\n    shouldArrows: false,\n    getValue: (frame, selected) => selected.performance.chargeStateNoBeams[frame] * 100,\n    formatValue: (value) => `${(value).toPrecision(3)}%`,\n    getHelpText: () => 'w/ Space Power',\n    getHelpNumber: (frame, selected) => `${(selected.performance.chargeState[frame] * 100).toPrecision(3)}% `,\n  },\n];\n\nfunction HUD() {\n  const {\n    satellites, toggleLabel, toggleAllLabels, attachCamera,\n    detachCamera, cameraTarget, satelliteOptions, view, isFinished, isPaused,\n  } = useStore(\n    (state) => ({\n      satellites: state.mission.satellites,\n      toggleLabel: state.toggleLabel,\n      toggleAllLabels: state.toggleAllLabels,\n      satelliteOptions: state.satelliteOptions,\n      attachCamera: state.attachCamera,\n      detachCamera: state.detachCamera,\n      cameraTarget: state.cameraTarget,\n      view: state.view,\n      isFinished: state.isFinished,\n      isPaused: state.isPaused,\n    }),\n    shallow,\n  );\n\n  // const [selected, setSelected] = useState(satellites.customers[0]);\n  // const selected = useRef(satellites.customers[0]);\n  const [selected, setSelected] = useState(satellites.customers[0]);\n  useEffect(() => {\n    // selected.current = satellites.customers[0];\n    setSelected(() => satellites.customers[0]);\n  }, [satellites]);\n\n  const handleSelectSatellite = (e) => {\n    const selection = e.target.value;\n    if (selection === 'fleet') {\n      setSelected(() => satellites.fleet);\n    } else {\n      setSelected(() => satellites.customers.find((customer) => (\n        customer.id === selection)));\n    }\n  };\n\n  const handleLabel = () => {\n    toggleLabel(selected.id);\n  };\n\n  const handleCamera = () => {\n    if (cameraTarget.id === selected.id) detachCamera();\n    else attachCamera(selected.id);\n  };\n\n  const hideAllLabels = () => {\n    toggleAllLabels(false);\n  };\n\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        if (state.frame - 10 > frame.current) frame.current = state.frame;\n        if (frame.current > state.frame) frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  // const statRefs = useRef([]);\n  const statRefs = useRef(new Map());\n  const handleStatRefs = useCallback((node) => {\n    if (!node) return;\n    const stat = statProps.find((v) => v.key === node.id);\n    statRefs.current.set(\n      stat.key,\n      {\n        ...stat,\n        ref: node,\n      },\n    );\n  }, []);\n\n  const prevFrame = useRef();\n  addEffect(() => {\n    if (prevFrame.current === frame.current) return;\n    if (frame.current > FRAMES) return;\n    if (isPaused || isFinished) return;\n    statRefs.current.forEach((stat) => {\n      if (!stat.ref) return;\n      const parent = d3.select(stat.ref);\n\n      if (selected.name === 'fleet' && stat.key !== 'chargeState') {\n        if (!parent.classed('hide')) d3.select(stat.ref).classed('hide', true);\n        return;\n      }\n      if (parent.classed('hide')) d3.select(stat.ref).classed('hide', false);\n      let value;\n      try {\n        value = stat.getValue(frame.current, selected);\n      } catch (error) {\n        console.log(error, frame.current, selected, stat);\n        return;\n      }\n\n      parent.selectAll('.chakra-stat__number')\n        .select('span')\n        .text(stat.formatValue(value));\n\n      parent.selectAll('.chakra-stat__help-text')\n        .select('.help-text')\n        .text(stat.getHelpText(frame.current, selected));\n\n      if (stat.getHelpNumber) {\n        parent.selectAll('.chakra-stat__help-text')\n          .select('.help-number')\n          .text(stat.getHelpNumber(frame.current, selected));\n      }\n\n      if (stat.shouldArrows) {\n        const upArrow = parent.select('.chakra-stat__help-text').select('.up-arrow');\n        const downArrow = parent.select('.chakra-stat__help-text').select('.down-arrow');\n        if (value > 0) {\n          upArrow.attr('visibility', 'visible');\n          upArrow.style('position', 'relative');\n          downArrow.attr('visibility', 'hidden');\n          downArrow.style('position', 'absolute');\n        } else {\n          upArrow.attr('visibility', 'hidden');\n          upArrow.style('position', 'absolute');\n          downArrow.attr('visibility', 'visible');\n          downArrow.style('position', 'relative');\n        }\n      }\n    });\n    prevFrame.current = frame.current;\n  });\n\n  if (!satellites) return;\n  return (\n    <GridItem area={'3 / 1 / 4 / 3'} zIndex={99} transform={view.name === 'simulation' ? '' : 'translate(-9999px, 0)'} position={view.name === 'simulation' ? '' : 'absolute'}>\n      <Flex height=\"100%\" justify=\"space-between\" align-items=\"center\">\n        <Center flex={1}>\n          <Box px={2}>\n            <Select onChange={handleSelectSatellite}>\n              {satellites.customers.map((customer) => (\n                <option key={customer.id} value={customer.id}>{customer.name}</option>\n              ))}\n              <option value=\"fleet\">Fleet</option>\n            </Select>\n\n          </Box>\n          {selected.name !== 'fleet'\n            ? (\n              <ButtonGroup>\n                <Button onClick={handleLabel}>\n                  {satelliteOptions.get(selected.id).showLabel ? 'Hide Label' : 'Show Label'}\n                </Button>\n                <Button\n                  // onClick={\n                  //     cameraTarget.id === selected.id\n                  //       ? () => detachCamera() : () => attachCamera(selected.id)\n                  //   }\n                  onClick={handleCamera}\n                >\n                  {cameraTarget.id === selected.id ? 'Detach Camera' : 'Attach Camera'}\n                </Button>\n              </ButtonGroup>\n            )\n            : <Button onClick={hideAllLabels}>{'Hide All Labels'}</Button>}\n        </Center>\n        <Box height=\"100%\" flex={1}>\n          <Center>\n            <Stat\n              align=\"center\"\n              ref={handleStatRefs}\n              id={'chargeState'}\n            >\n              <StatLabel>Charge</StatLabel>\n              <Gauge\n                height={200}\n                selected={selected}\n                styles={{ position: 'absolute' }}\n              />\n              <StatNumber textStyle=\"number\">\n                <span />\n              </StatNumber>\n              <StatHelpText width=\"100%\">\n                <Text as={'span'} textStyle=\"number\" className=\"help-number\" />\n                <span className=\"help-text\" />\n              </StatHelpText>\n\n            </Stat>\n          </Center>\n        </Box>\n        <Center flex={1}>\n          <Box>\n            <StatGroup>\n              {statProps.slice(0, 2).map((stat) => (\n                <Stat\n                  width=\"30ch\"\n                  key={stat.key}\n                  id={stat.key}\n                  ref={handleStatRefs}\n                >\n                  <StatLabel>{stat.label}</StatLabel>\n                  <StatNumber textStyle=\"number\"><span /></StatNumber>\n                  <StatHelpText>\n                    {stat.shouldArrows\n                      ? (\n                        <>\n                          <StatArrow type=\"increase\" className=\"up-arrow hide\" />\n                          <StatArrow type=\"decrease\" className=\"down-arrow hide\" />\n                        </>\n                      )\n                      : '' }\n                    <span className=\"help-text\" />\n                  </StatHelpText>\n                </Stat>\n              ))}\n            </StatGroup>\n          </Box>\n        </Center>\n      </Flex>\n    </GridItem>\n  );\n}\n\nexport default HUD;\n","import {\n  Button, Center, Modal, ModalBody, ModalCloseButton, ModalContent, ModalFooter, ModalHeader, ModalOverlay, useDisclosure,\n} from '@chakra-ui/react';\nimport { useEffect } from 'react';\nimport { useStore } from '../Model/store';\nimport Summary from './PerformanceView/Summary';\n\nfunction LoopDialog() {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n\n  const {\n    isFinished, setFinished, setLoop, setPaused,\n  } = useStore((state) => ({\n    isFinished: state.isFinished,\n    setFinished: state.setFinished,\n    setLoop: state.setLoop,\n    setPaused: state.setPaused,\n  }));\n\n  useEffect(() => {\n    if (isFinished) onOpen();\n  }, [isFinished]);\n\n  const handleReplay = (e) => {\n    setLoop(true);\n    setFinished(false);\n    onClose();\n  };\n  return (\n    <Modal isCentered isOpen={isOpen} onClose={onClose} closeOnOverlayClick={false} size=\"lg\">\n      <ModalOverlay />\n      <ModalContent bg=\"background.100\">\n\n        <ModalHeader align=\"center\" fontSize=\"1.5rem\">Simulation Complete!</ModalHeader>\n        {/* <ModalCloseButton /> */}\n        <Center>\n          <ModalBody>\n            <Summary />\n          </ModalBody>\n        </Center>\n        <ModalFooter>\n          <Button onClick={handleReplay}>\n            Restart\n          </Button>\n\n        </ModalFooter>\n\n      </ModalContent>\n    </Modal>\n  );\n}\n\nexport default LoopDialog;\n","/* eslint-disable react/prop-types */\nimport { SettingsIcon } from '@chakra-ui/icons';\nimport {\n  Button, Center, Flex, Modal, ModalBody, ModalCloseButton, ModalContent,\n  ModalFooter, ModalHeader, ModalOverlay, useDisclosure,\n} from '@chakra-ui/react';\nimport CustomNumberInput from './CustomNumberInput';\n\nconst fields = [\n  {\n    id: 'inclination',\n    step: 1,\n    label: 'Inclination',\n    min: 0,\n    max: 36,\n    units: '',\n  },\n  {\n    id: 'rightAscension',\n    step: 0.01,\n    label: 'Right Ascension',\n    min: 0,\n    max: 36,\n    units: '',\n  },\n  {\n    id: 'eccentricity',\n    step: 0.001,\n    label: 'Eccentricity',\n    min: -0.1,\n    max: 0.1,\n    units: '',\n  },\n  {\n    id: 'perigee',\n    step: 0.001,\n    label: 'Perigee',\n    min: 0,\n    max: 36,\n    units: '',\n  },\n  {\n    id: 'meanAnomaly',\n    step: 0.01,\n    label: 'Mean Anomaly',\n    min: 0,\n    max: 36,\n    units: '',\n  },\n  {\n    id: 'meanMotion',\n    step: 0.01,\n    label: 'Mean Motion',\n    min: 0,\n    max: 0.5,\n    units: (\n      <span>\n        revs day\n        <sup>-1</sup>\n      </span>\n    ),\n  },\n];\n\nfunction ConfigModal({ formik }) {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  return (\n    <>\n      <Button onClick={onOpen}>\n        <SettingsIcon mx={2} />\n        Power\n      </Button>\n\n      <Modal isOpen={isOpen} onClose={onClose} size=\"xl\">\n        <ModalOverlay backdropFilter=\"blur(10px)\" />\n        <ModalContent bg=\"background.100\" width=\"80vw\">\n          <ModalHeader align=\"center\">Configure Space Power</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody width=\"100%\">\n            <Center>\n              <CustomNumberInput\n                value={formik.values.spacePowers}\n                name=\"spacePowers\"\n                formik={formik}\n                label=\"Number of power satellites\"\n                min={0}\n                max={10}\n              />\n            </Center>\n            <h3 align=\"center\">Offsets</h3>\n            <Flex justify=\"center\" direction=\"row\" wrap=\"wrap\" width=\"100%\">\n              {fields.map((param) => (\n                <CustomNumberInput\n                  value={formik.values.offsets[`${param.id}`]}\n                  key={param.id}\n                  step={param.step}\n                  name={`offsets[${param.id}]`}\n                  units={param.units}\n                  formik={formik}\n                  label={param.label}\n                  min={param.min}\n                  max={param.max}\n                />\n              ))}\n            </Flex>\n          </ModalBody>\n          <ModalFooter>\n            <Button colorScheme=\"blue\" mr={3} onClick={onClose}>\n              Close\n            </Button>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n}\n\nexport default ConfigModal;\n","/* eslint-disable react/prop-types */\nimport {\n  Editable, EditableInput, EditablePreview, Flex, FormControl, Input,\n} from '@chakra-ui/react';\nimport EditableControls from './EditableControls';\n\nfunction CustomEditableInput({\n  value, name, form, onSubmit,\n}) {\n  return (\n    <FormControl>\n      <Editable\n        as={Flex}\n        submitOnBlur\n        defaultValue={value}\n        align=\"center\"\n        width=\"auto\"\n        cursor=\"pointer\"\n        justify=\"center\"\n        onSubmit={(v) => {\n          form.setFieldValue(\n            `${name}`,\n            v,\n          );\n          onSubmit();\n        }}\n        onCancel={(v) => {\n          form.setFieldValue(\n            `${name}`,\n            v,\n          );\n        }}\n      >\n        <EditablePreview />\n        <Input\n          textAlign=\"center\"\n          as={EditableInput}\n          id=\"name\"\n          name={name}\n          type=\"text\"\n          variant=\"filled\"\n        />\n        <EditableControls />\n      </Editable>\n    </FormControl>\n  );\n}\n\nexport default CustomEditableInput;\n","/* eslint-disable react/prop-types */\nimport {\n  Flex,\n  FormControl,\n  FormErrorMessage,\n  FormLabel,\n  NumberDecrementStepper,\n  NumberIncrementStepper,\n  NumberInput, NumberInputField, NumberInputStepper, Text,\n} from '@chakra-ui/react';\nimport { getIn } from 'formik';\n\nfunction CustomNumberInput({\n  value, min, max, label, name, units, step, formik,\n}) {\n  const errors = getIn(formik.errors, name);\n\n  return (\n    <FormControl\n      maxWidth=\"40%\"\n      p={5}\n      isInvalid={errors}\n      as={Flex}\n      direction=\"column\"\n      align=\"start\"\n    >\n      <FormLabel htmlFor={`${name}`}>{label}</FormLabel>\n      <Flex gap={1} align=\"center\">\n        <NumberInput\n          id={name}\n          name={`${name}`}\n          onChange={(v) => {\n            formik.setFieldValue(\n              `${name}`,\n              v,\n            );\n          }}\n          value={value}\n          step={step}\n          min={min}\n          max={max}\n          flex={3}\n        >\n          <NumberInputField />\n          <NumberInputStepper>\n            <NumberIncrementStepper />\n            <NumberDecrementStepper />\n          </NumberInputStepper>\n        </NumberInput>\n        <Text flex={1} align=\"left\">{units}</Text>\n      </Flex>\n      <FormErrorMessage>{errors}</FormErrorMessage>\n    </FormControl>\n  );\n}\n\nexport default CustomNumberInput;\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/prop-types */\nimport { AddIcon } from '@chakra-ui/icons';\nimport {\n  Accordion, AccordionButton, AccordionIcon, AccordionItem, AccordionPanel, Button,\n  Editable, EditableInput, EditablePreview, Flex, FormControl, FormLabel, Input, Select,\n} from '@chakra-ui/react';\nimport { FieldArray, FormikProvider } from 'formik';\nimport CustomNumberInput from './CustomNumberInput';\nimport { defaultDuty } from './defaultInputs';\nimport EditableControls from './EditableControls';\n\nconst defaultFields = [\n  {\n    id: 'consumption',\n    step: 0.1,\n    label: 'Consumption',\n    min: 0,\n    units: 'W',\n  },\n  {\n    id: 'priority',\n    step: 1,\n    min: 1,\n    label: 'Priority',\n  }];\n\nconst cyclicalFields = [\n  {\n    id: 'cycles',\n    steps: 0.1,\n    label: 'Cycles per orbit',\n    min: 0,\n    units: 'cycles',\n  },\n  {\n    id: 'duration',\n    steps: 1,\n    label: 'Cycle duration',\n    min: 0,\n    units: 's',\n  },\n];\n\nfunction DutyTab({ satIndex, formik }) {\n  return (\n    <Accordion\n      maxHeight=\"75vh\"\n      overflowY=\"auto\"\n      width=\"100%\"\n    >\n      <FormikProvider value={formik}>\n        <FieldArray name={`satellites[${satIndex}].duties`}>\n          {(fieldArrayProps) => {\n            const {\n              push, remove, form,\n            } = fieldArrayProps;\n            const { values } = form;\n            const satellite = values.satellites[satIndex];\n            const allFields = satellite.duties.map((duty, index) => {\n              const fields = [...defaultFields];\n              if (duty.type === 'cyclical') {\n                fields.push(\n                  ...cyclicalFields,\n                );\n              }\n              return (\n                <AccordionItem width=\"100%\" key={`${satellite.id}${index}`}>\n                  <AccordionButton>\n                    <FormControl as={Flex}>\n                      <Editable\n                        as={Flex}\n                        align=\"center\"\n                        justify=\"center\"\n                        width=\"100%\"\n                        cursor=\"pointer\"\n                        onChange={(v) => {\n                          form.setFieldValue(\n                            `satellites[${satIndex}].duties[${index}].name`,\n                            v,\n                          );\n                        }}\n                        value={duty.name}\n                      >\n                        <EditablePreview />\n                        <Input\n                          as={EditableInput}\n                          id=\"name\"\n                          name={`satellites[${satIndex}].duties[${index}].name`}\n                          type=\"text\"\n                          variant=\"filled\"\n                          maxWidth=\"80%\"\n                        />\n                        <EditableControls />\n                      </Editable>\n                      <AccordionIcon />\n                    </FormControl>\n                  </AccordionButton>\n                  <AccordionPanel>\n                    <Flex wrap=\"wrap\" justify=\"space-around\">\n                      <FormControl width=\"65%\">\n                        <FormLabel htmlFor={`satellites[${satIndex}].duties[${index}].type`}>Type</FormLabel>\n                        <Select\n                          name={`satellites[${satIndex}].duties[${index}].type`}\n                          onChange={form.handleChange}\n                          value={duty.type}\n                        >\n                          <option value=\"cyclical\">Cyclical</option>\n                        </Select>\n                      </FormControl>\n                      {fields.map((param) => (\n                        <CustomNumberInput\n                          value={duty[param.id]}\n                          step={param.step}\n                          key={param.id}\n                          name={`satellites[${satIndex}].duties[${index}][${param.id}]`}\n                          units={param.units}\n                          formik={form}\n                          label={param.label}\n                        />\n                      ))}\n\n                    </Flex>\n                    <Button\n                      m={5}\n                      onClick={() => {\n                        remove(index);\n                      }}\n                    >\n                      Remove\n                    </Button>\n                  </AccordionPanel>\n                </AccordionItem>\n              );\n            });\n            return (\n              <>\n                {allFields}\n                <Button\n                  m={5}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    push({\n                      ...defaultDuty,\n                      name: `Duty ${satellite.duties.length + 1}`,\n                      priority: satellite.duties.length + 1,\n                    });\n                  }}\n                >\n                  <AddIcon />\n                </Button>\n              </>\n            );\n          }}\n        </FieldArray>\n      </FormikProvider>\n    </Accordion>\n  );\n}\n\nexport default DutyTab;\n","/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-nested-ternary */\nimport { CheckIcon, CloseIcon, EditIcon } from '@chakra-ui/icons';\nimport { ButtonGroup, IconButton, useEditableControls } from '@chakra-ui/react';\n\nfunction EditableControls({ showEditIcon }) {\n  const {\n    isEditing,\n    getSubmitButtonProps,\n    getCancelButtonProps,\n    getEditButtonProps,\n  } = useEditableControls();\n\n  return isEditing ? (\n    <ButtonGroup justifyContent=\"center\" size=\"sm\">\n      <IconButton icon={<CheckIcon />} {...getSubmitButtonProps()} />\n      <IconButton icon={<CloseIcon />} {...getCancelButtonProps()} />\n    </ButtonGroup>\n  ) : (\n    showEditIcon\n      ? (\n        <IconButton size=\"sm\" mx={2} icon={<EditIcon />} {...getEditButtonProps()} />\n      ) : ''\n  );\n}\n\nexport default EditableControls;\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable no-unused-expressions */\nimport {\n  Button,\n  Center, Flex, GridItem,\n  Spinner,\n  Tab, TabList, TabPanel, TabPanels, Tabs, Text,\n} from '@chakra-ui/react';\nimport { useFormik } from 'formik';\nimport { useEffect, useState } from 'react';\n\nimport { getCorsFreeUrl, loadTLEs } from 'Util/astronomy';\nimport { useStore } from 'Model/store';\nimport { handleMissionRequest, MissionSchema } from '../../Model/mission';\n\nimport SatelliteList from './SatelliteList';\n\nimport OrbitTab from './OrbitTab';\nimport PowerTab from './PowerTab';\nimport DutyTab from './DutyTab';\nimport ConfigModal from './ConfigModal';\nimport { defaultValues } from './defaultInputs';\n\nfunction fetchTLEs(urls) {\n  const tles = [];\n  Object.entries(urls).forEach(([key, url]) => {\n    loadTLEs(getCorsFreeUrl(url)).then((res) => {\n      tles.push({\n        name: key,\n        tles: res,\n      });\n    });\n  });\n  return tles;\n}\n\nconst urls = {\n  OneWeb: 'https://celestrak.org/NORAD/elements/gp.php?GROUP=oneweb&FORMAT=tle',\n  Starlink: 'https://celestrak.org/NORAD/elements/gp.php?GROUP=starlink&FORMAT=tle',\n  Orbcomm: 'https://celestrak.org/NORAD/elements/gp.php?GROUP=orbcomm&FORMAT=tle',\n  Galileo: 'https://celestrak.org/NORAD/elements/gp.php?GROUP=galileo&FORMAT=tle',\n  Geosynchronous: 'https://celestrak.org/NORAD/elements/gp.php?GROUP=geo&FORMAT=tle',\n};\n\nfunction MissionPlanner({ shouldDisplay }) {\n  const [satIndex, setSatIndex] = useState(0);\n  const [constellations, setConstellations] = useState();\n\n  const { initializeMission, setInitialized } = useStore((state) => ({\n    initializeMission: state.initializeMission,\n    setInitialized: state.setInitialized,\n  }));\n\n  useEffect(() => {\n    setConstellations((fetchTLEs(urls)));\n  }, []);\n  const formik = useFormik({\n    initialValues: defaultValues,\n    validationSchema: MissionSchema,\n    validateOnChange: false,\n    validateOnBlur: true,\n    onSubmit: async (values) => {\n      formik.setSubmitting(true);\n      await new Promise((resolve, reject) => {\n        setInitialized(false);\n\n        setTimeout(() => {\n          try {\n            initializeMission(values);\n            formik.setStatus('');\n          } catch (error) {\n            formik.setStatus('Error. Please try different orbital parameters and offsets.');\n            reject();\n          }\n          resolve();\n        }, 500);\n      });\n    },\n  });\n  return (\n    shouldDisplay\n      ? (\n        <>\n          <GridItem area=\"select\">\n            <form onSubmit={formik.handleSubmit}>\n\n              <SatelliteList formik={formik} satIndex={satIndex} setSatIndex={setSatIndex} />\n              {formik.values.satellites.length > 0\n                ? (\n                  <>\n                    <Center>\n                      <ConfigModal formik={formik} />\n\n                      <Button\n                        m={5}\n                        type=\"submit\"\n                        disabled={formik.isSubmitting}\n                      >\n                        {formik.isSubmitting ? <Spinner /> : 'Generate Mission'}\n                      </Button>\n                    </Center>\n                    <Center>\n                      <Text color=\"red\" width=\"50%\" align=\"center\">{formik.status}</Text>\n                    </Center>\n                  </>\n                ) : '' }\n            </form>\n          </GridItem>\n          <GridItem area=\"parameters\">\n            {((formik.values.satellites.length > 0) && satIndex >= 0)\n              ? (\n                <Center>\n                  <Tabs\n                    p={10}\n                    minWidth=\"50%\"\n                    maxWidth=\"80%\"\n                    align=\"center\"\n                  >\n                    <TabList>\n                      <Tab>Orbit</Tab>\n                      <Tab>Power</Tab>\n                      <Tab>Duty</Tab>\n                    </TabList>\n                    <TabPanels>\n                      <TabPanel pt={10}>\n                        <OrbitTab\n                          satIndex={satIndex}\n                          formik={formik}\n                          constellations={constellations}\n                        />\n                      </TabPanel>\n                      <TabPanel pt={10}>\n                        <PowerTab satIndex={satIndex} formik={formik} />\n                      </TabPanel>\n                      <TabPanel pt={10}>\n                        <DutyTab satIndex={satIndex} formik={formik} />\n                      </TabPanel>\n                    </TabPanels>\n                  </Tabs>\n                </Center>\n              ) : (\n                <Flex height=\"100%\" justify=\"center\" align=\"center\">\n                  <h2>Add satellite to begin...</h2>\n                </Flex>\n              )}\n          </GridItem>\n\n        </>\n      ) : ''\n  );\n}\n\nexport default MissionPlanner;\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/prop-types */\nimport {\n  Button,\n  Flex, FormControl, FormErrorMessage, FormHelperText, FormLabel,\n  Input, Select, Tab, TabList, TabPanel, TabPanels, Tabs, Text, Textarea,\n} from '@chakra-ui/react';\nimport { set } from 'd3';\nimport { useState } from 'react';\nimport { parseTLEs, twoline2satrec } from 'Util/astronomy.js';\nimport CustomNumberInput from './CustomNumberInput';\n\nconst fields = [\n  {\n    id: 'meanMotionDot',\n    step: 0.000001,\n    label: '1st Derivative of Mean Motion',\n    min: -1,\n    max: 1,\n    units: (\n      <span>\n        revs day\n        <sup>-2</sup>\n      </span>\n    ),\n  },\n  {\n    id: 'bstar',\n    step: 0.0001,\n    label: 'BSTAR',\n    min: -2,\n    max: 2,\n    units: (\n      <span>\n        m\n        <sup>-1</sup>\n      </span>\n    ),\n  },\n  {\n    id: 'inclination',\n    step: 0.01,\n    label: 'Inclination',\n    min: 0,\n    max: 360,\n    units: '',\n  },\n  {\n    id: 'rightAscension',\n    step: 0.01,\n    label: 'Right Ascension',\n    min: 0,\n    max: 360,\n    units: '',\n  },\n  {\n    id: 'eccentricity',\n    step: 0.001,\n    label: 'Eccentricity',\n    min: 0,\n    max: 1,\n    units: '',\n  },\n  {\n    id: 'perigee',\n    step: 0.001,\n    label: 'Perigee',\n    min: 0,\n    max: 360,\n    units: '',\n  },\n  {\n    id: 'meanAnomaly',\n    step: 0.01,\n    label: 'Mean Anomaly',\n    min: 0,\n    max: 360,\n    units: '',\n  },\n  {\n    id: 'meanMotion',\n    step: 0.01,\n    label: 'Mean Motion',\n    min: 0,\n    max: 16,\n    units: (\n      <span>\n        revs day\n        <sup>-1</sup>\n      </span>\n    ),\n  },\n];\n\nexport default function OrbitTab({ formik, satIndex, constellations }) {\n  const [error, setError] = useState();\n  const handleExtractTle = (e) => {\n    e.preventDefault();\n    let satRec;\n    try {\n      const { tles } = parseTLEs(formik.values.satellites[satIndex].orbit.tle)[0];\n\n      satRec = twoline2satrec(tles.tle1, tles.tle2);\n    } catch {\n      setError('Error extracting TLE.  Please enter a valid TLE.');\n      return;\n    }\n    const newOrbit = {\n      epoch: satRec.epochdatetimelocal,\n      meanMotionDot: satRec.ndottle,\n      bstar: satRec.bstar,\n      inclination: satRec.inclotle,\n      rightAscension: satRec.nodeotle,\n      eccentricity: satRec.ecco,\n      perigee: satRec.argpotle,\n      meanAnomaly: satRec.motle,\n      meanMotion: satRec.notle,\n      tle: formik.values.satellites[satIndex].orbit.tle,\n    };\n    Object.entries(newOrbit).forEach(\n      (entry) => {\n        if (!entry[1]) {\n          setError(`Error setting ${entry[0]}. Please enter a valid TLE and try again`);\n          return;\n        }\n        formik.setFieldValue(`satellites[${satIndex}].orbit.[${entry[0]}]`, entry[1]);\n      },\n    );\n    setError('');\n  };\n\n  return (\n    <>\n      <Flex justify=\"space-around\" wrap=\"wrap\">\n        <FormControl width=\"65%\">\n          <FormLabel htmlFor={`satellites[${satIndex}].orbit.epoch`}>Epoch</FormLabel>\n          <Input\n            id=\"epoch\"\n            name={`satellites[${satIndex}].orbit.epoch`}\n            type=\"datetime-local\"\n            variant=\"filled\"\n            onChange={formik.handleChange}\n            value={formik.values.satellites[satIndex].orbit.epoch}\n          />\n          {!formik.errors.epoch ? (\n            <FormHelperText />\n          ) : (\n            <FormErrorMessage>{formik.errors.orbit.epoch}</FormErrorMessage>\n          )}\n\n        </FormControl>\n        {fields.map((param) => (\n          <CustomNumberInput\n            value={formik.values.satellites[satIndex].orbit[param.id]}\n            key={param.id}\n            step={param.step}\n            name={`satellites[${satIndex}].orbit[${param.id}]`}\n            units={param.units}\n            formik={formik}\n            label={param.label}\n            min={param.min}\n            max={param.max}\n          />\n        ))}\n      </Flex>\n      <Tabs\n        p={10}\n        minWidth=\"50%\"\n        maxWidth=\"80%\"\n        align=\"center\"\n      >\n        <TabList>\n          <Tab>Choose</Tab>\n          <Tab>Paste TLE</Tab>\n        </TabList>\n        <TabPanels>\n          <TabPanel pt={10}>\n            <Flex wrap=\"wrap\" justify=\"space-around\">\n              <FormControl width=\"40%\">\n                <FormLabel htmlFor={`satellites[${satIndex}].orbit.constellation`}>Constellation</FormLabel>\n                <Select\n                  name={`satellites[${satIndex}].orbit.constellation`}\n                  value={formik.values.satellites[satIndex].orbit.constellation}\n                  onChange={formik.handleChange}\n                >\n                  {constellations.map((c) => (\n                    <option value={c.name} key={c.name}>\n                      {c.name}\n                    </option>\n                  ))}\n                </Select>\n              </FormControl>\n              <FormControl width=\"40%\">\n                <FormLabel htmlFor={`satellites[${satIndex}].orbit.tle`}>Satellite</FormLabel>\n                <Select\n                  name={`satellites[${satIndex}].orbit.tle`}\n                  value={formik.values.satellites[satIndex].orbit.tle}\n                  onChange={formik.handleChange}\n                >\n                  {constellations.find(\n                    (v) => v.name === formik.values.satellites[satIndex].orbit.constellation,\n                  ).tles\n                    .map((tle, i) => (\n                      <option\n                        key={`${i}${tle.name}`}\n                        value={`${tle.name}\\n${tle.tles.tle1}\\n${tle.tles.tle2}`}\n                      >\n                        {tle.name}\n                      </option>\n                    ))}\n                </Select>\n              </FormControl>\n              <Button\n                onClick={handleExtractTle}\n                m={3}\n              >\n                Extract\n              </Button>\n            </Flex>\n            <Text color=\"red\">{error}</Text>\n\n          </TabPanel>\n\n          <TabPanel pt={10}>\n            <FormControl width=\"90%\">\n              <FormLabel htmlFor={`satellites[${satIndex}].orbit.tle`}>TLE Input</FormLabel>\n              <Textarea\n                id=\"tle\"\n                name={`satellites[${satIndex}].orbit.tle`}\n                onChange={formik.handleChange}\n                value={formik.values.satellites[satIndex].orbit.tle}\n                placeholder=\"Enter TLE here\"\n              />\n              <FormErrorMessage>{formik.errors.tle}</FormErrorMessage>\n            </FormControl>\n            <Button\n              onClick={handleExtractTle}\n              m={3}\n            >\n              Extract\n            </Button>\n            <Text color=\"red\">{error}</Text>\n          </TabPanel>\n        </TabPanels>\n      </Tabs>\n    </>\n  );\n}\n","/* eslint-disable react/prop-types */\nimport { Flex } from '@chakra-ui/react';\nimport CustomNumberInput from './CustomNumberInput';\n\nconst fields = [\n  {\n    id: 'pvVoltage',\n    step: 0.1,\n    label: 'Voltage',\n    min: 0,\n    units: 'V',\n  },\n  {\n    id: 'currentDensity',\n    step: 0.1,\n    label: 'Current Density',\n    min: 0,\n    units: (\n      <span>\n        Am\n        <sup>-2</sup>\n      </span>\n    ),\n  },\n  {\n    id: 'area',\n    step: 0.001,\n    label: 'Area',\n    min: 0,\n    units: (\n      <span>\n        m\n        <sup>2</sup>\n      </span>\n    ),\n  },\n];\n\nfunction PowerTab({ satIndex, formik }) {\n  return (\n    <>\n      <h3>Photovoltaic</h3>\n      <Flex wrap=\"wrap\" justify=\"space-around\" mb={10}>\n        {fields.map((param) => (\n          <CustomNumberInput\n            value={formik.values.satellites[satIndex].power[param.id]}\n            step={param.step}\n            key={param.id}\n            name={`satellites[${satIndex}].power[${param.id}]`}\n            units={param.units}\n            formik={formik}\n            label={param.label}\n            min={param.min}\n            max={param.max}\n          />\n        ))}\n      </Flex>\n\n      <h3>Battery</h3>\n      <Flex wrap=\"wrap\" justify=\"space-around\">\n        {[\n          {\n            id: 'batteryVoltage',\n            step: 0.1,\n            label: 'Voltage',\n            min: 0,\n            units: 'V',\n          },\n          {\n            id: 'capacity',\n            step: 0.01,\n            label: 'Capacity',\n            min: 0,\n            units: 'Ah',\n          },\n          {\n            id: 'powerStoringConsumption',\n            step: 0.1,\n            label: 'Power storing consumption',\n            min: 0,\n            units: 'W',\n          },\n        ].map((param) => (\n          <CustomNumberInput\n            value={formik.values.satellites[satIndex].power[param.id]}\n            step={param.step}\n            key={param.id}\n            name={`satellites[${satIndex}].power[${param.id}]`}\n            units={param.units}\n            formik={formik}\n            label={param.label}\n            min={param.min}\n            max={param.max}\n          />\n        ))}\n      </Flex>\n    </>\n  );\n}\n\nexport default PowerTab;\n","/* eslint-disable react/prop-types */\nimport { AddIcon, ChevronRightIcon, SmallCloseIcon } from '@chakra-ui/icons';\nimport {\n  Button, Flex, List, ListItem, VStack,\n} from '@chakra-ui/react';\nimport { FieldArray, FormikProvider } from 'formik';\nimport { v4 as uuidv4 } from 'uuid';\nimport CustomEditableInput from './CustomEditableInput';\nimport { defaultSatellite } from './defaultInputs';\n\nfunction SatelliteListItem({\n  satellite, index, satIndex, setSatIndex, form, remove,\n}) {\n  return (\n    <ListItem\n      as={Flex}\n      p={1}\n      justify=\"space-around\"\n      align=\"center\"\n      borderRadius={5}\n      layerStyle={(index === satIndex) ? 'selected' : ''}\n      key={satellite.id}\n      onClick={() => setSatIndex(index)}\n    >\n\n      {/* <Button\n        onClick={() => {\n          setSatIndex(index);\n        }}\n        order={3}\n      >\n        <ChevronRightIcon />\n      </Button> */}\n\n      <CustomEditableInput\n        value={satellite.name}\n        name={`satellites[${index}].name`}\n        form={form}\n        onSubmit={() => setSatIndex(index)}\n      />\n      <Button\n        type=\"button\"\n        className=\"secondary\"\n        onClick={(e) => {\n          e.stopPropagation();\n          if (index === satIndex) {\n            setSatIndex(\n              () => (index > 0 ? index - 1 : 0),\n            );\n          } else if (index < satIndex) {\n            setSatIndex((prev) => prev - 1);\n          }\n          remove(index);\n        }}\n      >\n        <SmallCloseIcon />\n      </Button>\n    </ListItem>\n  );\n}\n\nfunction SatelliteList({ formik, satIndex, setSatIndex }) {\n  return (\n    <VStack>\n      <h2 align=\"center\">Satellites</h2>\n      <FormikProvider value={formik}>\n        <FieldArray name=\"satellites\">\n          {(fieldArrayProps) => {\n            const {\n              push, remove, form,\n            } = fieldArrayProps;\n            const { values } = form;\n            return (\n              <>\n                <List width=\"80%\" maxHeight=\"20rem\" overflowY=\"auto\">\n                  {values.satellites.length > 0\n                  && values.satellites.map((satellite, index) => (\n                    <SatelliteListItem\n                      satellite={satellite}\n                      index={index}\n                      satIndex={satIndex}\n                      setSatIndex={setSatIndex}\n                      form={form}\n                      remove={remove}\n                      key={satellite.id}\n                    />\n                  ))}\n                </List>\n                <Button\n                  m={5}\n                  onClick={() => {\n                    push({\n                      ...defaultSatellite,\n                      name: `Satellite ${values.satellites.length + 1}`,\n                      id: uuidv4(),\n                    });\n                    setSatIndex(values.satellites.length);\n                  }}\n                >\n                  <AddIcon />\n                </Button>\n              </>\n            );\n          }}\n        </FieldArray>\n      </FormikProvider>\n    </VStack>\n  );\n}\n\nexport default SatelliteList;\n","import { v4 as uuidv4 } from 'uuid';\n\nconst defaultDuty = {\n  name: 'Cyclical',\n  consumption: 3.2,\n  type: 'cyclical',\n  duration: 600,\n  cycles: 6,\n  priority: 1,\n};\n\nconst defaultSatellite = {\n  orbit: {\n    epoch: '2022-09-16T04:30:45',\n    meanMotionDot: 0.00003242,\n    bstar: 0.0084918,\n    inclination: 87.9147,\n    rightAscension: 147.6632,\n    eccentricity: 0.0002947,\n    perigee: 88.9181,\n    meanAnomaly: 343.2887,\n    meanMotion: 13.16587847,\n    tle: 'ONEWEB-0012\\n1 44057U 19010A   22250.74391874  .00000001  00000+0 -32174-4 0  9997\\n2 44057  87.9135 143.1939 0002746  66.1420 293.9999 13.16594134170187',\n    constellation: 'OneWeb',\n  },\n  power: {\n    pvVoltage: 4.7,\n    currentDensity: 170.5,\n    area: 0.0064,\n    batteryVoltage: 3.6,\n    capacity: 1.125,\n    powerStoringConsumption: 1.2,\n  },\n  duties: [\n    {\n      name: 'Cyclical',\n      consumption: 3.2,\n      type: 'cyclical',\n      duration: 600,\n      cycles: 6,\n      priority: 1,\n    },\n  ],\n};\n\nconst defaultValues = {\n\n  satellites: [\n    {\n      orbit: {\n        epoch: '2022-09-16T04:30:45',\n        meanMotionDot: 0.00003242,\n        bstar: 0.0084918,\n        inclination: 87.9147,\n        rightAscension: 147.6632,\n        eccentricity: 0.0002947,\n        perigee: 88.9181,\n        meanAnomaly: 343.2887,\n        meanMotion: 13.16587847,\n        tle: 'ONEWEB-0012\\n1 44057U 19010A   22250.74391874  .00000001  00000+0 -32174-4 0  9997\\n2 44057  87.9135 143.1939 0002746  66.1420 293.9999 13.16594134170187',\n        constellation: 'OneWeb',\n      },\n      power: {\n        pvVoltage: 4.7,\n        currentDensity: 170.5,\n        area: 0.0064,\n        batteryVoltage: 3.6,\n        capacity: 1.125,\n        powerStoringConsumption: 1.2,\n      },\n      duties: [\n        {\n          name: 'Cyclical',\n          consumption: 3.2,\n          type: 'cyclical',\n          duration: 600,\n          cycles: 6,\n          priority: 1,\n        },\n      ],\n      name: 'Satellite 1',\n      id: uuidv4(),\n    },\n    {\n      orbit: {\n        epoch: '2022-09-16T05:06:16',\n        meanMotionDot: 0.00001674,\n        bstar: 0.004385,\n        inclination: 87.9151,\n        rightAscension: 147.6525,\n        eccentricity: 0.0002601,\n        perigee: 76.2503,\n        meanAnomaly: 352.9196,\n        meanMotion: 13.16593118,\n        tle: 'ONEWEB-0012\\n1 44057U 19010A   22250.74391874  .00000001  00000+0 -32174-4 0  9997\\n2 44057  87.9135 143.1939 0002746  66.1420 293.9999 13.16594134170187',\n        constellation: 'OneWeb',\n      },\n      power: {\n        pvVoltage: 4.7,\n        currentDensity: 170.5,\n        area: 0.0064,\n        batteryVoltage: 3.6,\n        capacity: 1.125,\n        powerStoringConsumption: 1.2,\n      },\n      duties: [\n        {\n          name: 'Cyclical',\n          consumption: 3.2,\n          type: 'cyclical',\n          duration: 600,\n          cycles: 6,\n          priority: 1,\n        },\n      ],\n      name: 'Satellite 2',\n      id: uuidv4(),\n    },\n    {\n      orbit: {\n        epoch: '2022-09-16T07:37:44',\n        meanMotionDot: 2e-7,\n        bstar: 0.000052609,\n        inclination: 87.9156,\n        rightAscension: 147.6698,\n        eccentricity: 0.0001678,\n        perigee: 89.1265,\n        meanAnomaly: 358.4823,\n        meanMotion: 13.16600059,\n        tle: 'ONEWEB-0012\\n1 44057U 19010A   22250.74391874  .00000001  00000+0 -32174-4 0  9997\\n2 44057  87.9135 143.1939 0002746  66.1420 293.9999 13.16594134170187',\n        constellation: 'OneWeb',\n      },\n      power: {\n        pvVoltage: 4.7,\n        currentDensity: 170.5,\n        area: 0.0064,\n        batteryVoltage: 3.6,\n        capacity: 1.125,\n        powerStoringConsumption: 1.2,\n      },\n      duties: [\n        {\n          name: 'Cyclical',\n          consumption: 3.2,\n          type: 'cyclical',\n          duration: 600,\n          cycles: 6,\n          priority: 1,\n        },\n      ],\n      name: 'Satellite 3',\n      id: uuidv4(),\n    },\n  ],\n  spacePowers: 3,\n  offsets: {\n    inclination: 6,\n    rightAscension: 0,\n    eccentricity: 0,\n    perigee: 0,\n    meanAnomaly: 0,\n    meanMotion: 0,\n  },\n};\n\nexport { defaultSatellite, defaultDuty, defaultValues };\n","/* eslint-disable no-param-reassign */\n/* eslint-disable react/prop-types */\nimport { Box, Flex } from '@chakra-ui/react';\nimport { addEffect } from '@react-three/fiber';\nimport React, {\n  useCallback,\n  useEffect, useRef,\n} from 'react';\nimport * as fc from 'd3fc';\nimport * as d3 from 'd3';\nimport { legendColor } from 'd3-svg-legend';\nimport { useFrameStore } from '../../Model/store';\nimport './Charts.css';\n\nconst colors = [\n  [[139, 0, 0, 1], [205, 92, 92, 1]],\n  [[0, 100, 0, 1], [85, 107, 47, 1]],\n  [[0, 0, 139, 1], [173, 216, 230, 1]],\n  [[48, 25, 52, 1], [147, 112, 219, 1]],\n  [[204, 85, 0, 1], [255, 191, 0, 1]],\n  [[31, 38, 42, 1], [128, 128, 128, 1]],\n];\n\nconst webglColors = colors.map(\n  (color) => color.map((col) => col.map((c, i) => (i < 3 ? c / 255 : 1))),\n);\n\nconst dataHelpers = {\n  chargeState: {\n    name: 'Charge State',\n    unit: '%',\n    label: '',\n    getValue: (frame, satellite) => satellite.performance.chargeState[frame] * 100,\n    min: 0,\n    max: 100,\n\n  },\n  chargeStateNoBeams: {\n    name: 'Charge w/o Space Power',\n    label: 'w/o Space Power',\n    getValue: (frame, satellite) => satellite.performance.chargeStateNoBeams[frame] * 100,\n    min: 0,\n    max: 100,\n  },\n  netCurrent: {\n    name: 'Net Current',\n    unit: 'A',\n    label: '',\n    getValue: (frame, satellite) => satellite.params.load.powerProfiles[\n      satellite.performance.sources[frame]\n    ][\n      satellite.performance.currentDuties[frame]\n    ],\n  },\n  consumption: {\n    name: 'Consumption',\n    unit: 'W',\n    label: '',\n    getValue: (frame, satellite) => satellite.params.load.duties[\n      satellite.performance.currentDuties[frame]\n    ].consumption,\n  },\n};\n\nconst xExtent = fc.extentDate().accessors([(d) => d[0].x]);\nconst yExtent = fc\n  .extentLinear()\n  .accessors([(d) => d[0].y])\n  .pad([1, 0]);\n\nconst getSeries = (index, context, colorMap) => fc\n  .seriesWebglLine()\n  .crossValue((d) => d[index].x)\n  .mainValue((d) => d[index].y)\n  .defined(() => 1)\n  .equals((previousData) => previousData.length > 0)\n  .lineWidth(3)\n  .context(context)\n  .decorate((c) => {\n    const { i, j } = colorMap[index];\n    fc.webglStrokeColor(webglColors[i][j])(c);\n  });\n\nconst gridlines = fc.annotationSvgGridline();\n\nfunction Chart({\n  selected, shouldUpdate, time, zoom,\n}) {\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        if (state.frame - 2 > frame.current) { frame.current = state.frame; }\n        if (frame.current > state.frame) { frame.current = state.frame; }\n\n        // frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  const context = useRef();\n\n  const data = useRef([]);\n  const chart = useRef();\n  const chartRef = useRef();\n\n  const drawChart = () => {\n    d3.select(chartRef.current).datum(data.current).call(chart.current);\n  };\n  const colorMap = useRef();\n  const newSeries = useRef();\n  const updateData = () => time.current.map((t, f) => {\n    newSeries.current = [];\n    selected.current.satellites.forEach((satellite) => {\n      selected.current.params.forEach((param) => {\n        const helpers = dataHelpers[param];\n        newSeries.current.push({\n          x: t,\n          y: helpers.getValue(f, satellite),\n        });\n      });\n    });\n    return newSeries.current;\n  });\n\n  const legendRef = useRef();\n  const multi = useRef();\n  const series = useRef();\n  const legend = useRef();\n  const ordinal = useRef();\n  const labels = useRef();\n  const updateChart = () => {\n    const { satellites, params } = selected.current;\n    labels.current = satellites.map((satellite) => params.map((param) => `${satellite.name} ${dataHelpers[param].label}`)).flat();\n    colorMap.current = satellites.map(\n      (satellite, i) => params.map((param, j) => ({ i, j })),\n    ).flat();\n    ordinal.current = d3.scaleOrdinal()\n      .domain(labels.current)\n      .range(labels.current.map((label, index) => {\n        const { i, j } = colorMap.current[index];\n        return `rgb(${colors[i][j].slice(0, 3)})`;\n      }));\n\n    series.current = Array.from(\n      { length: satellites.length * params.length },\n      (v, i) => getSeries(i, context.current, colorMap.current),\n    );\n\n    if (!multi.current) multi.current = fc.seriesWebglMulti();\n    multi.current\n      .series(series.current)\n      .context(context.current);\n\n    legend.current = legendColor()\n      .shape('path', d3.symbol().type(d3.symbolSquare).size(150)())\n      .shapePadding(20)\n      .labelWrap(100)\n      .scale(ordinal.current);\n\n    try {\n      d3.select(legendRef.current).select('svg')\n        .call(legend.current)\n        .select('.legendCells')\n        .attr('transform', 'translate(0,150)')\n        .attr('align', 'center');\n    } catch {}\n\n    if (!chart.current) {\n      chart.current = fc.chartCartesian(d3.scaleTime(), d3.scaleLinear())\n        .xLabel('Time')\n        .svgPlotArea(gridlines)\n        .webglPlotArea(multi.current);\n    }\n\n    const helpers = dataHelpers[params[0]];\n    chart.current\n      .yLabel(helpers.unit)\n      .chartLabel(helpers.name)\n      .yDomain(yExtent(data.current));\n  };\n\n  const nextData = useRef();\n  const prevFrame = useRef();\n  const window = useRef();\n  addEffect(() => {\n    if (prevFrame.current === frame.current) return;\n    if (!time.current) return;\n    if (!chart.current) {\n      data.current = updateData();\n      updateChart();\n      drawChart();\n      if (!context.current) {\n        const canvas = d3.select(chartRef.current).select('d3fc-canvas canvas').node();\n        context.current = canvas.getContext('webgl');\n      }\n    }\n    if (shouldUpdate.current) {\n      data.current = updateData();\n      updateChart();\n      shouldUpdate.current = false;\n    }\n    window.current = frame.current - ((frame.current - 500) * (zoom.current / 1000));\n\n    nextData.current = data.current.slice(frame.current - window.current >= 0\n      ? frame.current - window.current : 0, frame.current);\n    // nextData.current = data.current.slice(0, frame.current);\n    chart.current\n      .xDomain(xExtent(nextData.current));\n\n    drawChart();\n    prevFrame.current = frame.current;\n  });\n\n  const ref = useCallback((node) => {\n    chartRef.current = node;\n  }, []);\n\n  return (\n    <Box maxHeight={500} width=\"100%\">\n      <Flex justify=\"center\">\n        <div\n          style={{\n            width: '80%',\n            height: '500px',\n            padding: '2.5rem',\n          }}\n          ref={ref}\n          id=\"chart\"\n        />\n        <d3fc-svg\n          id=\"legend\"\n          ref={legendRef}\n          style={{\n            width: '20%',\n            height: '500px',\n          }}\n        />\n      </Flex>\n    </Box>\n  );\n}\n\nexport default React.memo(Chart);\n","/* eslint-disable consistent-return */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable import/no-extraneous-dependencies */\n/* eslint-disable no-unused-vars */\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport {\n  Box, Center, Flex, FormControl, FormLabel, NumberDecrementStepper, NumberIncrementStepper,\n  NumberInput, NumberInputField, NumberInputStepper, Select, Slider, SliderFilledTrack, SliderThumb, SliderTrack, Text, VStack,\n} from '@chakra-ui/react';\n\nimport React, {\n  startTransition,\n  useCallback,\n  useContext, useEffect, useLayoutEffect, useMemo, useRef, useState, useTransition,\n} from 'react';\nimport shallow from 'zustand/shallow';\nimport { useStore, useFrameStore } from '../../Model/store';\nimport Chart from './Chart';\nimport SatelliteList from './SatelliteList';\n\nconst paramChoices = [\n  {\n    key: 'chargeState',\n    name: 'Charge State',\n    selection: ['chargeState', 'chargeStateNoBeams'],\n  },\n  {\n    key: 'netCurrent',\n    name: 'Net Current',\n    selection: ['netCurrent'],\n  },\n  {\n    key: 'consumption',\n    name: 'Consumption',\n    selection: ['consumption'],\n  },\n];\n\nfunction ChartEditor() {\n  const {\n    customers, time, spacePowers, averages,\n  } = useStore(\n    (state) => ({\n      customers: state.mission.satellites.customers,\n      spacePowers: state.mission.satellites.spacePowers,\n      averages: state.mission.satellites.averages,\n      time: state.mission.time,\n    }),\n    shallow,\n  );\n\n  // const [selected.current.satellites, setselected.current.satellite] = useState([...customers]);\n  // const [selectedParams, setSelectedParams] = useState('chargeState');\n\n  const selected = useRef({\n    satellites: customers.slice(0, 3),\n    params: ['chargeState', 'chargeStateNoBeams'],\n  });\n  const [selectedSatellites, setSelectedSatellites] = useState(customers.slice(0, 3));\n  const shouldUpdate = useRef(false);\n  const toggleSelected = (id) => {\n    const satellite = customers.find((v) => v.id === id);\n    if (selected.current.satellites.includes(satellite)) {\n      if (selected.current.satellites.length === 1) return;\n      selected.current.satellites = selected.current.satellites.filter(\n        (v) => v.id !== satellite.id,\n      );\n    } else {\n      selected.current.satellites = [...selected.current.satellites, satellite];\n      if (selected.current.satellites.length > 6) {\n        selected.current.satellites.splice(0, 1);\n      }\n    }\n    startTransition(() => { setSelectedSatellites(selected.current.satellites); });\n\n    shouldUpdate.current = true;\n  };\n  const handleSelectParam = (e) => {\n    selected.current.params = paramChoices.find((v) => v.key === e.target.value).selection;\n    shouldUpdate.current = true;\n  };\n\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        if (state.frame - 2 > frame.current) { frame.current = state.frame; }\n        if (frame.current > state.frame) { frame.current = state.frame; }\n\n        // frame.current = state.frame;\n      },\n    );\n  }, []);\n  const zoom = useRef(300);\n  const handleZoom = (v) => {\n    zoom.current = v;\n  };\n  const timeRef = useRef();\n\n  useEffect(() => {\n    selected.current.satellites = customers.slice(0, 3);\n    timeRef.current = time;\n    shouldUpdate.current = true;\n  }, [customers, time]);\n\n  return (\n    <VStack>\n      <Chart\n        selected={selected}\n        shouldUpdate={shouldUpdate}\n        time={timeRef}\n        zoom={zoom}\n      />\n      <FormControl width=\"50%\">\n        <Flex gap={3} align=\"center\" justify=\"center\" m={3}>\n          <FormLabel height=\"100%\" margin={0}>Zoom:</FormLabel>\n          <Slider\n            aria-label=\"slider-ex-2\"\n            colorScheme=\"purple\"\n            defaultValue={300}\n            min={0}\n            max={1000}\n            step={10}\n            onChange={handleZoom}\n            maxWidth=\"10rem\"\n          >\n            <SliderTrack>\n              <SliderFilledTrack />\n            </SliderTrack>\n            <SliderThumb />\n          </Slider>\n        </Flex>\n      </FormControl>\n      <Flex width=\"100%\" justify=\"flex-start\">\n        <SatelliteList toggleSelected={toggleSelected} selected={selectedSatellites} />\n        <Center width=\"50%\">\n          <VStack width=\"50%\">\n            <h4>Choose parameter</h4>\n            <Select\n              onChange={handleSelectParam}\n            >\n              {paramChoices.map((choice) => (\n                <option value={choice.key} key={choice.key}>{choice.name}</option>\n              ))}\n            </Select>\n          </VStack>\n        </Center>\n        <Box width=\"20%\" />\n      </Flex>\n    </VStack>\n  );\n}\n\nexport default ChartEditor;\n","/* eslint-disable consistent-return */\n/* eslint-disable react/prop-types */\nimport { GridItem } from '@chakra-ui/react';\nimport React from 'react';\nimport shallow from 'zustand/shallow';\nimport { useStore } from '../../Model/store';\nimport ChartEditor from './ChartEditor';\nimport Summary from './Summary';\n\nfunction PerformanceView() {\n  const { view } = useStore(\n    (state) => ({\n      view: state.view,\n    }),\n    shallow,\n  );\n  return (\n    <>\n      <GridItem area=\"performance\" transform={view.name === 'performance' ? '' : 'translate(-9999px, 0)'} position={view.name === 'performance' ? '' : 'absolute'}>\n        <ChartEditor />\n      </GridItem>\n      <GridItem area=\"summary\" transform={view.name === 'performance' ? '' : 'translate(-9999px, 0)'} position={view.name === 'performance' ? '' : 'absolute'}>\n        <Summary />\n      </GridItem>\n    </>\n  );\n}\n\nexport default React.memo(PerformanceView);\n","/* eslint-disable react/prop-types */\nimport {\n  Checkbox, CheckboxGroup, VStack,\n} from '@chakra-ui/react';\nimport shallow from 'zustand/shallow';\nimport { useStore } from '../../Model/store';\nimport './Charts.css';\n\nfunction SatelliteList({ toggleSelected, selected }) {\n  const {\n    customers,\n  } = useStore(\n    (state) => ({\n      customers: state.mission.satellites.customers,\n    }),\n    shallow,\n  );\n  const handleSelect = (e) => {\n    const { id } = e.target;\n    toggleSelected(id);\n  };\n\n  return (\n    <VStack width=\"50%\">\n      <h4>\n        Show data for\n        {' '}\n        <span>(max 6)</span>\n      </h4>\n\n      <CheckboxGroup width=\"100%\">\n        {customers.map((customer) => (\n          <Checkbox\n            onChange={handleSelect}\n            id={customer.id}\n            key={customer.id}\n            align=\"start\"\n            isDisabled={(selected.length === 1 && selected.includes(customer))}\n            isChecked={selected.includes(customer)}\n          >\n            {customer.name}\n          </Checkbox>\n        ))}\n      </CheckboxGroup>\n    </VStack>\n  );\n}\n\nexport default SatelliteList;\n","import {\n  Center,\n  Flex,\n  Select, Stat, StatGroup, StatHelpText, StatLabel, StatNumber, VStack,\n} from '@chakra-ui/react';\nimport { useState } from 'react';\nimport shallow from 'zustand/shallow';\nimport { useStore } from '../../Model/store';\nimport { SIM_LENGTH } from '../../Util/constants';\n\nconst days = SIM_LENGTH / (1000 * 60 * 60 * 24);\n\nconst statProps = [\n  {\n    key: 'duration',\n    name: 'Total Duration',\n    getValue: () => days,\n    format: (value) => `${value.toFixed(1)} days`,\n    getHelpText: (selected, customers) => {\n      const period = selected.params ? selected.params.orbit.period : customers[0].params.orbit.period;\n      return `${((SIM_LENGTH) / period).toFixed(2)} orbits`;\n    },\n  },\n  {\n    key: 'dischargeSaved',\n    name: 'Discharge Saved',\n    getValue: (selected) => selected.summary.dischargeSaved,\n    format: (value) => `${value.toFixed(2)}Ah`,\n    getHelpText: (selected, customers) => {\n      if (selected.params) return `${(selected.summary.dischargeSaved / selected.params.battery.capacity).toFixed(1)} full batteries`;\n      return `${(selected.summary.dischargeSaved / customers[0].params.battery.capacity).toFixed(1)} full batteries`;\n    },\n  },\n  {\n    key: 'timeCharged',\n    name: 'Time spent charging',\n    getValue: (selected) => selected.summary.timeCharged,\n    format: (value) => `${value.toFixed(1)} minutes`,\n    getHelpText: (selected) => `${((selected.summary.timeCharged * 100) / (days * 60 * 60)).toFixed(1)}% of ${days.toFixed(1)} days`,\n  },\n  {\n    key: 'lowestChargeState',\n    name: 'Lowest Charge State',\n    getValue: (selected) => selected.summary.lowestChargeStateNoBeams,\n    format: (value) => `${(value * 100).toFixed(1)}%`,\n    getHelpText: (selected) => `${(selected.summary.lowestChargeStateBeams * 100).toFixed(1)}% with Space Power`,\n  },\n];\n\nfunction Summary() {\n  const { customers, fleet } = useStore(\n    (state) => ({\n      customers: state.mission.satellites.customers,\n      fleet: state.mission.satellites.fleet,\n    }),\n    shallow,\n  );\n\n  const [selected, setSelected] = useState(customers[0]);\n  const handleSelectSatellite = (e) => {\n    if (e.target.value === 'fleet') setSelected(() => fleet);\n    else {\n      setSelected(() => customers.find((v) => v.id === e.target.value));\n    }\n  };\n  return (\n    <VStack width=\"100%\">\n      <h3>Summary</h3>\n      <Center minWidth=\"50%\">\n        <Select onChange={handleSelectSatellite}>\n          {customers.map((customer) => (\n            <option key={customer.id} value={customer.id}>{customer.name}</option>\n          ))}\n          <option value=\"fleet\">Fleet</option>\n        </Select>\n      </Center>\n      <StatGroup as={Flex} wrap=\"wrap\" width=\"100%\" justify=\"center\" align=\"center\">\n        {statProps.map((stat) => (\n          <Stat key={stat.key} m={5} minWidth=\"20ch\" align=\"center\">\n            <StatLabel>{stat.name}</StatLabel>\n            <StatNumber>{stat.format(stat.getValue(selected))}</StatNumber>\n            <StatHelpText>{stat.getHelpText(selected, customers)}</StatHelpText>\n          </Stat>\n\n        ))}\n      </StatGroup>\n    </VStack>\n  );\n}\n\nexport default Summary;\n","/* eslint-disable react/prop-types */\nimport {\n  Button, ButtonGroup, Flex, GridItem,\n} from '@chakra-ui/react';\nimport { useStore } from '../Model/store';\n\nfunction ViewButtons() {\n  const setView = useStore((state) => state.setView);\n  return (\n\n    <GridItem\n      area=\"views\"\n      // sx={{\n      //   borderImageSlice: '1',\n      //   borderWidth: '5px',\n      //   borderImageSource: 'linear-gradient(to left, #743ad5, #d53a9d)',\n      //   borderRadius: '5%',\n      // }}\n    >\n      <Flex alignItems=\"center\" justify=\"center\" height=\"100%\">\n        <ButtonGroup onClick={setView}>\n          <Button value=\"mission\">\n            Mission Planner\n          </Button>\n          <Button value=\"performance\">\n            Performance View\n          </Button>\n        </ButtonGroup>\n      </Flex>\n    </GridItem>\n\n  );\n}\n\nexport default ViewButtons;\n","/* eslint-disable import/prefer-default-export */\nexport { default as MissionPlanner } from './MissionPlanner/MissionPlanner';\nexport { default as HUD } from './HUD/HUD';\n","/* eslint-disable consistent-return */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-continue */\n/* eslint-disable no-console */\n/* eslint-disable import/prefer-default-export */\nimport {\n  pi,\n  tumin,\n  deg2rad,\n  earthRadius,\n} from 'satellite.js/lib/constants';\n\nimport { jday, days2mdhms } from 'satellite.js/lib/ext';\n\nimport sgp4init from 'satellite.js/lib/propagation/sgp4init';\n\nimport * as satelliteUtils from 'satellite.js';\n\n/**\n * Return a Satellite imported from two lines of TLE data.\n *\n * Provide the two TLE lines as strings `longstr1` and `longstr2`,\n * and select which standard set of gravitational constants you want\n * by providing `gravity_constants`:\n *\n * `sgp4.propagation.wgs72` - Standard WGS 72 model\n * `sgp4.propagation.wgs84` - More recent WGS 84 model\n * `sgp4.propagation.wgs72old` - Legacy support for old SGP4 behavior\n *\n * Normally, computations are made using letious recent improvements\n * to the algorithm.  If you want to turn some of these off and go\n * back into \"afspc\" mode, then set `afspc_mode` to `True`.\n */\n\nfunction extractTLE(longstr1, longstr2) {\n  const orbitElements = {};\n\n  orbitElements.epochYear = parseInt(longstr1.substring(18, 20), 10);\n  orbitElements.epochDays = parseFloat(longstr1.substring(20, 32));\n  orbitElements.meanMotionDot = parseFloat(longstr1.substring(33, 43));\n  orbitElements.meanMotionDoubleDot = parseFloat(\n    `.${parseInt(\n      longstr1.substring(44, 50),\n      10,\n    )}E${longstr1.substring(50, 52)}`,\n  );\n  orbitElements.bstar = parseFloat(\n    `${longstr1.substring(53, 54)}.${parseInt(\n      longstr1.substring(54, 59),\n      10,\n    )}E${longstr1.substring(59, 61)}`,\n  );\n\n  // satrec.satnum = longstr2.substring(2, 7);\n  orbitElements.inclination = parseFloat(longstr2.substring(8, 16));\n  orbitElements.rightAscension = parseFloat(longstr2.substring(17, 25));\n  orbitElements.eccentricity = parseFloat(`.${longstr2.substring(26, 33)}`);\n  orbitElements.perigee = parseFloat(longstr2.substring(34, 42));\n  orbitElements.meanAnomaly = parseFloat(longstr2.substring(43, 51));\n  orbitElements.meanMotion = parseFloat(longstr2.substring(52, 63));\n  let year;\n  if (orbitElements.epochYear < 57) {\n    year = orbitElements.epochYear + 2000;\n  } else {\n    year = orbitElements.epochYear + 1900;\n  }\n\n  const mdhmsResult = days2mdhms(year, orbitElements.epochDays);\n  const {\n    mon, day, hr, minute, sec,\n  } = mdhmsResult;\n  orbitElements.epoch = new Date(year, mon, day, hr, minute, sec);\n\n  return orbitElements;\n}\n\nfunction daysIntoYear(date) {\n  return (\n    (Date.UTC(date.getFullYear(), date.getMonth(), date.getDate())\n      - Date.UTC(date.getFullYear(), 0, 0))\n    / 24\n    / 60\n    / 60\n    / 1000\n  );\n}\n\nfunction generateTLE(orbitElements) {\n  const {\n    epoch,\n    meanMotionDot,\n    bstar,\n    inclination,\n    rightAscension,\n    eccentricity,\n    perigee,\n    meanAnomaly,\n    meanMotion,\n  } = orbitElements;\n  let epochYr = String(epoch.getYear());\n  if (epochYr > 100) epochYr = epochYr.substring(1);\n\n  let epochDay = daysIntoYear(epoch);\n  if (epochDay < 100) epochDay = `0${epochDay}`;\n\n  const epochFraction = String(\n    (\n      epoch.getHours() / 24\n      + epoch.getMinutes() / (60 * 24)\n      + epoch.getSeconds() / (60 * 60 * 24)\n    ).toFixed(8),\n  ).substring(1);\n\n  let meanMotionDotString = String(\n    meanMotionDot.toFixed(8),\n  ).substring(1);\n  if (meanMotionDot < 0) { meanMotionDotString = `-${meanMotionDotString.substring(1)}`; }\n  if (meanMotionDot >= 0) { meanMotionDotString = ` ${meanMotionDotString}`; }\n\n  let bstarMant = String(bstar.toExponential(5))\n    .split('.')\n    .join('')\n    .substring(0, 6);\n  if (bstar > 0) bstarMant = ` ${bstarMant.substring(0, 5)}`;\n  const bstarExp = Math.ceil(Math.log10(Math.abs(bstar)));\n\n  const tle1 = `1 00000C 00000A   ${epochYr}${epochDay}${epochFraction} ${meanMotionDotString}  00000-0 ${bstarMant}${bstarExp} 0  0000`;\n  let inclinationString = String(inclination.toFixed(4));\n  if (inclination < 100) inclinationString = ` ${inclinationString}`;\n\n  let rightAscensionString = String(rightAscension.toFixed(4));\n  if (rightAscension < 100) { rightAscensionString = ` ${rightAscensionString}`; }\n\n  const eccentricityString = String(\n    eccentricity.toFixed(7),\n  ).substring(2);\n\n  let perigeeString = String(perigee.toFixed(4));\n  if (perigee < 100) perigeeString = ` ${perigeeString}`;\n\n  let meanAnomalyString = String(meanAnomaly.toFixed(4));\n  if (meanAnomalyString < 100) { meanAnomalyString = ` ${meanAnomalyString}`; }\n\n  const meanMotionString = String(meanMotion.toPrecision(10));\n  const tle2 = `2 00000 ${inclinationString} ${rightAscensionString} ${eccentricityString} ${perigeeString} ${meanAnomalyString} ${meanMotionString}    00`;\n\n  return {\n    tle1,\n    tle2,\n  };\n}\n\nfunction twoline2satrec(longstr1, longstr2) {\n  const opsmode = 'i';\n  const xpdotp = 1440.0 / (2.0 * pi); // 229.1831180523293;\n  let year = 0;\n\n  const satrec = {};\n  satrec.error = 0;\n\n  satrec.satnum = longstr1.substring(2, 7);\n\n  satrec.epochyr = parseInt(longstr1.substring(18, 20), 10);\n  satrec.epochdays = parseFloat(longstr1.substring(20, 32));\n  satrec.ndot = parseFloat(longstr1.substring(33, 43));\n  satrec.nddot = parseFloat(\n    `.${parseInt(\n      longstr1.substring(44, 50),\n      10,\n    )}E${longstr1.substring(50, 52)}`,\n  );\n  satrec.bstar = parseFloat(\n    `${longstr1.substring(53, 54)}.${parseInt(\n      longstr1.substring(54, 59),\n      10,\n    )}E${longstr1.substring(59, 61)}`,\n  );\n\n  // satrec.satnum = longstr2.substring(2, 7);\n  satrec.inclo = parseFloat(longstr2.substring(8, 16));\n  satrec.nodeo = parseFloat(longstr2.substring(17, 25));\n  satrec.ecco = parseFloat(`.${longstr2.substring(26, 33)}`);\n  satrec.argpo = parseFloat(longstr2.substring(34, 42));\n  satrec.mo = parseFloat(longstr2.substring(43, 51));\n  satrec.no = parseFloat(longstr2.substring(52, 63));\n\n  // ---- find no, ndot, nddot ----\n  satrec.notle = satrec.no;\n  satrec.no /= xpdotp; //   rad/min\n  // satrec.nddot= satrec.nddot * Math.pow(10.0, nexp);\n  // satrec.bstar= satrec.bstar * Math.pow(10.0, ibexp);\n\n  // ---- convert to sgp4 units ----\n  satrec.a = (satrec.no * tumin) ** (-2.0 / 3.0);\n  satrec.ndottle = satrec.ndot;\n  satrec.ndot /= xpdotp * 1440.0; // ? * minperday\n  satrec.nddot /= xpdotp * 1440.0 * 1440;\n\n  // ---- find standard orbital elements ----\n  satrec.inclotle = satrec.inclo;\n  satrec.inclo *= deg2rad;\n  satrec.nodeotle = satrec.nodeo;\n  satrec.nodeo *= deg2rad;\n  satrec.argpotle = satrec.argpo;\n  satrec.argpo *= deg2rad;\n  satrec.motle = satrec.mo;\n  satrec.mo *= deg2rad;\n\n  satrec.alta = satrec.a * (1.0 + satrec.ecco) - 1.0;\n  satrec.altp = satrec.a * (1.0 - satrec.ecco) - 1.0;\n\n  // ----------------------------------------------------------------\n  // find sgp4epoch time of element set\n  // remember that sgp4 uses units of days from 0 jan 1950 (sgp4epoch)\n  // and minutes from the epoch (time)\n  // ----------------------------------------------------------------\n\n  // ---------------- temp fix for years from 1957-2056 -------------------\n  // --------- correct fix will occur when year is 4-digit in tle ---------\n\n  if (satrec.epochyr < 57) {\n    year = satrec.epochyr + 2000;\n  } else {\n    year = satrec.epochyr + 1900;\n  }\n\n  const mdhmsResult = days2mdhms(year, satrec.epochdays);\n\n  const {\n    mon, day, hr, minute, sec,\n  } = mdhmsResult;\n  satrec.jdsatepoch = jday(year, mon, day, hr, minute, sec);\n  satrec.epochdate = new Date(year, mon, day, hr, minute, sec);\n  satrec.epochdatetimelocal = new Date(\n    satrec.epochdate.getTime() - satrec.epochdate.getTimezoneOffset() * 60000,\n  ).toISOString().substring(0, 19);\n\n  //  ---------------- initialize the orbit at sgp4epoch -------------------\n  sgp4init(satrec, {\n    opsmode,\n    satn: satrec.satnum,\n    epoch: satrec.jdsatepoch - 2433281.5,\n    xbstar: satrec.bstar,\n    xecco: satrec.ecco,\n    xargpo: satrec.argpo,\n    xinclo: satrec.inclo,\n    xmo: satrec.mo,\n    xno: satrec.no,\n    xnodeo: satrec.nodeo,\n  });\n\n  return satrec;\n}\n\nfunction getCorsFreeUrl(url) {\n  return `https://api.allorigins.win/raw?url=${url}`;\n}\n\nfunction parseTLEs(fileContent) {\n  const result = [];\n  const lines = fileContent.split('\\n');\n  if (lines < 2) throw new Error('Error parsing TLE');\n  let current = null;\n  for (let i = 0; i < lines.length; ++i) {\n    const line = lines[i].trim();\n    if (line.length === 0) continue;\n\n    if (line[0] !== '1' && line[0] !== '2') {\n      current = {\n        name: line,\n      };\n    } else if (line[0] === '1') {\n      current = {\n        ...current,\n        tles: { ...current.tles, tle1: line },\n      };\n    } else if (line[0] === '2') {\n      current = {\n        ...current,\n        tles: { ...current.tles, tle2: line },\n      };\n      result.push(current);\n    } else throw new Error('Error parsing TLE');\n  }\n\n  return result;\n}\n\nfunction loadTLEsJSON(url) {\n  return fetch(url).then((res) => {\n    if (res.ok) {\n      return res.text().then((text) => JSON.parse(text));\n    }\n  });\n}\n\nfunction loadTLEs(url) {\n  return fetch(url).then((res) => {\n    if (res.ok) {\n      return res.text().then((text) => {\n        const satellites = parseTLEs(text);\n        return satellites;\n      });\n    }\n  });\n}\n\nconst toThree = (v) => ({\n  x: v.x / earthRadius,\n  y: v.z / earthRadius,\n  z: -v.y / earthRadius,\n});\n\nfunction getPositionFromTLE(satellite, date) {\n  const positionVelocity = satelliteUtils.propagate(\n    satellite.orbit,\n    date,\n  );\n\n  const positionEci = positionVelocity.position;\n  return toThree(positionEci);\n}\n\nfunction getOrbitAtTime(satellite, time) {\n  const pos = getPositionFromTLE(satellite, time);\n  // return new THREE.Vector3(pos.x, pos.y, pos.z);\n  return { x: pos.x, y: pos.y, z: pos.z };\n}\n\nfunction getSunPosition(time) {\n  const N = time.getTime() / 86400000 + 2440587 - 2451545;\n  let L = 4.89495042 + 0.0172027923937 * N;\n  if (L > 2 * Math.PI) L -= 2 * Math.PI;\n  let g = 6.240040768 + 0.0172019703436 * N;\n  if (g > 2 * Math.PI) g -= 2 * Math.PI;\n  const longitude = L + 0.033423055 * Math.sin(g) + 0.0003490659 * Math.sin(g);\n  const distance = 1.00014 - 0.01671 * Math.cos(g) - 0.00014 * Math.cos(2 * g)\n  * (149597870.7 / earthRadius);\n  const obliquity = 0.40907027 - 6.981317008e-9 * N;\n  const y = (distance * Math.sin(obliquity) * Math.sin(longitude));\n\n  const x = (distance * Math.cos(longitude));\n  const z = -(distance * Math.cos(obliquity) * Math.sin(longitude));\n\n  return { x, y, z };\n}\n\nfunction getEarthRotationAngle(date) {\n  const JD = date / 86400000 + 2440587 - 2451545;\n  return 2 * Math.PI * (0.779057273264 + 1.002737811911355 * JD);\n}\n\nfunction getDistance(position1, position2) {\n  const a = position1.x - position2.x;\n  const b = position1.y - position2.y;\n  const c = position1.z - position2.z;\n\n  return Math.sqrt(a * a + b * b + c * c);\n}\n\nexport {\n  twoline2satrec,\n  generateTLE,\n  extractTLE,\n  getOrbitAtTime,\n  getSunPosition,\n  getEarthRotationAngle,\n  getDistance,\n  parseTLEs,\n  getCorsFreeUrl,\n  loadTLEs,\n  loadTLEsJSON,\n};\n","const SIM_LENGTH = 24 * 60 * 60 * 2 * 1000; // ms\nconst FPmS = 120 / 1000;\n\nconst BEAM_DISTANCE = 1000;\nconst MIN_SPEED = 600;\nconst FRAMES = SIM_LENGTH * (FPmS / MIN_SPEED);\n\nexport {\n  SIM_LENGTH,\n  MIN_SPEED,\n  FRAMES,\n  BEAM_DISTANCE,\n};\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/prefer-default-export */\nimport { earthRadius } from 'satellite.js/lib/constants';\n\nimport { SIM_LENGTH, FRAMES } from './constants';\n\nconst THREE = require('three');\n\nconst earthPosition = new THREE.Vector3(0, 0, 0);\nconst sunPosition = new THREE.Vector3();\nconst satPosition = new THREE.Vector3();\nconst sunEarth = new THREE.Vector3();\nconst sunSat = new THREE.Vector3();\n\nfunction isEclipsed(satellite, sun) {\n  sunPosition.fromArray([sun.x, sun.y, sun.z]);\n  satPosition.fromArray([satellite.x, satellite.y, satellite.z]);\n\n  sunEarth.subVectors(earthPosition, sunPosition);\n  sunSat.subVectors(satPosition, earthPosition);\n\n  const angle = sunEarth.angleTo(sunSat);\n\n  const sunEarthDistance = sunPosition.distanceTo(earthPosition);\n  const sunSatDistance = sunPosition.distanceTo(satPosition);\n  const limbAngle = Math.atan2(earthRadius, sunEarthDistance);\n\n  if (angle > limbAngle || sunSatDistance < sunEarthDistance) {\n    return false;\n  }\n  return true;\n}\n\nfunction getNetCurrent(params, source, currentDuty) {\n  const powerProfile = params.load.powerProfiles[source];\n  return powerProfile[currentDuty];\n}\n\nfunction getChargeState(\n  params,\n  currentDuty,\n  source,\n  chargeState,\n  delta,\n) {\n  const netCurrent = getNetCurrent(params, source, currentDuty);\n  const { capacity } = params.battery;\n\n  if (chargeState >= 1.0 && netCurrent >= 0) {\n    return 1;\n  }\n\n  if (chargeState <= 0 && netCurrent <= 0) {\n    return 0;\n  }\n\n  return (\n    (\n      (chargeState * capacity)\n      + (delta * netCurrent)\n    ) / capacity\n  );\n}\n\nexport { isEclipsed, getChargeState, getNetCurrent };\n","import { ColorModeScript } from '@chakra-ui/react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App';\nimport theme from './theme';\n\nconst root = createRoot(document.getElementById('root')); // createRoot(container!) if you use TypeScript\nroot.render(\n  <>\n    <ColorModeScript initialColorMode={theme.config.initialColorMode} />\n    <App />\n  </>,\n);\n","/* eslint-disable quotes */\nimport { extendTheme } from '@chakra-ui/react';\nimport { mode } from '@chakra-ui/theme-tools';\n\nconst config = {\n  useSystemColorMode: false,\n  initialColorMode: 'dark',\n};\n\nconst styles = {\n  global: (props) => ({\n    body: {\n      bg: mode('white', '#110916')(props),\n      fontFamily: `'Barlow', sans-serif`,\n    },\n    h1: {\n      fontSize: '2rem',\n      fontWeight: 'bold',\n    },\n    h2: {\n      fontSize: '1.5rem',\n      fontWeight: 'bold',\n      padding: '2rem',\n    },\n    h3: {\n      fontSize: '1.25rem',\n      fontWeight: 'bold',\n      padding: '1.5rem',\n    },\n    h4: {\n      fontSize: '1rem',\n      fontWeight: 'bold',\n      padding: '0.5rem',\n    },\n  }),\n};\n\nconst fonts = {\n  fonts: {\n    heading: `'Arial', sans-serif`,\n    body: `'Barlow', sans-serif`,\n  },\n};\n\nconst layerStyles = {\n  selected: {\n    bg: 'rgba(255,255,255,0.1)',\n  },\n};\n\nconst textStyles = {\n  number: {\n    fontFamily: '\"Azeret Mono\", monospace',\n  },\n};\n\nconst components = {\n  FormControl: {\n    baseStyle: {\n      width: \"auto\",\n    },\n  },\n  Modal: {\n    sizes: {\n      xl: {\n        dialog: {\n          height: \"auto\",\n          minWidth: \"50vw\",\n        },\n      },\n    },\n  },\n};\n\nconst colors = {\n  background: {\n    100: 'hsl(276.9,41.9%,20%)',\n    200: 'hsl(276.9,41.9%,10%)',\n    300: 'hsl(276.9,41.9%,6.1%)',\n  },\n};\n\nconst theme = extendTheme({\n  config, styles, fonts, layerStyles, textStyles, components, colors,\n});\n\nexport default theme;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".hide {\\n  display: none;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/UI/HUD/HUD.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;AACF\",\"sourcesContent\":[\".hide {\\n  display: none;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".gridline-x, .gridline-y {\\n  z-index: 4;\\n  stroke: white;\\n  stroke-width: 0.1;\\n}\\n\\n.webgl-plot-area {\\n  background-color: hsl(276.9deg, 41.9%, 20%);\\n}\\n\\n.domain {\\n  stroke: white;\\n}\\n\\n.tick > text {\\n  stroke: white;\\n  fill: white;\\n  outline: 0;\\n  font-family: \\\"Barlow\\\", \\\"sans-serif\\\";\\n  stroke-width: 0;\\n}\\n\\n.tick > path {\\n  stroke: white;\\n  fill: white;\\n}\\n\\n/* .y-label {\\n  transform: rotate(-90)\\n} */\\n.selected {\\n  background-color: rgba(255, 255, 255, 0.1);\\n}\\n\\n#legend {\\n  position: relative;\\n  display: block;\\n  stroke: white;\\n  fill: white;\\n  stroke-width: 0px;\\n  font-size: 0.75rem;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/UI/PerformanceView/Charts.css\"],\"names\":[],\"mappings\":\"AACA;EACE,UAAA;EACA,aAAA;EACA,iBAAA;AAAF;;AAGA;EACE,2CAAA;AAAF;;AAIA;EACE,aAAA;AADF;;AAIA;EACE,aAAA;EACA,WAAA;EACA,UAAA;EACA,mCAAA;EACA,eAAA;AADF;;AAGA;EACE,aAAA;EACA,WAAA;AAAF;;AAGA;;GAAA;AAIA;EACE,0CAAA;AADF;;AAIA;EACE,kBAAA;EACA,cAAA;EACA,aAAA;EACA,WAAA;EACA,iBAAA;EACA,kBAAA;AADF\",\"sourcesContent\":[\"\\n.gridline-x, .gridline-y {\\n  z-index: 4;\\n  stroke: white;\\n  stroke-width: 0.1;\\n}\\n\\n.webgl-plot-area {\\n  background-color: hsl(276.9,41.9%,20%);\\n\\n}\\n\\n.domain {\\n  stroke: white;\\n}\\n\\n.tick > text {\\n  stroke: white;\\n  fill: white;\\n  outline: 0;\\n  font-family: 'Barlow', 'sans-serif';\\n  stroke-width: 0;\\n}\\n.tick > path{\\n  stroke: white;\\n  fill: white;\\n}\\n\\n/* .y-label {\\n  transform: rotate(-90)\\n} */\\n\\n.selected {\\n  background-color: rgba(255,255,255,0.1),\\n};\\n\\n#legend {\\n  position: relative;\\n  display: block;\\n  stroke: white;\\n  fill: white;\\n  stroke-width: 0px;\\n  font-size: 0.75rem;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./HUD.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./HUD.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./Charts.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./Charts.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["Center","ChakraProvider","Grid","GridItem","Spinner","Button","Flex","Text","useState","useEffect","useRef","useCallback","Suspense","useTransition","useMemo","useLayoutEffect","shallow","PerformanceView","useGLTF","Controls","useStore","defaultValues","MissionPlanner","HUD","theme","ViewButtons","Simulation","SatelliteGLB","App","view","setView","initializeMission","isInitialized","storeObj","state","obj","nodes","Satellite","geometry","rotateY","Math","PI","firstRender","setFirstRender","templateRows","templateColumns","templateAreas","headerArea","name","simulationArea","footerArea","Yup","createSatellite","createPowerSatellite","getOffsets","getTimeArray","getSatellitePositions","getSunPositions","getEclipsedArray","getCurrentDuties","getBeams","getBeamDuties","getChargeStates","getDischargeSaved","getEarthRotationAngles","getSources","getLowestChargeState","MissionSchema","object","shape","satellites","array","of","string","min","max","trim","orbit","tle","meanMotionDot","number","required","bstar","inclination","rightAscension","eccentricity","perigee","meanAnomaly","meanMotion","power","pvVoltage","currentDensity","area","batteryVoltage","capacity","powerStoringConsumption","duties","type","oneOf","priority","integer","consumption","duration","when","is","then","cycles","powerSats","offsets","handleMissionRequest","req","customers","map","customer","time","params","epochdate","sun","earth","forEach","positions","performance","currentDuties","load","isEclipsed","Number","spacePowers","length","satellite","index","offset","push","beams","spacePower","satBeams","sources","chargeState","chargeStateNoBeams","dischargeSaved","timeCharged","lowestChargeStateBeams","lowestChargeStateNoBeams","summary","fleet","t","reduce","prev","current","c","success","v4","uuidv4","twoline2satrec","generateTLE","getOrbitAtTime","SIM_LENGTH","PV_SOURCES","sunOnly","efficiency","beamOnly","sunAndBeam","eclipsed","POWER_SAT_REQUEST","generatePowerProfiles","pv","battery","voltage","newPowerProfiles","Object","entries","pvSource","pvPower","loadProfiles","duty","netPower","netCurrent","getDutyIntervals","period","interval","totalCycles","floor","Array","from","value","start","valueOf","end","isCustomer","tles","epoch","Date","tle1","tle2","error","Error","no","intervals","unshift","powerProfiles","id","newOrbit","request","spacing","total","ratio","ceil","multiplier","newOffsets","earthRadius","getSunPosition","getEarthRotationAngle","getDistance","getChargeState","getNetCurrent","FRAMES","BEAM_DISTANCE","initial","initialMillisecs","getTime","mspf","timeArray","x","y","z","pos","satPosition","sunPosition","currentDuty","cycle","beamName","distances","spacePowerPosition","customerPosition","activated","distance","customerId","spacePowerId","getSource","hasBeam","filter","b","hasSun","hasBeams","delta","source","totalCurrent","i","sourceNoBeams","netCurrentNoBeams","lowestBeams","lowestNoBeams","create","createVanilla","defaultOptions","showLabel","views","simulation","mission","useFrameStore","frame","set","isPaused","speed","cameraTarget","ref","lock","refs","Map","satelliteOptions","satelliteObj","shouldLoop","isFinished","setLoop","setFinished","setInitialized","setPaused","setSpeed","attachCamera","get","detachCamera","toggleLabel","toggleAllLabels","shouldShow","newOptions","key","setLockCamera","storeRef","values","color","e","target","useFrame","Vector3","MeshBasicMaterial","AdditiveBlending","DoubleSide","Object3D","Texture","PlaneGeometry","generateLaserBodyCanvas","getLaserMeshes","Beam","beam","laser","texture","material","meshes","needsUpdate","blending","side","depthWrite","transparent","mesh","add","getState","subscribe","children","position","lookAt","scale","React","useThree","OrbitControls","Spherical","Camera","controls","camera","maxDistance","minDistance","spherical","clock","setFromVector3","setAzimuthalAngle","theta","setPolarAngle","phi","useLoader","TextureLoader","THREE","earthTexture","gradientTexture","Earth","colorMap","gradientMap","minFilter","NearestFilter","magFilter","wrapS","RepeatWrapping","angles","rotation","MIN_SPEED","Frame","updateFrame","setState","newFrame","round","stop","Html","Instance","satRef","node","clone","sub","fontFamily","fontSize","width","height","Instances","Satellites","find","LaserBeam","canvas","object3d","nPlanes","Mesh","translateX","rotateX","document","createElement","context","getContext","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","Canvas","Box","Stars","View","PerformanceMonitor","Sun","LoopDialog","viewRef","container","dpr","setDpr","display","zIndex","events","connect","pointerEvents","top","left","factor","toFixed","Billboard","forwardRef","ChevronDownIcon","FormLabel","Menu","MenuButton","MenuDivider","MenuGroup","MenuItem","MenuList","Radio","RadioGroup","Select","Slider","SliderFilledTrack","SliderThumb","SliderTrack","Switch","addEffect","select","SimControls","handlePaused","handleLoop","checked","CameraControls","v","timeRef","text","toString","slice","d3","scaleOrdinal","pie","d","startAngle","endAngle","sort","Gauge","selected","data","updateData","arc","innerRadius","outerRadius","pieRef","group","groupWithData","groupWithUpdate","path","createPie","selectAll","exit","remove","enter","append","attr","merge","prevFrame","Stat","StatLabel","StatNumber","StatGroup","StatHelpText","StatArrow","ButtonGroup","addAfterEffect","capitalize","charAt","toUpperCase","statProps","label","shouldArrows","getValue","formatValue","getHelpText","toPrecision","getHelpNumber","setSelected","handleSelectSatellite","selection","handleLabel","handleCamera","hideAllLabels","statRefs","handleStatRefs","stat","parent","classed","console","log","upArrow","downArrow","style","Modal","ModalBody","ModalCloseButton","ModalContent","ModalFooter","ModalHeader","ModalOverlay","useDisclosure","Summary","isOpen","onOpen","onClose","handleReplay","SettingsIcon","CustomNumberInput","fields","step","units","ConfigModal","formik","param","Editable","EditableInput","EditablePreview","FormControl","Input","EditableControls","CustomEditableInput","form","onSubmit","setFieldValue","FormErrorMessage","NumberDecrementStepper","NumberIncrementStepper","NumberInput","NumberInputField","NumberInputStepper","getIn","errors","AddIcon","Accordion","AccordionButton","AccordionIcon","AccordionItem","AccordionPanel","FieldArray","FormikProvider","defaultDuty","defaultFields","cyclicalFields","steps","DutyTab","satIndex","fieldArrayProps","allFields","handleChange","preventDefault","CheckIcon","CloseIcon","EditIcon","IconButton","useEditableControls","showEditIcon","isEditing","getSubmitButtonProps","getCancelButtonProps","getEditButtonProps","Tab","TabList","TabPanel","TabPanels","Tabs","useFormik","getCorsFreeUrl","loadTLEs","SatelliteList","OrbitTab","PowerTab","fetchTLEs","urls","url","res","OneWeb","Starlink","Orbcomm","Galileo","Geosynchronous","shouldDisplay","setSatIndex","constellations","setConstellations","initialValues","validationSchema","validateOnChange","validateOnBlur","setSubmitting","Promise","resolve","reject","setTimeout","setStatus","handleSubmit","isSubmitting","status","FormHelperText","Textarea","parseTLEs","setError","handleExtractTle","satRec","epochdatetimelocal","ndottle","inclotle","nodeotle","ecco","argpotle","motle","notle","entry","constellation","ChevronRightIcon","SmallCloseIcon","List","ListItem","VStack","defaultSatellite","SatelliteListItem","stopPropagation","fc","legendColor","colors","webglColors","col","dataHelpers","unit","xExtent","extentDate","accessors","yExtent","extentLinear","pad","getSeries","seriesWebglLine","crossValue","mainValue","defined","equals","previousData","lineWidth","decorate","j","webglStrokeColor","gridlines","annotationSvgGridline","Chart","shouldUpdate","zoom","chart","chartRef","drawChart","datum","call","newSeries","f","helpers","legendRef","multi","series","legend","ordinal","labels","updateChart","flat","domain","range","seriesWebglMulti","symbol","symbolSquare","size","shapePadding","labelWrap","chartCartesian","scaleTime","scaleLinear","xLabel","svgPlotArea","webglPlotArea","yLabel","chartLabel","yDomain","nextData","window","xDomain","padding","memo","startTransition","useContext","paramChoices","ChartEditor","averages","selectedSatellites","setSelectedSatellites","toggleSelected","includes","splice","handleSelectParam","handleZoom","choice","Checkbox","CheckboxGroup","handleSelect","days","format","default","pi","tumin","deg2rad","jday","days2mdhms","sgp4init","satelliteUtils","extractTLE","longstr1","longstr2","orbitElements","epochYear","parseInt","substring","epochDays","parseFloat","meanMotionDoubleDot","year","mdhmsResult","mon","day","hr","minute","sec","daysIntoYear","date","UTC","getFullYear","getMonth","getDate","epochYr","String","getYear","epochDay","epochFraction","getHours","getMinutes","getSeconds","meanMotionDotString","bstarMant","toExponential","split","join","bstarExp","log10","abs","inclinationString","rightAscensionString","eccentricityString","perigeeString","meanAnomalyString","meanMotionString","opsmode","xpdotp","satrec","satnum","epochyr","epochdays","ndot","nddot","inclo","nodeo","argpo","mo","a","alta","altp","jdsatepoch","getTimezoneOffset","toISOString","satn","xbstar","xecco","xargpo","xinclo","xmo","xno","xnodeo","fileContent","result","lines","line","loadTLEsJSON","fetch","ok","JSON","parse","toThree","getPositionFromTLE","positionVelocity","propagate","positionEci","N","L","g","longitude","sin","cos","obliquity","JD","position1","position2","sqrt","FPmS","require","earthPosition","sunEarth","sunSat","fromArray","subVectors","angle","angleTo","sunEarthDistance","distanceTo","sunSatDistance","limbAngle","atan2","powerProfile","ColorModeScript","createRoot","root","getElementById","render","config","initialColorMode","extendTheme","mode","useSystemColorMode","styles","global","props","body","bg","h1","fontWeight","h2","h3","h4","fonts","heading","layerStyles","textStyles","components","baseStyle","sizes","xl","dialog","minWidth","background"],"sourceRoot":""}