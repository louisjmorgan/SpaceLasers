{"version":3,"file":"index.bundle.js","mappings":"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","sources":["webpack:///./src/App.jsx","webpack:///./src/Model/mission.js","webpack:///./src/Model/satellite.js","webpack:///./src/Model/simulation.js","webpack:///./src/Model/store.js","webpack:///./src/Simulation/Beam.js","webpack:///./src/Simulation/Camera.js","webpack:///./src/Simulation/Earth.js","webpack:///./src/Simulation/Frame.js","webpack:///./src/Simulation/Satellite.js","webpack:///./src/Simulation/Satellites.js","webpack:///./src/Simulation/Shaders/LaserBeam.js","webpack:///./src/Simulation/Simulation.js","webpack:///./src/Simulation/Sun.js","webpack:///./src/UI/Controls.js","webpack:///./src/UI/HUD/Gauge.js","webpack:///./src/UI/HUD/HUD.js","webpack:///./src/UI/MissionPlanner/ConfigModal.js","webpack:///./src/UI/MissionPlanner/CustomEditableInput.js","webpack:///./src/UI/MissionPlanner/CustomNumberInput.js","webpack:///./src/UI/MissionPlanner/DutyTab.js","webpack:///./src/UI/MissionPlanner/EditableControls.js","webpack:///./src/UI/MissionPlanner/MissionPlanner.js","webpack:///./src/UI/MissionPlanner/OrbitTab.js","webpack:///./src/UI/MissionPlanner/PowerTab.js","webpack:///./src/UI/MissionPlanner/SatelliteList.js","webpack:///./src/UI/MissionPlanner/defaultInputs.js","webpack:///./src/UI/PerformanceView/Chart.js","webpack:///./src/UI/PerformanceView/ChartEditor.js","webpack:///./src/UI/PerformanceView/PerformanceView.js","webpack:///./src/UI/PerformanceView/SatelliteList.js","webpack:///./src/UI/PerformanceView/Summary.js","webpack:///./src/UI/PerformanceView/chartStore.js","webpack:///./src/UI/ViewButtons.js","webpack:///./src/UI/index.js","webpack:///./src/Util/astronomy.js","webpack:///./src/Util/constants.js","webpack:///./src/Util/power.js","webpack:///./src/index.js","webpack:///./src/theme.js","webpack:///./src/UI/HUD/HUD.css","webpack:///./src/UI/PerformanceView/Charts.css","webpack:///./src/UI/HUD/HUD.css?d53d","webpack:///./src/UI/PerformanceView/Charts.css?eb8b"],"sourcesContent":["/* eslint-disable react/jsx-curly-brace-presence */\nimport {\n  Center,\n  ChakraProvider,\n  Grid, GridItem, Spinner, Button, Flex,\n} from '@chakra-ui/react';\nimport {\n  useState, useEffect, useRef, useCallback, Suspense,\n  useTransition,\n  useMemo,\n  useLayoutEffect,\n} from 'react';\nimport '@fontsource/barlow/700.css';\nimport '@fontsource/barlow/400.css';\nimport '@fontsource/azeret-mono';\nimport shallow from 'zustand/shallow';\nimport PerformanceView from 'UI/PerformanceView/PerformanceView';\nimport { useGLTF } from '@react-three/drei';\nimport Controls from './UI/Controls';\nimport { useStore } from './Model/store';\nimport { defaultValues } from './UI/MissionPlanner/defaultInputs';\nimport { MissionPlanner, HUD } from './UI';\nimport theme from './theme';\nimport ViewButtons from './UI/ViewButtons';\nimport Simulation from './Simulation/Simulation';\nimport SatelliteGLB from './Assets/Mesh/lowpolysat.glb';\n\nfunction App() {\n  const {\n    view, setView, initializeMission, isInitialized, storeObj,\n  } = useStore(\n    (state) => ({\n      view: state.view,\n      setView: state.setView,\n      initializeMission: state.initializeMission,\n      isInitialized: state.isInitialized,\n      storeObj: state.storeObj,\n    }),\n    shallow,\n  );\n  const obj = useGLTF(SatelliteGLB);\n\n  useLayoutEffect(() => {\n    obj.nodes.Satellite.geometry.rotateY((3 * Math.PI) / 2);\n    storeObj(obj);\n  }, [obj]);\n\n  const [firstRender, setFirstRender] = useState(false);\n  useEffect(() => {\n    if (firstRender) {\n      initializeMission(defaultValues);\n    }\n  }, [firstRender]);\n  useEffect(() => {\n    setFirstRender(true);\n  }, []);\n  return (\n    <ChakraProvider theme={theme}>\n      <Grid\n        minHeight={'100vh'}\n        width={'100%'}\n        templateRows={view.templateRows}\n        templateColumns={view.templateColumns}\n        templateAreas={view.templateAreas}\n      >\n        <GridItem area={view.headerArea} display={view.name === 'simulation' ? '' : 'none'} zIndex={99}>\n          <Grid\n            h={'100%'}\n            templateColumns={'1fr 1fr 1fr'}\n            templateRows={'1fr 2fr'}\n            templateAreas={\n               `\". . .\"\n               \"views title controls\"`\n            }\n          >\n            <ViewButtons />\n            <GridItem area={'title'}>\n              <Flex align=\"center\" height=\"100%\" justify=\"center\" gap={2}>\n                <h1>Space Power Simulator</h1>\n                <span>(beta)</span>\n              </Flex>\n            </GridItem>\n            <GridItem area={'controls'}>\n              { isInitialized\n                ? (\n                  <Controls />\n                )\n                : '' }\n            </GridItem>\n          </Grid>\n        </GridItem>\n        <GridItem position=\"relative\" area={view.simulationArea}>\n          <Grid\n            h={'100%'}\n            templateColumns={'1fr 0.125fr'}\n            templateRows={'2fr 0.5fr 0.125fr'}\n          >\n            { isInitialized ? (\n              <>\n                <Simulation />\n                <HUD />\n              </>\n            ) : <Spinner position=\"absolute\" top=\"50%\" left=\"50%\" transform={'translate(-50%, -50%)'} />}\n            {((view.name === 'mission') || (view.name === 'performance'))\n              ? (\n                <GridItem area={'3 / 2 / 4 / 3'}>\n                  <Button value={'simulation'} onClick={setView}>\n                    Return\n                  </Button>\n                </GridItem>\n              ) : ''}\n          </Grid>\n        </GridItem>\n        <MissionPlanner shouldDisplay={view.name === 'mission'} />\n        {isInitialized ? (\n          <PerformanceView />\n        )\n          : ''}\n        <GridItem area={view.footerArea}>\n          Footer\n        </GridItem>\n      </Grid>\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n","/* eslint-disable consistent-return */\n/* eslint-disable max-len */\n/* eslint-disable no-param-reassign */\nimport * as Yup from 'yup';\nimport { createSatellite, createPowerSatellite, getOffsets } from './satellite';\nimport {\n  getTimeArray,\n  getSatellitePositions,\n  getSunPositions,\n  getEclipsedArray,\n  getCurrentDuties,\n  getBeams,\n  getBeamDuties,\n  getChargeStates,\n  getDischargeSaved,\n  getEarthRotationAngles,\n  getSources,\n} from './simulation';\n\nconst MissionSchema = Yup.object().shape({\n\n  satellites: Yup.array()\n    .of(\n      Yup.object().shape({\n        name: Yup.string()\n          .min(2, 'Too Short!')\n          .max(50, 'Too Long!')\n          .trim(),\n        // size: Yup.number()\n        //   .integer()\n        //   .min(1, 'Size must be 1 or more!')\n        //   .max(6, 'Size must be 6 or less!')\n        //   .required('size is required'),\n        // tle1: Yup.string()\n        //   .min(69, 'tle must be 69 columns')\n        //   .max(69, 'tle must be 69 columns')\n        //   .required('tle line 1 is required'),\n        // tle2: Yup.string()\n        //   .min(69, 'tle must be 69 columns')\n        //   .max(69, 'tle must be 69 columns')\n        //   .required('tle line 2 required'),\n\n        orbit: Yup.object().shape({\n          tle: Yup.string(),\n          meanMotionDot: Yup.number()\n            .min(-1, 'Must be more than -1')\n            .max(1, 'Must be less than 1')\n            .required('meanMotionDot is required'),\n          bstar: Yup.number()\n            .min(-2, 'Must be between -2 and 2')\n            .max(2, 'Must be between -2 and 2')\n            .required('bstar is required'),\n          inclination: Yup.number()\n            .min(0, 'Must be 0-360')\n            .max(360, 'Must be 0-360')\n            .required('inclination is required'),\n          rightAscension: Yup.number()\n            .min(0, 'Must be 0-360')\n            .max(360, 'Must be 0-360')\n            .required('right ascension is required'),\n          eccentricity: Yup.number()\n            .min(0, 'Must be between 0 and 1')\n            .max(1, 'Must be between 0 and 1')\n            .required('eccentricity is required'),\n          perigee: Yup.number()\n            .min(0, 'Must be 0-360')\n            .max(360, 'Must be 0-360')\n            .required('perigee is required'),\n          meanAnomaly: Yup.number()\n            .min(0, 'Must be 0-360')\n            .max(360, 'Must be 0-360')\n            .required('mean anomaly is required'),\n          meanMotion: Yup.number()\n            .min(0, 'Must be greater than 0')\n            .max(16, 'Must be less than 16')\n            .required('mean motion is required'),\n        }),\n        power: Yup.object().shape({\n          pvVoltage: Yup.number()\n            .min(0, 'Must be positive')\n            .required('pv voltage is required'),\n          currentDensity: Yup.number()\n            .min(0, 'Must be positive')\n            .required('pv current density is required'),\n          area: Yup.number()\n            .min(0, 'Must be greater than 0')\n            .required('pv area is required'),\n          batteryVoltage: Yup.number()\n            .min(0, 'Must be positive')\n            .required('battery voltage is required'),\n          capacity: Yup.number()\n            .min(0, 'Must be greater than 0')\n            .required('battery capacity is required'),\n          powerStoringConsumption: Yup.number()\n            .min(0, 'Must be greater than 0')\n            .required('Power storing consumption is required'),\n        }),\n        duties: Yup.array()\n          .of(\n            Yup.object().shape({\n              type: Yup.string()\n                .oneOf(['cyclical'])\n                .required('Type is required'),\n              name: Yup.string()\n                .min(2, 'Too Short!')\n                .max(30, 'Too Long!')\n                .required('required!'),\n              priority: Yup.number()\n                .integer()\n                .min(1)\n                .required('Priority is required'),\n              consumption: Yup.number()\n                .min(0, 'Must be positive')\n                .required('Consumption is required'),\n              duration: Yup.number()\n                .min(0, 'Must be positive')\n                .when(\n                  'type',\n                  {\n                    is: 'cyclical',\n                    then: Yup.number().required('Duration is required'),\n                  },\n                ),\n              cycles: Yup.number()\n                .min(0, 'Must be positive')\n                .when(\n                  'type',\n                  {\n                    is: 'cyclical',\n                    then: Yup.number().required('Cycles is required'),\n                  },\n                ),\n            }),\n          ),\n      }),\n    ),\n  powerSats: Yup.number()\n    .integer()\n    .min(0, 'Must be an integer greater than or equal to 0'),\n  offsets: Yup.object().shape({\n    inclination: Yup.number()\n      .min(0, 'Must be 0-36')\n      .max(36, 'Must be 0-36')\n      .required('inclination is required'),\n    rightAscension: Yup.number()\n      .min(0, 'Must be 0-36')\n      .max(36, 'Must be 0-36')\n      .required('right ascension is required'),\n    eccentricity: Yup.number()\n      .min(0, 'Must be between 0 and 1')\n      .max(1, 'Must be between 0 and 1')\n      .required('eccentricity is required'),\n    perigee: Yup.number()\n      .min(0, 'Must be 0-36')\n      .max(36, 'Must be 0-36')\n      .required('perigee is required'),\n    meanAnomaly: Yup.number()\n      .min(0, 'Must be 0-360')\n      .max(360, 'Must be 0-360')\n      .required('mean anomaly is required'),\n    meanMotion: Yup.number()\n      .min(0, 'Must be greater than 0')\n      .max(16, 'Must be less than 16')\n      .required('mean motion is required'),\n  }),\n});\n\nconst handleMissionRequest = (req) => {\n  // try {\n  //   missionSchema.validate(req);\n  // } catch (err) {\n  //   console.log(err);\n  //   return new Error({ type: err.name, message: `${err.path} ${err.message}` });\n  // }\n\n  // initialize customers\n  const customers = req.satellites.map((customer) => createSatellite(customer));\n  // initialize global simulation parameters\n  const time = getTimeArray(customers[0].params.orbit.epochdate);\n  const sun = getSunPositions(time);\n  const earth = getEarthRotationAngles(time);\n\n  // simulate customer orbits and duties\n  customers.forEach((customer) => {\n    customer.positions = getSatellitePositions(customer.params, time);\n    customer.performance = {\n      currentDuties: getCurrentDuties(customer.params.load.duties, time),\n      isEclipsed: getEclipsedArray(customer, sun, time),\n    };\n  });\n  console.log(req.spacePowers);\n  const offsets = getOffsets(Number(req.spacePowers), req.satellites.length, req.offsets);\n  console.log(offsets);\n  const spacePowers = [];\n\n  req.satellites.forEach((satellite, index) => {\n    if (!offsets[index]) return;\n    return offsets[index].forEach((offset) => spacePowers.push(createPowerSatellite(\n      `Space Power ${index + 1}`,\n      satellite.orbit,\n      offset,\n    )));\n  });\n\n  // simulate space power orbits and initialize beams\n  const beams = [];\n  spacePowers.forEach((spacePower) => {\n    spacePower.positions = getSatellitePositions(spacePower.params, time);\n    const satBeams = getBeams(spacePower, customers, time);\n    spacePower.performance = {\n      currentDuties: getBeamDuties(satBeams, time),\n      isEclipsed: getEclipsedArray(spacePower, sun, time),\n    };\n    beams.push(...satBeams);\n  });\n\n  // simulate batteries\n  customers.forEach((customer) => {\n    customer.performance.sources = getSources(customer, beams, time);\n\n    customer.performance = {\n      ...customer.performance,\n      chargeState: getChargeStates(customer, time),\n      chargeStateNoBeams: getChargeStates(customer, time, false),\n    };\n    const [dischargeSaved, timeCharged] = getDischargeSaved(customer);\n    customer.summary = {\n      dischargeSaved,\n      timeCharged,\n    };\n  });\n\n  spacePowers.forEach((spacePower) => {\n    spacePower.performance.sources = getSources(spacePower, beams, time);\n    spacePower.performance = {\n      ...spacePower.performance,\n      chargeState: getChargeStates(spacePower, time),\n    };\n  });\n\n  // calculate averages\n  const fleet = {\n    name: 'fleet',\n    performance: {\n      chargeState: time.map((t, index) => customers.reduce((prev, current) => prev + current.performance.chargeState[index], 0) / customers.length),\n      chargeStateNoBeams: time.map((t, index) => customers.reduce((prev, current) => prev + current.performance.chargeStateNoBeams[index], 0) / customers.length),\n    },\n    summary: {\n      dischargeSaved: customers.reduce((prev, current) => prev + current.summary.dischargeSaved, 0),\n      timeCharged: customers.reduce((prev, current) => prev + current.summary.timeCharged, 0),\n    },\n  };\n\n  return {\n    success: true,\n    time,\n    satellites: {\n      customers,\n      spacePowers,\n      fleet,\n    },\n    beams,\n    sun,\n    earth,\n  };\n};\n\nexport { handleMissionRequest, MissionSchema };\n","/* eslint-disable consistent-return */\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n  twoline2satrec,\n  generateTLE,\n  getOrbitAtTime,\n} from '../Util/astronomy';\nimport { SIM_LENGTH } from '../Util/constants';\n\nconst PV_SOURCES = {\n  sunOnly: {\n    name: 'sun',\n    efficiency: 1,\n  },\n  beamOnly: {\n    name: 'beam',\n    efficiency: 1,\n  },\n  sunAndBeam: {\n    name: 'sun and beam',\n    efficiency: 1.5,\n  },\n  eclipsed: {\n    name: 'eclipsed',\n    efficiency: 0,\n  },\n};\n\nconst POWER_SAT_REQUEST = {\n  power: {\n    pvVoltage: 4.7,\n    currentDensity: 170.5,\n    area: 0.0128,\n    batteryVoltage: 3.6,\n    capacity: 1.125,\n    powerStoringConsumption: 1.2,\n  },\n  duties: [\n    {\n      name: 'beaming',\n      duration: null,\n      cycles: null,\n      consumption: 3.2,\n      type: 'space power',\n    },\n  ],\n};\n\nfunction generatePowerProfiles(pv, duties, battery) {\n  const { area, voltage, currentDensity } = pv;\n  const newPowerProfiles = [];\n  Object.entries(pv.sources).forEach((pvSource) => {\n    const current = currentDensity * pvSource[1].efficiency * area;\n    const pvPower = current * voltage;\n    const loadProfiles = [];\n    duties.forEach((duty) => {\n      const netPower = pvPower - duty.consumption;\n      const netCurrent = netPower / battery.voltage;\n      loadProfiles.push(netCurrent);\n    });\n    newPowerProfiles[pvSource[1].name] = loadProfiles;\n  });\n  return newPowerProfiles;\n}\n\nfunction getDutyIntervals(duty, period, time) {\n  const cycles = Number(duty.cycles);\n  const duration = Number(duty.duration) * 1000;\n  const interval = (period - (duration * cycles)) / cycles;\n  const totalCycles = Math.floor((SIM_LENGTH / period) * cycles);\n  return Array.from({ length: totalCycles }, (value, index) => {\n    const start = time.valueOf() + (interval * (index + 1)) + (duration * index);\n    return {\n      start,\n      end: start + duration,\n    };\n  });\n}\n\nfunction createSatellite(satellite, isCustomer = true) {\n  const tles = generateTLE({\n    ...satellite.orbit,\n    epoch: new Date(satellite.orbit.epoch),\n  });\n  const orbit = twoline2satrec(tles.tle1, tles.tle2);\n\n  try {\n    getOrbitAtTime({ orbit }, new Date());\n  } catch {\n    const error = `Unable to propagate orbital parameters for ${satellite.name}. ${\n      isCustomer ? 'Please try different values or choose a TLE.' : 'Please try different offsets in the power configuration menu.'}`;\n    throw new Error(error);\n  }\n\n  orbit.period = (2 * Math.PI * 60 * 1000) / orbit.no;\n\n  const pv = {\n    sources: PV_SOURCES,\n    voltage: satellite.power.pvVoltage,\n    currentDensity: satellite.power.currentDensity,\n    area: satellite.power.area,\n  };\n\n  const battery = {\n    voltage: satellite.power.batteryVoltage,\n    capacity: satellite.power.capacity,\n  };\n\n  const duties = satellite.duties.map((duty) => ({\n    name: duty.name,\n    type: duty.type,\n    consumption: Number(duty.consumption),\n    duration: (Number(duty.duration) * 1000) || null,\n    cycles: Number(duty.cycles) || null,\n    intervals: duty.type === 'cyclical' ? getDutyIntervals(duty, orbit.period, orbit.epochdate) : null,\n  }));\n\n  duties.unshift({\n    name: 'Power storing',\n    type: 'power storing',\n    consumption: satellite.power.powerStoringConsumption,\n  });\n  const powerProfiles = generatePowerProfiles(pv, duties, battery);\n  return {\n    name: satellite.name,\n    id: satellite.id,\n    params: {\n      orbit,\n      battery,\n      pv,\n      load: {\n        powerProfiles,\n        duties,\n      },\n    },\n    isCustomer,\n  };\n}\n\nfunction createPowerSatellite(name, orbit, offsets) {\n  const newOrbit = { ...orbit };\n  Object.entries(offsets).forEach((offset) => {\n    newOrbit[offset[0]] = orbit[offset[0]] + Number(offset[1]);\n  });\n\n  const request = {\n    ...POWER_SAT_REQUEST,\n    name,\n    id: uuidv4(),\n    orbit: newOrbit,\n  };\n  return createSatellite(request, false);\n}\n\nfunction getOffsets(spacePowers, customers, offsets) {\n  if (spacePowers === 0) return [];\n  if (spacePowers === customers) return Array.from({ length: customers }, () => [offsets]);\n  if (spacePowers < customers) {\n    const spacing = Math.floor(customers / spacePowers);\n    let total = 0;\n    return Array.from({ length: customers }, (value, index) => {\n      if (index % spacing) return null;\n      total += 1;\n      if (total > spacePowers) return null;\n      return [offsets];\n    });\n  }\n  if (spacePowers > customers) {\n    let ratio = Math.ceil(spacePowers / customers);\n    let total = 0;\n    return Array.from(\n      { length: customers },\n      () => {\n        let multiplier = 0;\n        if ((total + ratio) > spacePowers) ratio = spacePowers - total;\n        return Array.from({ length: ratio }, (value, index) => {\n          if (index % 2 === 0) multiplier += 1;\n          const newOffsets = {};\n          Object.entries(offsets).forEach((offset) => {\n            newOffsets[offset[0]] = offset[1] * multiplier * ((0 - 1) ** index);\n          });\n          total += 1;\n\n          return newOffsets;\n        });\n      },\n    );\n  }\n}\n\nexport { createSatellite, createPowerSatellite, getOffsets };\n","/* eslint-disable consistent-return */\n/* eslint-disable max-len */\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { earthRadius } from 'satellite.js/lib/constants';\nimport {\n  getOrbitAtTime, getSunPosition, getEarthRotationAngle, getDistance,\n} from '../Util/astronomy';\nimport { isEclipsed, getChargeState, getNetCurrent } from '../Util/power';\nimport { SIM_LENGTH, FRAMES, BEAM_DISTANCE } from '../Util/constants';\n\nfunction getTimeArray(initial) {\n  const initialMillisecs = initial.getTime();\n  const mspf = SIM_LENGTH / FRAMES;\n  return Array.from({ length: FRAMES }, (value, index) => {\n    const time = initialMillisecs + index * mspf;\n    return time;\n  });\n}\n\nfunction getSatellitePositions(satellite, timeArray) {\n  const x = [];\n  const y = [];\n  const z = [];\n\n  timeArray.forEach((time) => {\n    const pos = getOrbitAtTime(satellite, new Date(time));\n    x.push(pos.x);\n    y.push(pos.y);\n    z.push(pos.z);\n  });\n\n  return {\n    x,\n    y,\n    z,\n  };\n}\n\nfunction getSunPositions(timeArray) {\n  const x = [];\n  const y = [];\n  const z = [];\n\n  timeArray.forEach((time) => {\n    const pos = getSunPosition(new Date(time));\n    x.push(pos.x);\n    y.push(pos.y);\n    z.push(pos.z);\n  });\n\n  return {\n    x,\n    y,\n    z,\n  };\n}\n\nfunction getEarthRotationAngles(timeArray) {\n  return timeArray.map((time) => getEarthRotationAngle(time));\n}\n\nfunction getEclipsedArray(satellite, sun, timeArray) {\n  return timeArray.map((time, index) => {\n    const satPosition = {\n      x: satellite.positions.x[index],\n      y: satellite.positions.y[index],\n      z: satellite.positions.z[index],\n    };\n\n    const sunPosition = {\n      x: sun.x[index],\n      y: sun.y[index],\n      z: sun.z[index],\n    };\n    return isEclipsed(satPosition, sunPosition);\n  });\n}\n\nfunction getCurrentDuties(duties, timeArray) {\n  return timeArray.map((time) => {\n    let currentDuty = 0;\n    duties.forEach((duty, index) => {\n      if (duty.type === 'power storing') return;\n      duty.intervals.forEach((cycle) => {\n        if ((time >= cycle.start) && (time <= cycle.end)) currentDuty = index;\n      });\n    });\n    return currentDuty;\n  });\n}\n\nfunction getBeams(spacePower, customers, timeArray) {\n  return customers.map((customer) => {\n    const beamName = `${spacePower.name} - ${customer.name}`;\n    const distances = timeArray.map((time, index) => {\n      const spacePowerPosition = {\n        x: spacePower.positions.x[index],\n        y: spacePower.positions.y[index],\n        z: spacePower.positions.z[index],\n      };\n      const customerPosition = {\n        x: customer.positions.x[index],\n        y: customer.positions.y[index],\n        z: customer.positions.z[index],\n      };\n      return getDistance(spacePowerPosition, customerPosition);\n    });\n    const activated = distances.map((distance) => {\n      if ((distance * earthRadius) < BEAM_DISTANCE) return true;\n      return false;\n    });\n    return {\n      name: beamName,\n      distances,\n      activated,\n      customerId: customer.id,\n      spacePowerId: spacePower.id,\n      id: uuidv4(),\n    };\n  });\n}\n\nfunction getBeamDuties(beams, timeArray) {\n  return timeArray.map((time, index) => (beams.reduce((prev, current) => current.activated[index] || prev, false) ? 1 : 0));\n}\n\nfunction getSource(satellite, beams, index) {\n  let hasBeam;\n  if (beams) {\n    const satBeams = beams.filter((b) => b.customerId === satellite.id);\n    hasBeam = satBeams.reduce((prev, current) => current.activated[index] || prev, false);\n  } else {\n    hasBeam = false;\n  }\n\n  const hasSun = !satellite.performance.isEclipsed[index];\n\n  if (!hasSun && hasBeam) return 'beam';\n  if (hasSun && hasBeam) return 'sun and beam';\n  if (!hasSun && !hasBeam) return 'eclipsed';\n  if (hasSun && !hasBeam) return 'sun';\n}\n\nfunction getSources(satellite, beams, timeArray) {\n  return timeArray.map((time, index) => getSource(satellite, beams, index));\n}\n\nfunction getChargeStates(satellite, timeArray, hasBeams = true) {\n  const delta = ((SIM_LENGTH / (60 * 60 * 1000)) / FRAMES);\n  let chargeState = 1;\n  return timeArray.map((time, index) => {\n    let source = satellite.performance.sources[index];\n    if (hasBeams === false) {\n      if (source === 'sun and beam') source = 'sun';\n      if (source === 'beam') source = 'eclipsed';\n    }\n    chargeState = getChargeState(satellite.params, satellite.performance.currentDuties[index], source, chargeState, delta);\n    return chargeState;\n  });\n}\n\nfunction getDischargeSaved(satellite) {\n  let timeCharged = 0;\n  const totalCurrent = satellite.performance.sources.reduce((prev, source, i) => {\n    const currentDuty = satellite.performance.currentDuties[i];\n    const netCurrent = getNetCurrent(satellite.params, source, currentDuty);\n    let sourceNoBeams = source;\n    if (source === 'sun and beam') {\n      sourceNoBeams = 'sun';\n      timeCharged += 1;\n    } else if (source === 'beam') {\n      timeCharged += 1;\n      sourceNoBeams = 'eclipsed';\n    }\n    const netCurrentNoBeams = getNetCurrent(satellite.params, sourceNoBeams, currentDuty);\n    return (netCurrent - netCurrentNoBeams) + prev;\n  }, 0);\n  const dischargeSaved = (totalCurrent * (SIM_LENGTH / (1000 * 60 * 60))) / FRAMES;\n  timeCharged = ((timeCharged / FRAMES) * SIM_LENGTH) / (1000 * 60);\n  return [dischargeSaved, timeCharged];\n}\n\nexport {\n  getTimeArray,\n  getSatellitePositions,\n  getSunPositions,\n  getEarthRotationAngles,\n  getEclipsedArray,\n  getCurrentDuties,\n  getSources,\n  getChargeStates,\n  getBeams,\n  getBeamDuties,\n  getDischargeSaved,\n};\n","import create from 'zustand';\nimport createVanilla from 'zustand/vanilla';\nimport { handleMissionRequest } from './mission';\n\nconst defaultOptions = {\n  showLabel: false,\n};\n\nconst views = {\n  simulation: {\n    name: 'simulation',\n    templateRows: '0.375fr 2.125fr 0.125fr',\n    templateColumns: '1fr',\n    templateAreas: '',\n    simulationArea: ' 1 / 1 / 4 / 2',\n    headerArea: ' 1 / 1 / 2 / 4',\n    footerArea: '3 / 1 / 4 / 2',\n  },\n  mission: {\n    name: 'mission',\n    templateRows: '0.75fr 1.75fr 0.125fr',\n    templateColumns: '1fr 2.25fr',\n    templateAreas: `\"simulation parameters\"\n  \"select parameters\"\n  \"footer footer\"`,\n    simulationArea: 'simulation',\n    headerArea: '',\n    footerArea: 'footer',\n  },\n  performance: {\n    name: 'performance',\n    templateRows: '1fr 1.5fr 0.125fr',\n    templateColumns: '1fr 2fr',\n    templateAreas: `\"simulation performance\"\n  \"summary performance\"\n  \"footer footer\"`,\n  },\n};\n\nconst useFrameStore = createVanilla(() => ({\n  frame: 0,\n}));\n\nconst useStore = create((set) => ({\n  isPaused: false,\n  speed: 1,\n  cameraTarget: {\n    name: 'earth',\n    ref: null,\n    lock: true,\n    id: null,\n  },\n  refs: new Map(),\n  satelliteOptions: new Map(),\n  view: views.simulation,\n  mission: null,\n  isInitialized: false,\n  satelliteObj: null,\n  storeObj: (obj) => set(() => ({ satelliteObj: obj })),\n  setInitialized: (shouldInitialized) => set(() => ({ isInitialized: shouldInitialized })),\n  togglePaused: () => set((state) => ({ isPaused: !state.isPaused })),\n  setSpeed: (speed) => set(() => ({ speed })),\n  attachCamera: (id) => set((state) => ({\n    cameraTarget: {\n      ...state.cameraTarget,\n      ref: state.refs.get(id),\n      id,\n      name: state.satelliteOptions.get(id).name,\n    },\n  })),\n  detachCamera: () => set((state) => ({\n    cameraTarget: {\n      ...state.cameraTarget,\n      name: 'earth',\n      ref: null,\n      id: null,\n    },\n  })),\n  toggleLabel: (id) => set((state) => {\n    const prev = state.satelliteOptions.get(id);\n    return ({\n      satelliteOptions: new Map(state.satelliteOptions).set(id, {\n        ...prev,\n        showLabel: !prev.showLabel,\n      }),\n    });\n  }),\n  toggleAllLabels: (shouldShow) => set((state) => {\n    const newOptions = new Map(state.satelliteOptions);\n    if (!shouldShow) {\n      newOptions.forEach(\n        (value, key) => newOptions.set(key, { ...value, showLabel: false }),\n      );\n    } else {\n      newOptions.forEach(\n        (value, key) => newOptions.set(key, { ...value, showLabel: true }),\n      );\n    }\n    return ({\n      satelliteOptions: newOptions,\n    });\n  }),\n  setLockCamera: (lock) => set((state) => ({\n    cameraTarget: {\n      ...state.cameraTarget,\n      lock,\n    },\n  })),\n  storeRef: (id, ref) => set((state) => ({ refs: new Map(state.refs).set(id, ref) })),\n  initializeMission: (values) => set(() => {\n    const mission = handleMissionRequest(values);\n    const satellites = [...mission.satellites.customers, ...mission.satellites.spacePowers];\n    const newOptions = new Map();\n    satellites.forEach((satellite) => {\n      newOptions.set(satellite.id, {\n        ...defaultOptions,\n        name: satellite.name,\n        color: satellite.isCustomer ? 'red' : 'yellow',\n      });\n    });\n    return ({\n      mission,\n      satelliteOptions: newOptions,\n      isInitialized: true,\n    });\n  }),\n  setView: (e) => set(() => ({ view: views[`${e.target.value}`] })),\n}));\n\nexport { useStore, useFrameStore };\n","/* eslint-disable react/prop-types */\nimport { useFrame } from '@react-three/fiber';\nimport { useRef, useEffect, useLayoutEffect } from 'react';\nimport {\n  Vector3, MeshBasicMaterial, AdditiveBlending, DoubleSide, Object3D, Texture, PlaneGeometry,\n} from 'three';\nimport { useFrameStore, useStore } from '../Model/store';\nimport { generateLaserBodyCanvas, getLaserMeshes } from './Shaders/LaserBeam';\n\nfunction Beam({\n  beam, spacePower, customer,\n}) {\n  const ref = useRef();\n  const laser = useRef(new Object3D());\n  const texture = useRef();\n  const material = useRef();\n  const meshes = useRef();\n\n  useEffect(() => {\n    texture.current = new Texture(generateLaserBodyCanvas());\n    texture.current.needsUpdate = true;\n    material.current = new MeshBasicMaterial({\n      map: texture.current,\n      blending: AdditiveBlending,\n      color: 0x4444aa,\n      side: DoubleSide,\n      depthWrite: false,\n      transparent: false,\n    });\n    meshes.current = getLaserMeshes(1, material.current);\n    meshes.current.forEach((mesh) => laser.current.add(mesh));\n  }, []);\n\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  useFrame(() => {\n    if (beam.activated[frame.current]) {\n      if (ref.current.children.length === 0) {\n        ref.current.children = meshes.current;\n      }\n      ref.current.position.x = spacePower.positions.x[frame.current];\n      ref.current.position.y = spacePower.positions.y[frame.current];\n      ref.current.position.z = spacePower.positions.z[frame.current];\n\n      ref.current.lookAt(\n        customer.positions.x[frame.current],\n        customer.positions.y[frame.current],\n        customer.positions.z[frame.current],\n      );\n      ref.current.rotateY(-Math.PI / 2);\n      ref.current.scale.set(beam.distances[frame.current], 1, 1);\n    } else if (ref.current.children) {\n      ref.current.children = [];\n    }\n  });\n  return (\n    <primitive\n      object={laser.current}\n      position={[0, 0, 0]}\n      ref={ref}\n    />\n  );\n}\n\nexport default Beam;\n","/* eslint-disable no-console */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-unused-vars */\nimport React, { useRef, useEffect, useLayoutEffect } from 'react';\nimport { useFrame, useThree } from '@react-three/fiber';\nimport { OrbitControls } from '@react-three/drei';\nimport { Vector3, Spherical } from 'three';\nimport { useStore } from '../Model/store';\n\nexport default function Camera() {\n  const controls = useRef();\n  const { camera } = useThree();\n  useLayoutEffect(() => {\n    camera.position.z = 4;\n  }, [camera]);\n  const target = useStore((state) => state.cameraTarget);\n  useEffect(() => {\n    controls.current.maxDistance = 10;\n    controls.current.minDistance = 2;\n  }, [controls]);\n\n  const earth = useRef(new Vector3(0, 0, 0));\n  const spherical = useRef(new Spherical());\n\n  useEffect(() => {\n    if (target.lock || target.name === 'earth') controls.current.target = earth.current;\n    else controls.current.target = target.ref.position;\n  }, [target]);\n  useFrame(({ clock }, delta) => {\n    if (!target.ref) return;\n    if (target.lock) {\n      // controls.current.target = earth.current;\n      spherical.current.setFromVector3(\n        target.ref.position,\n\n      );\n      controls.current.setAzimuthalAngle(spherical.current.theta);\n      controls.current.setPolarAngle(spherical.current.phi);\n    } else {\n      // controls.current.target = target.ref.position;\n    }\n  });\n\n  return (\n    <OrbitControls\n      makeDefault\n      enableZoom\n      enableRotate={target.name === 'earth' || !target.lock}\n      enablePan={false}\n      ref={controls}\n    />\n  );\n}\n","/* eslint-disable consistent-return */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-cycle */\n/* eslint-disable no-unused-vars */\nimport React, {\n  useRef, useEffect, useLayoutEffect,\n} from 'react';\nimport { useLoader, useFrame } from '@react-three/fiber';\nimport { TextureLoader } from 'three/src/loaders/TextureLoader';\nimport * as THREE from 'three';\nimport { useFrameStore, useStore } from '../Model/store';\nimport earthTexture from '../Assets/Textures/earth-texture.jpg';\nimport gradientTexture from '../Assets/Textures/twoTone.jpg';\n\nfunction Earth() {\n  const ref = useRef();\n  const colorMap = useLoader(TextureLoader, earthTexture);\n  const gradientMap = useLoader(TextureLoader, gradientTexture);\n\n  useLayoutEffect(() => {\n    gradientMap.minFilter = THREE.NearestFilter;\n    gradientMap.magFilter = THREE.NearestFilter;\n  }, [gradientMap]);\n\n  useLayoutEffect(() => {\n    colorMap.wrapS = THREE.RepeatWrapping;\n    colorMap.offset.x = 0.5;\n  }, [colorMap]);\n\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  const angles = useStore((state) => state.mission.earth);\n  useFrame(() => {\n    ref.current.rotation.y = angles[frame.current];\n  });\n  return (\n    <mesh\n      ref={ref}\n      rotation={[0, angles[0], 0]}\n      position={[0, 0, 0]}\n    >\n      <sphereGeometry attach=\"geometry\" args={[1, 64, 64]} />\n      <meshToonMaterial\n        attach=\"material\"\n        map={colorMap}\n        gradientMap={gradientMap}\n      />\n    </mesh>\n  );\n}\n\nexport default Earth;\n","/* eslint-disable react/prop-types */\n/* eslint-disable no-unused-vars */\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useFrame, useThree } from '@react-three/fiber';\nimport shallow from 'zustand/shallow';\n// import { unstable_batchedUpdates } from 'react-dom'; // or 'react-native'\nimport { useStore, useFrameStore } from '../Model/store';\nimport { FRAMES, SIM_LENGTH, MIN_SPEED } from '../Util/constants';\n\nconst interval = 1 / 60;\n\nfunction Frame() {\n  const updateFrame = useCallback((frame) => {\n    useFrameStore.setState({ frame });\n  }, []);\n\n  const { isPaused, speed } = useStore(\n    (state) => ({ isPaused: state.isPaused, speed: state.speed }),\n    shallow,\n  );\n\n  const frame = useRef(0);\n  useFrame(({ clock }, delta) => {\n    if (!isPaused) {\n      let newFrame = frame.current + Math.round(\n        FRAMES * ((delta * 1000 * MIN_SPEED * speed) / (SIM_LENGTH)),\n      );\n\n      if (newFrame >= FRAMES) {\n        newFrame = 0;\n      }\n      if (newFrame !== frame.current) {\n        frame.current = newFrame;\n        updateFrame(newFrame);\n      }\n    }\n  });\n\n  const { clock } = useThree();\n\n  useEffect(() => {\n    if (isPaused === true) clock.stop();\n    clock.start();\n  }, [isPaused]);\n\n  return null;\n}\n\nexport default Frame;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-cycle */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\nimport { Html, Instance } from '@react-three/drei';\nimport { useFrame } from '@react-three/fiber';\nimport { useCallback, useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport shallow from 'zustand/shallow';\nimport { useFrameStore, useStore } from '../Model/store';\n\nconst earth = new THREE.Vector3(0, 0, 0);\n\nfunction Satellite({\n  satellite,\n}) {\n  const {\n    storeRef, toggleLabel, satelliteOptions,\n  } = useStore(\n    (state) => ({\n      storeRef: state.storeRef,\n      toggleLabel: state.toggleLabel,\n      satelliteOptions: state.satelliteOptions.get(satellite.id),\n    }),\n    shallow,\n  );\n  const satRef = useRef();\n  const ref = useCallback((node) => {\n    if (node !== null) {\n      storeRef(satellite.id, node);\n      satRef.current = node;\n    }\n  }, []);\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  useFrame(({ clock }, delta) => {\n    satRef.current.position.x = satellite.positions.x[frame.current];\n    satRef.current.position.y = satellite.positions.y[frame.current];\n    satRef.current.position.z = satellite.positions.z[frame.current];\n\n    const lookAt = earth.clone().sub(satRef.current.position);\n    satRef.current.lookAt(earth);\n  });\n\n  return (\n    <Instance\n      ref={ref}\n      scale={0.01}\n      // onClick={() => toggleLabel(satellite.id)}\n      color={satelliteOptions.color || 'red'}\n      up={[0, 0, 1]}\n    >\n      {satelliteOptions.showLabel ? (\n        <Html\n          style={{\n            fontFamily: 'sans-serif',\n            color: 'white',\n            fontSize: '1rem',\n            width: '100ch',\n            height: '2rem',\n          }}\n        >\n          <p>\n            {satellite.name}\n          </p>\n        </Html>\n      ) : (\n        ''\n      )}\n    </Instance>\n  );\n}\n\nexport default Satellite;\n","/* eslint-disable react/prop-types */\nimport { Instances, useGLTF } from '@react-three/drei';\nimport { useLoader } from '@react-three/fiber';\nimport { useStore } from 'Model/store';\nimport { useLayoutEffect } from 'react';\nimport { TextureLoader } from 'three';\nimport shallow from 'zustand/shallow';\nimport Beam from './Beam';\nimport Satellite from './Satellite';\nimport gradientTexture from '../Assets/Textures/twoTone.jpg';\n\nfunction Satellites() {\n  const {\n    customers, spacePowers, beams, satelliteObj,\n  } = useStore(\n    (state) => ({\n      customers: state.mission.satellites.customers,\n      spacePowers: state.mission.satellites.spacePowers,\n      beams: state.mission.beams,\n      satelliteObj: state.satelliteObj,\n    }),\n    shallow,\n  );\n  const gradientMap = useLoader(TextureLoader, gradientTexture);\n\n  return (\n    <>\n      <Instances\n        geometry={satelliteObj.nodes.Satellite.geometry}\n      >\n        <meshToonMaterial\n          gradientMap={gradientMap}\n        />\n        {spacePowers.map((satellite) => (\n          <Satellite\n            satellite={satellite}\n            key={satellite.id}\n          />\n        ))}\n        {customers.map((satellite) => (\n          <Satellite\n            satellite={satellite}\n            key={satellite.id}\n          />\n        ))}\n      </Instances>\n      {beams.map((beam) => (\n        <Beam\n          beam={beam}\n          key={beam.id}\n          customer={customers.find((customer) => customer.id === beam.customerId)}\n          spacePower={spacePowers.find((spacePower) => spacePower.id === beam.spacePowerId)}\n        />\n      ))}\n    </>\n  );\n}\n\nexport default Satellites;\n","/* eslint-disable no-shadow */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-use-before-define */\nimport * as THREE from 'three';\n\nconst LaserBeam = (width, height, canvas) => {\n  const object3d = new THREE.Object3D();\n  // generate the texture\n  const texture = new THREE.Texture(canvas);\n  texture.needsUpdate = true;\n  // do the material\n  const material = new THREE.MeshBasicMaterial({\n    map: texture,\n    blending: THREE.AdditiveBlending,\n    color: 0x4444aa,\n    side: THREE.DoubleSide,\n    depthWrite: false,\n    transparent: false,\n  });\n\n  const geometry = new THREE.PlaneGeometry(width, height);\n  //   geometry.applyMatrix4(\n  //     new THREE.Matrix4().makeRotationX(-Math.PI / 2)\n  //   );\n  //   geometry.applyMatrix4(\n  //     new THREE.Matrix4().makeTranslation(0, -height / 2, 0)\n  //   );\n  const nPlanes = 4;\n  for (let i = 0; i < nPlanes; i++) {\n    const mesh = new THREE.Mesh(geometry, material);\n    mesh.translateX(width / 2);\n    mesh.rotation.x = (i / nPlanes) * Math.PI;\n    mesh.rotateX(-Math.PI / 2);\n    object3d.add(mesh);\n  }\n  return object3d;\n};\n\nconst getLaserMeshes = (width, material) => {\n  const geometry = new THREE.PlaneGeometry(width, 0.01);\n  const nPlanes = 4;\n  const meshes = [];\n  for (let i = 0; i < nPlanes; i++) {\n    const mesh = new THREE.Mesh(geometry, material);\n    mesh.translateX(width / 2);\n    mesh.rotation.x = (i / nPlanes) * Math.PI;\n    mesh.rotateX(-Math.PI / 2);\n    meshes.push(mesh);\n  }\n  return meshes;\n};\n\nfunction generateLaserBodyCanvas() {\n  // init canvas\n  const canvas = document.createElement('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = 1;\n  canvas.height = 1;\n  // set gradient\n  const gradient = context.createLinearGradient(\n    0,\n    0,\n    canvas.width,\n    canvas.height,\n  );\n  gradient.addColorStop(0, 'rgba(  0,  0,  0,0.1)');\n  gradient.addColorStop(0.4, 'rgba(160,160,160,0.3)');\n  gradient.addColorStop(0.5, 'rgba(255,255,255,0.5)');\n  gradient.addColorStop(0.6, 'rgba(160,160,160,0.3)');\n  gradient.addColorStop(1.0, 'rgba(  0,  0,  0,0.1)');\n  // fill the rectangle\n  context.fillStyle = gradient;\n  context.fillRect(0, 0, canvas.width, canvas.height);\n  // return the just built canvas\n  return canvas;\n}\n\nexport { LaserBeam, generateLaserBodyCanvas, getLaserMeshes };\n","/* eslint-disable react/jsx-curly-brace-presence */\n/* eslint-disable react/prop-types */\nimport { Canvas } from '@react-three/fiber';\nimport { Box, GridItem } from '@chakra-ui/react';\nimport {\n  Stars, View, PerformanceMonitor,\n} from '@react-three/drei';\nimport { Suspense, useRef, useState } from 'react';\nimport { useStore } from '../Model/store';\nimport Frame from './Frame';\nimport Earth from './Earth';\nimport Sun from './Sun';\nimport Camera from './Camera';\nimport Satellites from './Satellites';\n\nfunction Simulation() {\n  const viewRef = useRef();\n  const container = useRef();\n  const isPaused = useStore((state) => state.isPaused);\n\n  const [dpr, setDpr] = useState(1);\n  return (\n\n    <GridItem area=\"1 / 1 / 4 / 3\">\n      <div\n        ref={container}\n        style={{\n          width: '100%',\n          height: '100%',\n          position: 'relative',\n          // display: `${shouldDisplay ? 'block' : 'none'}`,\n        }}\n      >\n        <div\n          ref={viewRef}\n          style={{\n            width: '100%',\n            height: '100%',\n            display: 'inline-block',\n            zIndex: 0,\n          }}\n        />\n\n        <Canvas\n          className=\"canvas\"\n          onCreated={(state) => {\n            state.events.connect(container.current);\n          }}\n          style={{\n            pointerEvents: 'none',\n            position: 'fixed',\n            top: '0px',\n            left: '0px',\n          }}\n          dpr={dpr}\n        >\n\n          <View track={viewRef}>\n            <Suspense>\n\n              <PerformanceMonitor\n                onChange={({ factor }) => setDpr((0.5 + 1.5 * factor).toFixed(1))}\n              />\n              <Camera />\n              <Frame />\n              <Stars\n                radius={100} // Radius of the inner sphere (default=100)\n                depth={50} // Depth of area where stars should fit (default=50)\n                count={5000} // Amount of stars (default=5000)\n                factor={4} // Size factor (default=4)\n                saturation={1} // Saturation 0-1 (default=0)\n                fade\n                speed={isPaused ? 0 : 1}\n              />\n              {/* <ambientLight intensity={0.25} /> */}\n              <Sun />\n              <Earth />\n              <Satellites />\n            </Suspense>\n\n          </View>\n        </Canvas>\n\n      </div>\n    </GridItem>\n  );\n}\n\nexport default Simulation;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-cycle */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\nimport { Billboard } from '@react-three/drei';\nimport { useFrame } from '@react-three/fiber';\nimport React, { forwardRef, useEffect, useRef } from 'react';\nimport { earthRadius } from 'satellite.js/lib/constants';\nimport { useFrameStore, useStore } from '../Model/store';\n\nfunction Sun() {\n  const ref = useRef();\n\n  const frame = useRef(useFrameStore.getState().frame);\n\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  const position = useStore((state) => state.mission.sun);\n  useFrame(({ clock }) => {\n    ref.current.position.x = position.x[frame.current];\n    ref.current.position.y = position.y[frame.current];\n    ref.current.position.z = position.z[frame.current];\n  });\n  return (\n    <group ref={ref}>\n      <directionalLight\n        color={0xffffff}\n        intensity={0.5}\n        position={[position.x[0], position.y[0], position.z[0]]}\n      />\n      {/* <mesh>\n        <sphereGeometry attach=\"geometry\" args={[109, 64, 64]} />\n        <meshBasicMaterial\n          attach=\"material\"\n          color=\"yellow\"\n        />\n      </mesh> */}\n\n    </group>\n  );\n}\n\nexport default Sun;\n","/* eslint-disable react/jsx-boolean-value */\n/* eslint-disable react/prop-types */\n/* eslint-disable consistent-return */\n\nimport { ChevronDownIcon } from '@chakra-ui/icons';\nimport {\n  Button, Flex, FormLabel, Menu, MenuButton, MenuDivider, MenuGroup,\n  MenuItem, MenuList, Radio, RadioGroup, Select, Slider,\n  SliderFilledTrack, SliderThumb, SliderTrack, Switch, Text,\n} from '@chakra-ui/react';\nimport { addEffect } from '@react-three/fiber';\nimport { select } from 'd3';\nimport { useEffect, useRef } from 'react';\nimport shallow from 'zustand/shallow';\nimport { useFrameStore, useStore } from '../Model/store';\n\nfunction SimControls() {\n  const {\n    isPaused, togglePaused, speed, setSpeed,\n  } = useStore(\n    (state) => ({\n      isPaused: state.isPaused,\n      togglePaused: state.togglePaused,\n      speed: state.speed,\n      setSpeed: state.setSpeed,\n    }),\n    shallow,\n  );\n  return (\n    <>\n      <MenuItem as={Flex} justify=\"space-between\" align=\"center\">\n\n        <Button onClick={() => togglePaused()}>\n          {isPaused ? 'Resume' : 'Pause'}\n        </Button>\n        <FormLabel htmlFor=\"loop\" alignSelf=\"center\" mb={0}>\n          Loop\n          <Switch id=\"loop\" mx={1} />\n        </FormLabel>\n      </MenuItem>\n      <MenuItem>\n        <FormLabel htmlFor=\"speed\">Speed</FormLabel>\n        <Slider\n          name=\"speed\"\n          value={speed}\n          onChange={(v) => setSpeed(v)}\n          min={1}\n          max={10}\n        >\n          <SliderTrack>\n            <SliderFilledTrack />\n          </SliderTrack>\n          <SliderThumb />\n        </Slider>\n      </MenuItem>\n    </>\n  );\n}\n\nfunction CameraControls({\n  satellites,\n}) {\n  const {\n    cameraTarget, attachCamera, detachCamera, setLockCamera,\n  } = useStore(\n    (state) => ({\n      cameraTarget: state.cameraTarget,\n      attachCamera: state.attachCamera,\n      detachCamera: state.detachCamera,\n      setLockCamera: state.setLockCamera,\n    }),\n    shallow,\n  );\n  return (\n    <>\n\n      <Select onChange={(e) => {\n        if (e.target.value === 'earth') detachCamera();\n        else attachCamera(e.target.value);\n      }}\n      >\n        <option value=\"earth\">Earth</option>\n        {satellites.customers.map((customer) => (\n          <option key={customer.id} value={customer.id}>{customer.name}</option>\n        ))}\n      </Select>\n\n      <MenuItem>\n        <RadioGroup onChange={(v) => setLockCamera(v === '1')} value={cameraTarget.lock ? '1' : '0'} disabled={cameraTarget.name === 'earth'}>\n          <Radio value=\"1\">Lock</Radio>\n          <Radio value=\"0\">Watch</Radio>\n        </RadioGroup>\n      </MenuItem>\n    </>\n  );\n}\n\n/* eslint-disable react/prop-types */\nfunction Controls() {\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        frame.current = state.frame;\n      },\n    );\n  }, []);\n  const {\n    time, satellites,\n  } = useStore(\n    (state) => ({\n      time: state.mission.time,\n      satellites: state.mission.satellites,\n    }),\n    shallow,\n  );\n  const timeRef = useRef();\n  addEffect(() => {\n    if (!timeRef.current) return;\n    select(timeRef.current).text(new Date(time[frame.current]).toString().slice(0, 21));\n  });\n  return (\n    <Flex align=\"center\" justify=\"center\" height=\"100%\">\n      <Text ref={timeRef} width=\"22ch\">{new Date(time[0]).toString().slice(0, 21)}</Text>\n      <Menu closeOnSelect={false}>\n        <MenuButton as={Button} rightIcon={<ChevronDownIcon />}>\n          Controls\n        </MenuButton>\n        <MenuList>\n          <MenuGroup title=\"Animation\">\n            <SimControls />\n          </MenuGroup>\n          <MenuDivider />\n          <MenuGroup title=\"Camera\">\n            <CameraControls\n              satellites={satellites}\n            />\n          </MenuGroup>\n        </MenuList>\n      </Menu>\n    </Flex>\n  );\n}\n\nexport default Controls;\n","/* eslint-disable react/no-this-in-sfc */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable import/no-extraneous-dependencies */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-nested-ternary */\n\nimport {\n  useCallback, useEffect, useRef,\n} from 'react';\nimport { addEffect } from '@react-three/fiber';\nimport * as d3 from 'd3';\nimport { useFrameStore } from '../../Model/store';\n\nconst color = d3.scaleOrdinal(['white', 'grey', 'rgba(255,255,255,0.2)']);\n\nconst pie = d3.pie()\n  .value((d) => d.value)\n  .startAngle(-Math.PI / 2.2).endAngle(Math.PI / 2.2)\n  .sort(null);\n\nexport default function Gauge({ height, selected }) {\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        if (state.frame - 2 > frame.current) { frame.current = state.frame; }\n        if (frame.current > state.frame) frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  const data = useRef();\n\n  const updateData = () => {\n    data.current = [\n      {\n        id: 2,\n        value: selected.performance.chargeStateNoBeams[frame.current] * 100,\n        color: (selected.performance.chargeStateNoBeams[frame.current] > 0.33) ? 'white' : 'red',\n      },\n      {\n        id: 1,\n        value: (selected.performance.chargeState[frame.current]\n            - selected.performance.chargeStateNoBeams[frame.current]) * 100,\n        color: 'grey',\n      },\n      {\n        id: 3,\n        value: 100 - (selected.performance.chargeState[frame.current] * 100),\n        color: 'lightgrey',\n      },\n    ];\n  };\n  const arc = d3.arc().innerRadius(height / 2 - 20)\n    .outerRadius(height / 3 - 10);\n  const pieRef = useRef();\n\n  const group = useRef();\n  const groupWithData = useRef();\n  const groupWithUpdate = useRef();\n  const path = useRef();\n  const createPie = () => {\n    group.current = d3.select(pieRef.current);\n    groupWithData.current = group.current.selectAll('g.arc').data(pie(data.current));\n\n    groupWithData.current.exit().remove();\n\n    groupWithUpdate.current = groupWithData.current\n      .enter()\n      .append('g')\n      .attr('class', 'arc');\n\n    path.current = groupWithUpdate.current\n      .append('path')\n      .merge(groupWithData.current.select('path.arc'));\n\n    path.current\n      .attr('class', 'arc')\n      .attr('d', arc)\n      .attr('fill', (d) => color(d));\n  };\n\n  const prevFrame = useRef();\n  addEffect(() => {\n    if (prevFrame === frame.current) return;\n    if (!pieRef.current) return;\n    updateData();\n    createPie();\n    prevFrame.current = frame.current;\n  });\n\n  const ref = useCallback((node) => {\n    pieRef.current = node;\n    updateData();\n\n    createPie(data.current);\n  });\n\n  return (\n\n    <svg width={height} height={height / 2}>\n      <g\n        ref={ref}\n        transform={`translate(${height / 2} ${height / 2})`}\n      />\n    </svg>\n  );\n}\n// function change() {\n//   const pie = d3.pie()\n//     .value((d) => d.presses)(data);\n\n//   path = d3.select('#pie').selectAll('path').data(pie);\n// }\n","/* eslint-disable import/no-extraneous-dependencies */\n/* eslint-disable react/jsx-curly-brace-presence */\n/* eslint-disable consistent-return */\n/* eslint-disable react/prop-types */\nimport {\n  Flex, Select, Stat, StatLabel, StatNumber,\n  Box, Center, StatGroup, GridItem, StatHelpText, StatArrow, ButtonGroup,\n  Button, Text,\n} from '@chakra-ui/react';\nimport {\n  useCallback, useEffect, useRef, useState,\n} from 'react';\nimport shallow from 'zustand/shallow';\nimport { addEffect } from '@react-three/fiber';\nimport * as d3 from 'd3';\nimport { useFrameStore, useStore } from '../../Model/store';\nimport Gauge from './Gauge';\nimport './HUD.css';\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nconst statProps = [\n  {\n    key: 'netCurrent',\n    label: 'Net Current',\n    shouldArrows: true,\n    getValue: (frame, selected) => {\n      const netCurrent = selected.params.load.powerProfiles[\n        selected.performance.sources[frame]\n      ][\n        selected.performance.currentDuties[frame]\n      ];\n      return netCurrent;\n    },\n    formatValue: (value) => `${(value).toFixed(2)}A`,\n    getHelpText: (frame, selected) => capitalize(selected.performance.sources[frame]),\n  },\n  {\n    key: 'consumption',\n    label: 'Consumption',\n    shouldArrows: false,\n    getValue: (frame, selected) => selected.params.load.duties[\n      selected.performance.currentDuties[frame]\n    ].consumption,\n    formatValue: (value) => `${value}W`,\n    getHelpText: (frame, selected) => `${capitalize(selected.params.load.duties[selected.performance.currentDuties[frame]].name)}`,\n\n  },\n  {\n    key: 'chargeState',\n    label: '',\n    shouldArrows: false,\n    getValue: (frame, selected) => selected.performance.chargeState[frame] * 100,\n    formatValue: (value) => `${(value).toPrecision(3)}%`,\n    getHelpText: () => 'w/o Space Power',\n    getHelpNumber: (frame, selected) => `${(selected.performance.chargeStateNoBeams[frame] * 100).toPrecision(3)}% `,\n  },\n];\n\nfunction HUD() {\n  const {\n    satellites, toggleLabel, toggleAllLabels, attachCamera,\n    detachCamera, cameraTarget, satelliteOptions, view,\n  } = useStore(\n    (state) => ({\n      satellites: state.mission.satellites,\n      toggleLabel: state.toggleLabel,\n      toggleAllLabels: state.toggleAllLabels,\n      satelliteOptions: state.satelliteOptions,\n      attachCamera: state.attachCamera,\n      detachCamera: state.detachCamera,\n      cameraTarget: state.cameraTarget,\n      view: state.view,\n    }),\n    shallow,\n  );\n\n  // const [selected, setSelected] = useState(satellites.customers[0]);\n  // const selected = useRef(satellites.customers[0]);\n  const [selected, setSelected] = useState(satellites.customers[0]);\n  useEffect(() => {\n    // selected.current = satellites.customers[0];\n    setSelected(() => satellites.customers[0]);\n  }, [satellites]);\n\n  const handleSelectSatellite = (e) => {\n    const selection = e.target.value;\n    if (selection === 'fleet') {\n      setSelected(() => satellites.fleet);\n    } else {\n      setSelected(() => satellites.customers.find((customer) => (\n        customer.id === selection)));\n    }\n  };\n\n  const handleLabel = () => {\n    toggleLabel(selected.id);\n  };\n\n  const handleCamera = () => {\n    if (cameraTarget.id === selected.id) detachCamera();\n    else attachCamera(selected.id);\n  };\n\n  const hideAllLabels = () => {\n    toggleAllLabels(false);\n  };\n\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        if (state.frame - 10 > frame.current) frame.current = state.frame;\n        if (frame.current > state.frame) frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  // const statRefs = useRef([]);\n  const statRefs = useRef(new Map());\n  const handleStatRefs = useCallback((node) => {\n    if (!node) return;\n    const stat = statProps.find((v) => v.key === node.id);\n    statRefs.current.set(\n      stat.key,\n      {\n        ...stat,\n        ref: node,\n      },\n    );\n  }, []);\n\n  const prevFrame = useRef();\n  addEffect(() => {\n    if (prevFrame.current === frame.current) return;\n    statRefs.current.forEach((stat) => {\n      if (!stat.ref) return;\n      const parent = d3.select(stat.ref);\n\n      if (selected.name === 'fleet' && stat.key !== 'chargeState') {\n        if (!parent.classed('hide')) d3.select(stat.ref).classed('hide', true);\n        return;\n      }\n      if (parent.classed('hide')) d3.select(stat.ref).classed('hide', false);\n\n      const value = stat.getValue(frame.current, selected);\n\n      parent.selectAll('.chakra-stat__number')\n        .select('span')\n        .text(stat.formatValue(value));\n\n      parent.selectAll('.chakra-stat__help-text')\n        .select('.help-text')\n        .text(stat.getHelpText(frame.current, selected));\n\n      if (stat.getHelpNumber) {\n        parent.selectAll('.chakra-stat__help-text')\n          .select('.help-number')\n          .text(stat.getHelpNumber(frame.current, selected));\n      }\n\n      if (stat.shouldArrows) {\n        const upArrow = parent.select('.chakra-stat__help-text').select('.up-arrow');\n        const downArrow = parent.select('.chakra-stat__help-text').select('.down-arrow');\n        if (value > 0) {\n          upArrow.attr('visibility', 'visible');\n          upArrow.style('position', 'relative');\n          downArrow.attr('visibility', 'hidden');\n          downArrow.style('position', 'absolute');\n        } else {\n          upArrow.attr('visibility', 'hidden');\n          upArrow.style('position', 'absolute');\n          downArrow.attr('visibility', 'visible');\n          downArrow.style('position', 'relative');\n        }\n      }\n    });\n    prevFrame.current = frame.current;\n  });\n\n  if (!satellites) return;\n  return (\n    <GridItem area={'2 / 1 / 3 / 3'} zIndex={99} transform={view.name === 'simulation' ? '' : 'translate(-9999px, 0)'} position={view.name === 'simulation' ? '' : 'absolute'}>\n      <Flex height=\"100%\" justify=\"space-between\" align-items=\"center\">\n        <Center flex={1}>\n          <Box px={2}>\n            <Select onChange={handleSelectSatellite}>\n              {satellites.customers.map((customer) => (\n                <option key={customer.id} value={customer.id}>{customer.name}</option>\n              ))}\n              <option value=\"fleet\">Fleet</option>\n            </Select>\n\n          </Box>\n          {selected.name !== 'fleet'\n            ? (\n              <ButtonGroup>\n                <Button onClick={handleLabel}>\n                  {satelliteOptions.get(selected.id).showLabel ? 'Hide Label' : 'Show Label'}\n                </Button>\n                <Button\n                  // onClick={\n                  //     cameraTarget.id === selected.id\n                  //       ? () => detachCamera() : () => attachCamera(selected.id)\n                  //   }\n                  onClick={handleCamera}\n                >\n                  {cameraTarget.id === selected.id ? 'Detach Camera' : 'Attach Camera'}\n                </Button>\n              </ButtonGroup>\n            )\n            : <Button onClick={hideAllLabels}>{'Hide All Labels'}</Button>}\n        </Center>\n        <Box height=\"100%\" flex={1}>\n          <Center>\n            <Stat\n              align=\"center\"\n              ref={handleStatRefs}\n              id={'chargeState'}\n            >\n              <StatLabel>Charge</StatLabel>\n              <Gauge\n                height={200}\n                selected={selected}\n                styles={{ position: 'absolute' }}\n              />\n              <StatNumber textStyle=\"number\">\n                <span />\n              </StatNumber>\n              <StatHelpText width=\"100%\">\n                <Text as={'span'} textStyle=\"number\" className=\"help-number\" />\n                <span className=\"help-text\" />\n              </StatHelpText>\n\n            </Stat>\n          </Center>\n        </Box>\n        <Center flex={1}>\n          <Box>\n            <StatGroup>\n              {statProps.slice(0, 2).map((stat) => (\n                <Stat\n                  width=\"30ch\"\n                  key={stat.key}\n                  id={stat.key}\n                  ref={handleStatRefs}\n                >\n                  <StatLabel>{stat.label}</StatLabel>\n                  <StatNumber textStyle=\"number\"><span /></StatNumber>\n                  <StatHelpText>\n                    {stat.shouldArrows\n                      ? (\n                        <>\n                          <StatArrow type=\"increase\" className=\"up-arrow hide\" />\n                          <StatArrow type=\"decrease\" className=\"down-arrow hide\" />\n                        </>\n                      )\n                      : '' }\n                    <span className=\"help-text\" />\n                  </StatHelpText>\n                </Stat>\n              ))}\n            </StatGroup>\n          </Box>\n        </Center>\n      </Flex>\n    </GridItem>\n  );\n}\n\nexport default HUD;\n","/* eslint-disable react/prop-types */\nimport { SettingsIcon } from '@chakra-ui/icons';\nimport {\n  Button, Center, Flex, Modal, ModalBody, ModalCloseButton, ModalContent,\n  ModalFooter, ModalHeader, ModalOverlay, useDisclosure,\n} from '@chakra-ui/react';\nimport CustomNumberInput from './CustomNumberInput';\n\nconst fields = [\n  {\n    id: 'inclination',\n    step: 1,\n    label: 'Inclination',\n    min: 0,\n    max: 36,\n    units: '',\n  },\n  {\n    id: 'rightAscension',\n    step: 0.01,\n    label: 'Right Ascension',\n    min: 0,\n    max: 36,\n    units: '',\n  },\n  {\n    id: 'eccentricity',\n    step: 0.001,\n    label: 'Eccentricity',\n    min: -0.1,\n    max: 0.1,\n    units: '',\n  },\n  {\n    id: 'perigee',\n    step: 0.001,\n    label: 'Perigee',\n    min: 0,\n    max: 36,\n    units: '',\n  },\n  {\n    id: 'meanAnomaly',\n    step: 0.01,\n    label: 'Mean Anomaly',\n    min: 0,\n    max: 36,\n    units: '',\n  },\n  {\n    id: 'meanMotion',\n    step: 0.01,\n    label: 'Mean Motion',\n    min: 0,\n    max: 0.5,\n    units: (\n      <span>\n        revs day\n        <sup>-1</sup>\n      </span>\n    ),\n  },\n];\n\nfunction ConfigModal({ formik }) {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  return (\n    <>\n      <Button onClick={onOpen}>\n        <SettingsIcon mx={2} />\n        Power\n      </Button>\n\n      <Modal isOpen={isOpen} onClose={onClose} size=\"xl\">\n        <ModalOverlay backdropFilter=\"blur(10px)\" />\n        <ModalContent bg=\"background.100\" width=\"80vw\">\n          <ModalHeader align=\"center\">Configure Space Power</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody width=\"100%\">\n            <Center>\n              <CustomNumberInput\n                value={formik.values.spacePowers}\n                name=\"spacePowers\"\n                formik={formik}\n                label=\"Number of power satellites\"\n                min={0}\n                max={10}\n              />\n            </Center>\n            <h3 align=\"center\">Offsets</h3>\n            <Flex justify=\"center\" direction=\"row\" wrap=\"wrap\" width=\"100%\">\n              {fields.map((param) => (\n                <CustomNumberInput\n                  value={formik.values.offsets[`${param.id}`]}\n                  key={param.id}\n                  step={param.step}\n                  name={`offsets[${param.id}]`}\n                  units={param.units}\n                  formik={formik}\n                  label={param.label}\n                  min={param.min}\n                  max={param.max}\n                />\n              ))}\n            </Flex>\n          </ModalBody>\n          <ModalFooter>\n            <Button colorScheme=\"blue\" mr={3} onClick={onClose}>\n              Close\n            </Button>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n}\n\nexport default ConfigModal;\n","/* eslint-disable react/prop-types */\nimport {\n  Editable, EditableInput, EditablePreview, Flex, FormControl, Input,\n} from '@chakra-ui/react';\nimport EditableControls from './EditableControls';\n\nfunction CustomEditableInput({\n  value, name, form, onSubmit,\n}) {\n  return (\n    <FormControl>\n      <Editable\n        as={Flex}\n        submitOnBlur\n        defaultValue={value}\n        align=\"center\"\n        width=\"auto\"\n        cursor=\"pointer\"\n        justify=\"center\"\n        onSubmit={(v) => {\n          form.setFieldValue(\n            `${name}`,\n            v,\n          );\n          onSubmit();\n        }}\n        onCancel={(v) => {\n          form.setFieldValue(\n            `${name}`,\n            v,\n          );\n        }}\n      >\n        <EditablePreview />\n        <Input\n          textAlign=\"center\"\n          as={EditableInput}\n          id=\"name\"\n          name={name}\n          type=\"text\"\n          variant=\"filled\"\n        />\n        <EditableControls />\n      </Editable>\n    </FormControl>\n  );\n}\n\nexport default CustomEditableInput;\n","/* eslint-disable react/prop-types */\nimport {\n  Flex,\n  FormControl,\n  FormErrorMessage,\n  FormLabel,\n  NumberDecrementStepper,\n  NumberIncrementStepper,\n  NumberInput, NumberInputField, NumberInputStepper, Text,\n} from '@chakra-ui/react';\nimport { getIn } from 'formik';\n\nfunction CustomNumberInput({\n  value, min, max, label, name, units, step, formik,\n}) {\n  const errors = getIn(formik.errors, name);\n\n  return (\n    <FormControl\n      maxWidth=\"40%\"\n      p={5}\n      isInvalid={errors}\n      as={Flex}\n      direction=\"column\"\n      align=\"start\"\n    >\n      <FormLabel htmlFor={`${name}`}>{label}</FormLabel>\n      <Flex gap={1} align=\"center\">\n        <NumberInput\n          id={name}\n          name={`${name}`}\n          onChange={(v) => {\n            formik.setFieldValue(\n              `${name}`,\n              v,\n            );\n          }}\n          value={value}\n          step={step}\n          min={min}\n          max={max}\n          flex={3}\n        >\n          <NumberInputField />\n          <NumberInputStepper>\n            <NumberIncrementStepper />\n            <NumberDecrementStepper />\n          </NumberInputStepper>\n        </NumberInput>\n        <Text flex={1} align=\"left\">{units}</Text>\n      </Flex>\n      <FormErrorMessage>{errors}</FormErrorMessage>\n    </FormControl>\n  );\n}\n\nexport default CustomNumberInput;\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/prop-types */\nimport { AddIcon } from '@chakra-ui/icons';\nimport {\n  Accordion, AccordionButton, AccordionIcon, AccordionItem, AccordionPanel, Button,\n  Editable, EditableInput, EditablePreview, Flex, FormControl, FormLabel, Input, Select,\n} from '@chakra-ui/react';\nimport { FieldArray, FormikProvider } from 'formik';\nimport CustomNumberInput from './CustomNumberInput';\nimport { defaultDuty } from './defaultInputs';\nimport EditableControls from './EditableControls';\n\nconst defaultFields = [\n  {\n    id: 'consumption',\n    step: 0.1,\n    label: 'Consumption',\n    min: 0,\n    units: 'W',\n  },\n  {\n    id: 'priority',\n    step: 1,\n    min: 1,\n    label: 'Priority',\n  }];\n\nconst cyclicalFields = [\n  {\n    id: 'cycles',\n    steps: 0.1,\n    label: 'Cycles per orbit',\n    min: 0,\n    units: 'cycles',\n  },\n  {\n    id: 'duration',\n    steps: 1,\n    label: 'Cycle duration',\n    min: 0,\n    units: 's',\n  },\n];\n\nfunction DutyTab({ satIndex, formik }) {\n  return (\n    <Accordion\n      maxHeight=\"75vh\"\n      overflowY=\"auto\"\n      width=\"100%\"\n    >\n      <FormikProvider value={formik}>\n        <FieldArray name={`satellites[${satIndex}].duties`}>\n          {(fieldArrayProps) => {\n            const {\n              push, remove, form,\n            } = fieldArrayProps;\n            const { values } = form;\n            const satellite = values.satellites[satIndex];\n            const allFields = satellite.duties.map((duty, index) => {\n              const fields = [...defaultFields];\n              if (duty.type === 'cyclical') {\n                fields.push(\n                  ...cyclicalFields,\n                );\n              }\n              return (\n                <AccordionItem width=\"100%\" key={`${satellite.id}${index}`}>\n                  <AccordionButton>\n                    <FormControl as={Flex}>\n                      <Editable\n                        as={Flex}\n                        align=\"center\"\n                        justify=\"center\"\n                        width=\"100%\"\n                        cursor=\"pointer\"\n                        onChange={(v) => {\n                          form.setFieldValue(\n                            `satellites[${satIndex}].duties[${index}].name`,\n                            v,\n                          );\n                        }}\n                        value={duty.name}\n                      >\n                        <EditablePreview />\n                        <Input\n                          as={EditableInput}\n                          id=\"name\"\n                          name={`satellites[${satIndex}].duties[${index}].name`}\n                          type=\"text\"\n                          variant=\"filled\"\n                          maxWidth=\"80%\"\n                        />\n                        <EditableControls />\n                      </Editable>\n                      <AccordionIcon />\n                    </FormControl>\n                  </AccordionButton>\n                  <AccordionPanel>\n                    <Flex wrap=\"wrap\" justify=\"space-around\">\n                      <FormControl width=\"65%\">\n                        <FormLabel htmlFor={`satellites[${satIndex}].duties[${index}].type`}>Type</FormLabel>\n                        <Select\n                          name={`satellites[${satIndex}].duties[${index}].type`}\n                          onChange={form.handleChange}\n                          value={duty.type}\n                        >\n                          <option value=\"cyclical\">Cyclical</option>\n                        </Select>\n                      </FormControl>\n                      {fields.map((param) => (\n                        <CustomNumberInput\n                          value={duty[param.id]}\n                          step={param.step}\n                          key={param.id}\n                          name={`satellites[${satIndex}].duties[${index}][${param.id}]`}\n                          units={param.units}\n                          formik={form}\n                          label={param.label}\n                        />\n                      ))}\n\n                    </Flex>\n                    <Button\n                      m={5}\n                      onClick={() => {\n                        remove(index);\n                      }}\n                    >\n                      Remove\n                    </Button>\n                  </AccordionPanel>\n                </AccordionItem>\n              );\n            });\n            return (\n              <>\n                {allFields}\n                <Button\n                  m={5}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    push({\n                      ...defaultDuty,\n                      name: `Duty ${satellite.duties.length + 1}`,\n                      priority: satellite.duties.length + 1,\n                    });\n                  }}\n                >\n                  <AddIcon />\n                </Button>\n              </>\n            );\n          }}\n        </FieldArray>\n      </FormikProvider>\n    </Accordion>\n  );\n}\n\nexport default DutyTab;\n","/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-nested-ternary */\nimport { CheckIcon, CloseIcon, EditIcon } from '@chakra-ui/icons';\nimport { ButtonGroup, IconButton, useEditableControls } from '@chakra-ui/react';\n\nfunction EditableControls({ showEditIcon }) {\n  const {\n    isEditing,\n    getSubmitButtonProps,\n    getCancelButtonProps,\n    getEditButtonProps,\n  } = useEditableControls();\n\n  return isEditing ? (\n    <ButtonGroup justifyContent=\"center\" size=\"sm\">\n      <IconButton icon={<CheckIcon />} {...getSubmitButtonProps()} />\n      <IconButton icon={<CloseIcon />} {...getCancelButtonProps()} />\n    </ButtonGroup>\n  ) : (\n    showEditIcon\n      ? (\n        <IconButton size=\"sm\" mx={2} icon={<EditIcon />} {...getEditButtonProps()} />\n      ) : ''\n  );\n}\n\nexport default EditableControls;\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable no-unused-expressions */\nimport {\n  Button,\n  Center, Flex, GridItem,\n  Spinner,\n  Tab, TabList, TabPanel, TabPanels, Tabs, Text,\n} from '@chakra-ui/react';\nimport { useFormik } from 'formik';\nimport { useEffect, useState } from 'react';\n\nimport { getCorsFreeUrl, loadTLEs } from 'Util/astronomy';\nimport { useStore } from 'Model/store';\nimport { handleMissionRequest, MissionSchema } from '../../Model/mission';\n\nimport SatelliteList from './SatelliteList';\n\nimport OrbitTab from './OrbitTab';\nimport PowerTab from './PowerTab';\nimport DutyTab from './DutyTab';\nimport ConfigModal from './ConfigModal';\nimport { defaultValues } from './defaultInputs';\n\nfunction fetchTLEs(urls) {\n  const tles = [];\n  Object.entries(urls).forEach(([key, url]) => {\n    loadTLEs(getCorsFreeUrl(url)).then((res) => {\n      tles.push({\n        name: key,\n        tles: res,\n      });\n    });\n  });\n  return tles;\n}\n\nconst urls = {\n  OneWeb: 'https://celestrak.org/NORAD/elements/gp.php?GROUP=oneweb&FORMAT=tle',\n  Starlink: 'https://celestrak.org/NORAD/elements/gp.php?GROUP=starlink&FORMAT=tle',\n  Orbcomm: 'https://celestrak.org/NORAD/elements/gp.php?GROUP=orbcomm&FORMAT=tle',\n  Galileo: 'https://celestrak.org/NORAD/elements/gp.php?GROUP=galileo&FORMAT=tle',\n  Geosynchronous: 'https://celestrak.org/NORAD/elements/gp.php?GROUP=geo&FORMAT=tle',\n};\n\nfunction MissionPlanner({ shouldDisplay }) {\n  const [satIndex, setSatIndex] = useState(0);\n  const [constellations, setConstellations] = useState();\n\n  const { initializeMission, setInitialized } = useStore((state) => ({\n    initializeMission: state.initializeMission,\n    setInitialized: state.setInitialized,\n  }));\n\n  useEffect(() => {\n    setConstellations((fetchTLEs(urls)));\n  }, []);\n  const formik = useFormik({\n    initialValues: defaultValues,\n    validationSchema: MissionSchema,\n    validateOnChange: false,\n    validateOnBlur: true,\n    onSubmit: async (values) => {\n      formik.setSubmitting(true);\n      await new Promise((resolve, reject) => {\n        setInitialized(false);\n\n        setTimeout(() => {\n          try {\n            initializeMission(values);\n            formik.setStatus('');\n          } catch (error) {\n            formik.setStatus('Error. Please try different orbital parameters and offsets.');\n            reject();\n          }\n          resolve();\n        }, 500);\n      });\n    },\n  });\n  return (\n    shouldDisplay\n      ? (\n        <>\n          <GridItem area=\"select\">\n            <form onSubmit={formik.handleSubmit}>\n\n              <SatelliteList formik={formik} satIndex={satIndex} setSatIndex={setSatIndex} />\n              {formik.values.satellites.length > 0\n                ? (\n                  <>\n                    <Center>\n                      <ConfigModal formik={formik} />\n\n                      <Button\n                        m={5}\n                        type=\"submit\"\n                        disabled={formik.isSubmitting}\n                      >\n                        {formik.isSubmitting ? <Spinner /> : 'Generate Mission'}\n                      </Button>\n                    </Center>\n                    <Center>\n                      <Text color=\"red\" width=\"50%\" align=\"center\">{formik.status}</Text>\n                    </Center>\n                  </>\n                ) : '' }\n            </form>\n          </GridItem>\n          <GridItem area=\"parameters\">\n            {((formik.values.satellites.length > 0) && satIndex >= 0)\n              ? (\n                <Center>\n                  <Tabs\n                    p={10}\n                    minWidth=\"50%\"\n                    maxWidth=\"80%\"\n                    align=\"center\"\n                  >\n                    <TabList>\n                      <Tab>Orbit</Tab>\n                      <Tab>Power</Tab>\n                      <Tab>Duty</Tab>\n                    </TabList>\n                    <TabPanels>\n                      <TabPanel pt={10}>\n                        <OrbitTab\n                          satIndex={satIndex}\n                          formik={formik}\n                          constellations={constellations}\n                        />\n                      </TabPanel>\n                      <TabPanel pt={10}>\n                        <PowerTab satIndex={satIndex} formik={formik} />\n                      </TabPanel>\n                      <TabPanel pt={10}>\n                        <DutyTab satIndex={satIndex} formik={formik} />\n                      </TabPanel>\n                    </TabPanels>\n                  </Tabs>\n                </Center>\n              ) : (\n                <Flex height=\"100%\" justify=\"center\" align=\"center\">\n                  <h2>Add satellite to begin...</h2>\n                </Flex>\n              )}\n          </GridItem>\n\n        </>\n      ) : ''\n  );\n}\n\nexport default MissionPlanner;\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/prop-types */\nimport {\n  Button,\n  Flex, FormControl, FormErrorMessage, FormHelperText, FormLabel,\n  Input, Select, Tab, TabList, TabPanel, TabPanels, Tabs, Textarea,\n} from '@chakra-ui/react';\nimport { useState } from 'react';\nimport { parseTLEs, twoline2satrec } from 'Util/astronomy.js';\nimport CustomNumberInput from './CustomNumberInput';\n\nconst fields = [\n  {\n    id: 'meanMotionDot',\n    step: 0.000001,\n    label: '1st Derivative of Mean Motion',\n    min: -1,\n    max: 1,\n    units: (\n      <span>\n        revs day\n        <sup>-2</sup>\n      </span>\n    ),\n  },\n  {\n    id: 'bstar',\n    step: 0.0001,\n    label: 'BSTAR',\n    min: -2,\n    max: 2,\n    units: (\n      <span>\n        m\n        <sup>-1</sup>\n      </span>\n    ),\n  },\n  {\n    id: 'inclination',\n    step: 0.01,\n    label: 'Inclination',\n    min: 0,\n    max: 360,\n    units: '',\n  },\n  {\n    id: 'rightAscension',\n    step: 0.01,\n    label: 'Right Ascension',\n    min: 0,\n    max: 360,\n    units: '',\n  },\n  {\n    id: 'eccentricity',\n    step: 0.001,\n    label: 'Eccentricity',\n    min: 0,\n    max: 1,\n    units: '',\n  },\n  {\n    id: 'perigee',\n    step: 0.001,\n    label: 'Perigee',\n    min: 0,\n    max: 360,\n    units: '',\n  },\n  {\n    id: 'meanAnomaly',\n    step: 0.01,\n    label: 'Mean Anomaly',\n    min: 0,\n    max: 360,\n    units: '',\n  },\n  {\n    id: 'meanMotion',\n    step: 0.01,\n    label: 'Mean Motion',\n    min: 0,\n    max: 16,\n    units: (\n      <span>\n        revs day\n        <sup>-1</sup>\n      </span>\n    ),\n  },\n];\n\nexport default function OrbitTab({ formik, satIndex, constellations }) {\n  const handleExtractTle = (e) => {\n    e.preventDefault();\n    console.log(formik.values.satellites[satIndex].orbit.tle);\n    const { tles } = parseTLEs(formik.values.satellites[satIndex].orbit.tle)[0];\n    const satRec = twoline2satrec(tles.tle1, tles.tle2);\n    const newOrbit = {\n      epoch: satRec.epochdatetimelocal,\n      meanMotionDot: satRec.ndottle,\n      bstar: satRec.bstar,\n      inclination: satRec.inclotle,\n      rightAscension: satRec.nodeotle,\n      eccentricity: satRec.ecco,\n      perigee: satRec.argpotle,\n      meanAnomaly: satRec.motle,\n      meanMotion: satRec.notle,\n      tle: formik.values.satellites[satIndex].orbit.tle,\n    };\n    Object.entries(newOrbit).forEach(\n      (entry) => {\n        formik.setFieldValue(`satellites[${satIndex}].orbit.[${entry[0]}]`, entry[1]);\n      },\n    );\n  };\n\n  return (\n    <>\n      <Flex justify=\"space-around\" wrap=\"wrap\">\n        <FormControl width=\"65%\">\n          <FormLabel htmlFor={`satellites[${satIndex}].orbit.epoch`}>Epoch</FormLabel>\n          <Input\n            id=\"epoch\"\n            name={`satellites[${satIndex}].orbit.epoch`}\n            type=\"datetime-local\"\n            variant=\"filled\"\n            onChange={formik.handleChange}\n            value={formik.values.satellites[satIndex].orbit.epoch}\n          />\n          {!formik.errors.epoch ? (\n            <FormHelperText />\n          ) : (\n            <FormErrorMessage>{formik.errors.orbit.epoch}</FormErrorMessage>\n          )}\n\n        </FormControl>\n        {fields.map((param) => (\n          <CustomNumberInput\n            value={formik.values.satellites[satIndex].orbit[param.id]}\n            key={param.id}\n            step={param.step}\n            name={`satellites[${satIndex}].orbit[${param.id}]`}\n            units={param.units}\n            formik={formik}\n            label={param.label}\n            min={param.min}\n            max={param.max}\n          />\n        ))}\n      </Flex>\n      <Tabs\n        p={10}\n        minWidth=\"50%\"\n        maxWidth=\"80%\"\n        align=\"center\"\n      >\n        <TabList>\n          <Tab>Choose</Tab>\n          <Tab>Paste TLE</Tab>\n        </TabList>\n        <TabPanels>\n          <TabPanel pt={10}>\n            <Flex wrap=\"wrap\" justify=\"space-around\">\n              <FormControl width=\"40%\">\n                <FormLabel htmlFor={`satellites[${satIndex}].orbit.constellation`}>Constellation</FormLabel>\n                <Select\n                  name={`satellites[${satIndex}].orbit.constellation`}\n                  value={formik.values.satellites[satIndex].orbit.constellation}\n                  onChange={formik.handleChange}\n                >\n                  {constellations.map((c) => (\n                    <option value={c.name} key={c.name}>\n                      {c.name}\n                    </option>\n                  ))}\n                </Select>\n              </FormControl>\n              <FormControl width=\"40%\">\n                <FormLabel htmlFor={`satellites[${satIndex}].orbit.tle`}>Satellite</FormLabel>\n                <Select\n                  name={`satellites[${satIndex}].orbit.tle`}\n                  value={formik.values.satellites[satIndex].orbit.tle}\n                  onChange={formik.handleChange}\n                >\n                  {constellations.find(\n                    (v) => v.name === formik.values.satellites[satIndex].orbit.constellation,\n                  ).tles\n                    .map((tle, i) => (\n                      <option\n                        key={`${i}${tle.name}`}\n                        value={`${tle.name}\\n${tle.tles.tle1}\\n${tle.tles.tle2}`}\n                      >\n                        {tle.name}\n                      </option>\n                    ))}\n                </Select>\n              </FormControl>\n              <Button\n                onClick={handleExtractTle}\n                m={3}\n              >\n                Extract\n              </Button>\n            </Flex>\n          </TabPanel>\n\n          <TabPanel pt={10}>\n            <FormControl width=\"90%\">\n              <FormLabel htmlFor={`satellites[${satIndex}].orbit.tle`}>TLE Input</FormLabel>\n              <Textarea\n                id=\"tle\"\n                name={`satellites[${satIndex}].orbit.tle`}\n                onChange={formik.handleChange}\n                value={formik.values.satellites[satIndex].orbit.tle}\n                placeholder=\"Enter TLE here\"\n              />\n              <FormErrorMessage>{formik.errors.tle}</FormErrorMessage>\n            </FormControl>\n            <Button\n              onClick={handleExtractTle}\n              m={3}\n            >\n              Extract\n            </Button>\n          </TabPanel>\n        </TabPanels>\n      </Tabs>\n    </>\n  );\n}\n","/* eslint-disable react/prop-types */\nimport { Flex } from '@chakra-ui/react';\nimport CustomNumberInput from './CustomNumberInput';\n\nconst fields = [\n  {\n    id: 'pvVoltage',\n    step: 0.1,\n    label: 'Voltage',\n    min: 0,\n    units: 'V',\n  },\n  {\n    id: 'currentDensity',\n    step: 0.1,\n    label: 'Current Density',\n    min: 0,\n    units: (\n      <span>\n        Am\n        <sup>-2</sup>\n      </span>\n    ),\n  },\n  {\n    id: 'area',\n    step: 0.001,\n    label: 'Area',\n    min: 0,\n    units: (\n      <span>\n        m\n        <sup>2</sup>\n      </span>\n    ),\n  },\n];\n\nfunction PowerTab({ satIndex, formik }) {\n  return (\n    <>\n      <h3>Photovoltaic</h3>\n      <Flex wrap=\"wrap\" justify=\"space-around\" mb={10}>\n        {fields.map((param) => (\n          <CustomNumberInput\n            value={formik.values.satellites[satIndex].power[param.id]}\n            step={param.step}\n            key={param.id}\n            name={`satellites[${satIndex}].power[${param.id}]`}\n            units={param.units}\n            formik={formik}\n            label={param.label}\n            min={param.min}\n            max={param.max}\n          />\n        ))}\n      </Flex>\n\n      <h3>Battery</h3>\n      <Flex wrap=\"wrap\" justify=\"space-around\">\n        {[\n          {\n            id: 'batteryVoltage',\n            step: 0.1,\n            label: 'Voltage',\n            min: 0,\n            units: 'V',\n          },\n          {\n            id: 'capacity',\n            step: 0.01,\n            label: 'Capacity',\n            min: 0,\n            units: 'Ah',\n          },\n          {\n            id: 'powerStoringConsumption',\n            step: 0.1,\n            label: 'Power storing consumption',\n            min: 0,\n            units: 'W',\n          },\n        ].map((param) => (\n          <CustomNumberInput\n            value={formik.values.satellites[satIndex].power[param.id]}\n            step={param.step}\n            key={param.id}\n            name={`satellites[${satIndex}].power[${param.id}]`}\n            units={param.units}\n            formik={formik}\n            label={param.label}\n            min={param.min}\n            max={param.max}\n          />\n        ))}\n      </Flex>\n    </>\n  );\n}\n\nexport default PowerTab;\n","/* eslint-disable react/prop-types */\nimport { AddIcon, ChevronRightIcon, SmallCloseIcon } from '@chakra-ui/icons';\nimport {\n  Button, Flex, List, ListItem, VStack,\n} from '@chakra-ui/react';\nimport { FieldArray, FormikProvider } from 'formik';\nimport { v4 as uuidv4 } from 'uuid';\nimport CustomEditableInput from './CustomEditableInput';\nimport { defaultSatellite } from './defaultInputs';\n\nfunction SatelliteListItem({\n  satellite, index, satIndex, setSatIndex, form, remove,\n}) {\n  return (\n    <ListItem\n      as={Flex}\n      p={1}\n      justify=\"space-around\"\n      align=\"center\"\n      borderRadius={5}\n      layerStyle={(index === satIndex) ? 'selected' : ''}\n      key={satellite.id}\n      onClick={() => setSatIndex(index)}\n    >\n\n      {/* <Button\n        onClick={() => {\n          setSatIndex(index);\n        }}\n        order={3}\n      >\n        <ChevronRightIcon />\n      </Button> */}\n\n      <CustomEditableInput\n        value={satellite.name}\n        name={`satellites[${index}].name`}\n        form={form}\n        onSubmit={() => setSatIndex(index)}\n      />\n      <Button\n        type=\"button\"\n        className=\"secondary\"\n        onClick={(e) => {\n          e.stopPropagation();\n          if (index === satIndex) {\n            setSatIndex(\n              () => (index > 0 ? index - 1 : 0),\n            );\n          } else if (index < satIndex) {\n            setSatIndex((prev) => prev - 1);\n          }\n          remove(index);\n        }}\n      >\n        <SmallCloseIcon />\n      </Button>\n    </ListItem>\n  );\n}\n\nfunction SatelliteList({ formik, satIndex, setSatIndex }) {\n  return (\n    <VStack>\n      <h2 align=\"center\">Satellites</h2>\n      <FormikProvider value={formik}>\n        <FieldArray name=\"satellites\">\n          {(fieldArrayProps) => {\n            const {\n              push, remove, form,\n            } = fieldArrayProps;\n            const { values } = form;\n            return (\n              <>\n                <List width=\"80%\" maxHeight=\"20rem\" overflowY=\"auto\">\n                  {values.satellites.length > 0\n                  && values.satellites.map((satellite, index) => (\n                    <SatelliteListItem\n                      satellite={satellite}\n                      index={index}\n                      satIndex={satIndex}\n                      setSatIndex={setSatIndex}\n                      form={form}\n                      remove={remove}\n                      key={satellite.id}\n                    />\n                  ))}\n                </List>\n                <Button\n                  m={5}\n                  onClick={() => {\n                    push({\n                      ...defaultSatellite,\n                      name: `Satellite ${values.satellites.length + 1}`,\n                      id: uuidv4(),\n                    });\n                    setSatIndex(values.satellites.length);\n                  }}\n                >\n                  <AddIcon />\n                </Button>\n              </>\n            );\n          }}\n        </FieldArray>\n      </FormikProvider>\n    </VStack>\n  );\n}\n\nexport default SatelliteList;\n","import { v4 as uuidv4 } from 'uuid';\n\nconst defaultDuty = {\n  name: 'Cyclical',\n  consumption: 3.2,\n  type: 'cyclical',\n  duration: 600,\n  cycles: 6,\n  priority: 1,\n};\n\nconst defaultSatellite = {\n  orbit: {\n    epoch: '2022-09-16T04:30:45',\n    meanMotionDot: 0.00003242,\n    bstar: 0.0084918,\n    inclination: 87.9147,\n    rightAscension: 147.6632,\n    eccentricity: 0.0002947,\n    perigee: 88.9181,\n    meanAnomaly: 343.2887,\n    meanMotion: 13.16587847,\n    tle: 'ONEWEB-0012\\n1 44057U 19010A   22250.74391874  .00000001  00000+0 -32174-4 0  9997\\n2 44057  87.9135 143.1939 0002746  66.1420 293.9999 13.16594134170187',\n    constellation: 'OneWeb',\n  },\n  power: {\n    pvVoltage: 4.7,\n    currentDensity: 170.5,\n    area: 0.0064,\n    batteryVoltage: 3.6,\n    capacity: 1.125,\n    powerStoringConsumption: 1.2,\n  },\n  duties: [\n    {\n      name: 'Cyclical',\n      consumption: 3.2,\n      type: 'cyclical',\n      duration: 600,\n      cycles: 6,\n      priority: 1,\n    },\n  ],\n};\n\nconst defaultValues = {\n\n  satellites: [\n    {\n      orbit: {\n        epoch: '2022-09-16T04:30:45',\n        meanMotionDot: 0.00003242,\n        bstar: 0.0084918,\n        inclination: 87.9147,\n        rightAscension: 147.6632,\n        eccentricity: 0.0002947,\n        perigee: 88.9181,\n        meanAnomaly: 343.2887,\n        meanMotion: 13.16587847,\n        tle: '',\n        constellation: 'OneWeb',\n      },\n      power: {\n        pvVoltage: 4.7,\n        currentDensity: 170.5,\n        area: 0.0064,\n        batteryVoltage: 3.6,\n        capacity: 1.125,\n        powerStoringConsumption: 1.2,\n      },\n      duties: [\n        {\n          name: 'Cyclical',\n          consumption: 3.2,\n          type: 'cyclical',\n          duration: 600,\n          cycles: 6,\n          priority: 1,\n        },\n      ],\n      name: 'Satellite 1',\n      id: uuidv4(),\n    },\n    {\n      orbit: {\n        epoch: '2022-09-16T05:06:16',\n        meanMotionDot: 0.00001674,\n        bstar: 0.004385,\n        inclination: 87.9151,\n        rightAscension: 147.6525,\n        eccentricity: 0.0002601,\n        perigee: 76.2503,\n        meanAnomaly: 352.9196,\n        meanMotion: 13.16593118,\n        tle: '',\n        constellation: 'OneWeb',\n      },\n      power: {\n        pvVoltage: 4.7,\n        currentDensity: 170.5,\n        area: 0.0064,\n        batteryVoltage: 3.6,\n        capacity: 1.125,\n        powerStoringConsumption: 1.2,\n      },\n      duties: [\n        {\n          name: 'Cyclical',\n          consumption: 3.2,\n          type: 'cyclical',\n          duration: 600,\n          cycles: 6,\n          priority: 1,\n        },\n      ],\n      name: 'Satellite 2',\n      id: uuidv4(),\n    },\n    {\n      orbit: {\n        epoch: '2022-09-16T07:37:44',\n        meanMotionDot: 2e-7,\n        bstar: 0.000052609,\n        inclination: 87.9156,\n        rightAscension: 147.6698,\n        eccentricity: 0.0001678,\n        perigee: 89.1265,\n        meanAnomaly: 358.4823,\n        meanMotion: 13.16600059,\n        tle: '',\n        constellation: 'OneWeb',\n      },\n      power: {\n        pvVoltage: 4.7,\n        currentDensity: 170.5,\n        area: 0.0064,\n        batteryVoltage: 3.6,\n        capacity: 1.125,\n        powerStoringConsumption: 1.2,\n      },\n      duties: [\n        {\n          name: 'Cyclical',\n          consumption: 3.2,\n          type: 'cyclical',\n          duration: 600,\n          cycles: 6,\n          priority: 1,\n        },\n      ],\n      name: 'Satellite 3',\n      id: uuidv4(),\n    },\n  ],\n  spacePowers: 3,\n  offsets: {\n    inclination: 6,\n    rightAscension: 0,\n    eccentricity: 0,\n    perigee: 0,\n    meanAnomaly: 0,\n    meanMotion: 0,\n  },\n};\n\nexport { defaultSatellite, defaultDuty, defaultValues };\n","/* eslint-disable no-param-reassign */\n/* eslint-disable react/prop-types */\nimport { Box, Flex } from '@chakra-ui/react';\nimport { addEffect } from '@react-three/fiber';\nimport React, {\n  useCallback,\n  useEffect, useRef,\n} from 'react';\nimport * as fc from 'd3fc';\nimport * as d3 from 'd3';\nimport { legendColor } from 'd3-svg-legend';\nimport { useFrameStore } from '../../Model/store';\nimport './Charts.css';\nimport useChartStore from './chartStore';\n\nconst colors = [\n  [139, 0, 0, 1],\n  [205, 92, 92, 1],\n  [0, 100, 0, 1],\n  [85, 107, 47, 1],\n  [0, 0, 139, 1],\n  [173, 216, 230, 1],\n];\n\nconst webglColors = colors.map((color) => color.map((c, i) => (i < 3 ? c / 255 : 1)));\n\nconst dataHelpers = {\n  chargeState: {\n    name: 'Charge State',\n    unit: '%',\n    label: '',\n    getValue: (frame, satellite) => satellite.performance.chargeState[frame] * 100,\n    min: 0,\n    max: 100,\n\n  },\n  chargeStateNoBeams: {\n    name: 'Charge w/o Space Power',\n    label: 'w/o Space Power',\n    getValue: (frame, satellite) => satellite.performance.chargeStateNoBeams[frame] * 100,\n    min: 0,\n    max: 100,\n  },\n  netCurrent: {\n    name: 'Net Current',\n    unit: 'A',\n    label: '',\n    getValue: (frame, satellite) => satellite.params.load.powerProfiles[\n      satellite.performance.sources[frame]\n    ][\n      satellite.performance.currentDuties[frame]\n    ],\n  },\n  consumption: {\n    name: 'Consumption',\n    unit: 'W',\n    label: '',\n    getValue: (frame, satellite) => satellite.params.load.duties[\n      satellite.performance.currentDuties[frame]\n    ].consumption,\n  },\n};\n\nconst xExtent = fc.extentDate().accessors([(d) => d[0].x]);\nconst yExtent = fc\n  .extentLinear()\n  .accessors([(d) => d[0].y])\n  .pad([1, 0]);\n\nconst getSeries = (index, context) => fc\n  .seriesWebglLine()\n  .crossValue((d) => d[index].x)\n  .mainValue((d) => d[index].y)\n  .defined(() => 1)\n  .equals((previousData) => previousData.length > 0)\n  .lineWidth(3)\n  .context(context)\n  .decorate((c) => {\n    fc.webglStrokeColor(webglColors[index])(c);\n  });\n\nconst gridlines = fc.annotationSvgGridline();\n\nfunction Chart({\n  selected, shouldUpdate, time,\n}) {\n  const frame = useRef(useFrameStore.getState().frame);\n  useEffect(() => {\n    useFrameStore.subscribe(\n      (state) => {\n        if (state.frame - 2 > frame.current) { frame.current = state.frame; }\n        if (frame.current > state.frame) { frame.current = state.frame; }\n\n        // frame.current = state.frame;\n      },\n    );\n  }, []);\n\n  const context = useRef();\n\n  const data = useRef([]);\n  const chart = useRef();\n  const chartRef = useRef();\n\n  const drawChart = () => {\n    d3.select(chartRef.current).datum(data.current).call(chart.current);\n  };\n\n  const newSeries = useRef();\n  const updateData = () => time.current.map((t, f) => {\n    newSeries.current = [];\n    selected.current.satellites.forEach((satellite) => {\n      selected.current.params.forEach((param) => {\n        const helpers = dataHelpers[param];\n        newSeries.current.push({\n          x: t,\n          y: helpers.getValue(f, satellite),\n        });\n      });\n    });\n    return newSeries.current;\n  });\n\n  const legendRef = useRef();\n  const multi = useRef();\n  const series = useRef();\n  const legend = useRef();\n  const ordinal = useRef();\n  const labels = useRef();\n  const updateChart = () => {\n    const { satellites, params } = selected.current;\n    labels.current = satellites.map((satellite) => params.map((param) => `${satellite.name} ${dataHelpers[param].label}`)).flat();\n    ordinal.current = d3.scaleOrdinal()\n      .domain(labels.current)\n      .range(colors.slice(0, labels.length).map((color) => `rgb(${color.slice(0, 3)})`));\n\n    series.current = Array.from(\n      { length: satellites.length * params.length },\n      (v, i) => getSeries(i, context.current),\n    );\n\n    if (!multi.current) multi.current = fc.seriesWebglMulti();\n    multi.current\n      .series(series.current)\n      .context(context.current);\n\n    legend.current = legendColor()\n      .shape('path', d3.symbol().type(d3.symbolSquare).size(150)())\n      .shapePadding(20)\n      .labelWrap(100)\n      .scale(ordinal.current);\n\n    try {\n      d3.select(legendRef.current).select('svg')\n        .call(legend.current)\n        .select('.legendCells')\n        .attr('transform', 'translate(0,150)')\n        .attr('align', 'center');\n    } catch {}\n    if (!chart.current) {\n      chart.current = fc.chartCartesian(d3.scaleTime(), d3.scaleLinear())\n        .xLabel('Time')\n        .svgPlotArea(gridlines)\n        .webglPlotArea(multi.current);\n    }\n\n    const helpers = dataHelpers[params[0]];\n    chart.current\n      .yLabel(helpers.unit)\n      .chartLabel(helpers.name)\n      .yDomain(yExtent(data.current));\n  };\n\n  const nextData = useRef();\n  const prevFrame = useRef();\n  addEffect(() => {\n    if (prevFrame.current === frame.current) return;\n    if (!time.current) return;\n    if (!chart.current) {\n      data.current = updateData();\n      updateChart();\n      drawChart();\n      if (!context.current) {\n        const canvas = d3.select(chartRef.current).select('d3fc-canvas canvas').node();\n        context.current = canvas.getContext('webgl');\n      }\n    }\n    if (shouldUpdate.current) {\n      data.current = updateData();\n      updateChart();\n      shouldUpdate.current = false;\n    }\n    // nextData.current = data.current.slice(frame.current - 1500 > 0\n    //   ? frame.current - 1500 : 0, frame.current);\n    nextData.current = data.current.slice(0, frame.current);\n    chart.current\n      .xDomain(xExtent(nextData.current));\n\n    drawChart();\n    prevFrame.current = frame.current;\n  });\n\n  const ref = useCallback((node) => {\n    chartRef.current = node;\n  }, []);\n\n  return (\n    <Box maxHeight={500} width=\"100%\">\n      <Flex justify=\"center\">\n        <div\n          style={{\n            width: '80%',\n            height: '500px',\n            padding: '2.5rem',\n          }}\n          ref={ref}\n          id=\"chart\"\n        />\n        <d3fc-svg\n          id=\"legend\"\n          ref={legendRef}\n          style={{\n            width: '20%',\n            height: '500px',\n          }}\n        />\n      </Flex>\n    </Box>\n  );\n}\n\nexport default React.memo(Chart);\n","/* eslint-disable consistent-return */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable import/no-extraneous-dependencies */\n/* eslint-disable no-unused-vars */\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport {\n  Box, Center, Flex, Select, VStack,\n} from '@chakra-ui/react';\n\nimport React, {\n  startTransition,\n  useCallback,\n  useContext, useEffect, useLayoutEffect, useMemo, useRef, useState, useTransition,\n} from 'react';\nimport shallow from 'zustand/shallow';\nimport { useStore, useFrameStore } from '../../Model/store';\nimport Chart from './Chart';\nimport SatelliteList from './SatelliteList';\n\nconst paramChoices = [\n  {\n    key: 'chargeState',\n    name: 'Charge State',\n    selection: ['chargeState', 'chargeStateNoBeams'],\n  },\n  {\n    key: 'netCurrent',\n    name: 'Net Current',\n    selection: ['netCurrent'],\n  },\n  {\n    key: 'consumption',\n    name: 'Consumption',\n    selection: ['consumption'],\n  },\n];\n\nfunction ChartEditor() {\n  const {\n    customers, time, spacePowers, averages,\n  } = useStore(\n    (state) => ({\n      customers: state.mission.satellites.customers,\n      spacePowers: state.mission.satellites.spacePowers,\n      averages: state.mission.satellites.averages,\n      time: state.mission.time,\n    }),\n    shallow,\n  );\n\n  // const [selected.current.satellites, setselected.current.satellite] = useState([...customers]);\n  // const [selectedParams, setSelectedParams] = useState('chargeState');\n\n  const selected = useRef({\n    satellites: customers.slice(0, 3),\n    params: ['chargeState', 'chargeStateNoBeams'],\n  });\n  const [selectedSatellites, setSelectedSatellites] = useState(customers.slice(0, 3));\n  const shouldUpdate = useRef(false);\n  const toggleSelected = (id) => {\n    const satellite = customers.find((v) => v.id === id);\n    if (selected.current.satellites.includes(satellite)) {\n      if (selected.current.satellites.length === 1) return;\n      selected.current.satellites = selected.current.satellites.filter(\n        (v) => v.id !== satellite.id,\n      );\n    } else {\n      selected.current.satellites = [...selected.current.satellites, satellite];\n    }\n    setSelectedSatellites(selected.current.satellites);\n\n    shouldUpdate.current = true;\n  };\n  const handleSelectParam = (e) => {\n    selected.current.params = paramChoices.find((v) => v.key === e.target.value).selection;\n    shouldUpdate.current = true;\n  };\n\n  const timeRef = useRef();\n\n  useEffect(() => {\n    selected.current.satellites = customers.slice(0, 3);\n    timeRef.current = time;\n    shouldUpdate.current = true;\n  }, [customers, time]);\n\n  return (\n    <VStack>\n      <Chart\n        selected={selected}\n        shouldUpdate={shouldUpdate}\n        time={timeRef}\n      />\n      <Flex width=\"100%\" justify=\"flex-start\">\n        <SatelliteList toggleSelected={toggleSelected} selected={selectedSatellites} />\n        <Center width=\"50%\">\n          <VStack width=\"50%\">\n            <h4>Choose parameter</h4>\n            <Select\n              onChange={handleSelectParam}\n            >\n              {paramChoices.map((choice) => (\n                <option value={choice.key} key={choice.key}>{choice.name}</option>\n              ))}\n            </Select>\n          </VStack>\n        </Center>\n        <Box width=\"20%\" />\n      </Flex>\n    </VStack>\n  );\n}\n\nexport default ChartEditor;\n","/* eslint-disable consistent-return */\n/* eslint-disable react/prop-types */\nimport { GridItem } from '@chakra-ui/react';\nimport React from 'react';\nimport shallow from 'zustand/shallow';\nimport { useStore } from '../../Model/store';\nimport ChartEditor from './ChartEditor';\nimport Summary from './Summary';\n\nfunction PerformanceView() {\n  const { view } = useStore(\n    (state) => ({\n      view: state.view,\n    }),\n    shallow,\n  );\n  return (\n    <>\n      <GridItem area=\"performance\" transform={view.name === 'performance' ? '' : 'translate(-9999px, 0)'} position={view.name === 'performance' ? '' : 'absolute'}>\n        <ChartEditor />\n      </GridItem>\n      <GridItem area=\"summary\" transform={view.name === 'performance' ? '' : 'translate(-9999px, 0)'} position={view.name === 'performance' ? '' : 'absolute'}>\n        <Summary />\n      </GridItem>\n    </>\n  );\n}\n\nexport default React.memo(PerformanceView);\n","/* eslint-disable react/prop-types */\nimport {\n  Checkbox, CheckboxGroup, VStack,\n} from '@chakra-ui/react';\nimport shallow from 'zustand/shallow';\nimport { useStore } from '../../Model/store';\nimport './Charts.css';\n\nfunction SatelliteList({ toggleSelected, selected }) {\n  const {\n    customers,\n  } = useStore(\n    (state) => ({\n      customers: state.mission.satellites.customers,\n    }),\n    shallow,\n  );\n  const handleSelect = (e) => {\n    const { id } = e.target;\n    toggleSelected(id);\n  };\n\n  return (\n    <VStack width=\"50%\">\n      <h4>Show data for</h4>\n      <CheckboxGroup width=\"100%\">\n        {customers.map((customer) => (\n          <Checkbox\n            onChange={handleSelect}\n            id={customer.id}\n            key={customer.id}\n            align=\"start\"\n            isDisabled={selected.length === 1 && selected.includes(customer)}\n            isChecked={selected.includes(customer)}\n          >\n            {customer.name}\n          </Checkbox>\n        ))}\n      </CheckboxGroup>\n    </VStack>\n  );\n}\n\nexport default SatelliteList;\n","import {\n  Center,\n  Select, Stat, StatGroup, StatHelpText, StatLabel, StatNumber, VStack,\n} from '@chakra-ui/react';\nimport { useState } from 'react';\nimport shallow from 'zustand/shallow';\nimport { useStore } from '../../Model/store';\nimport { SIM_LENGTH } from '../../Util/constants';\n\nconst statProps = [\n  {\n    key: 'dischargeSaved',\n    name: 'Discharge Saved',\n    getValue: (selected) => selected.summary.dischargeSaved,\n    format: (value) => `${value.toFixed(2)}Ah`,\n    getHelpText: (selected, customers) => {\n      if (selected.params) return `${(selected.summary.dischargeSaved / selected.params.battery.capacity).toFixed(1)} full batteries`;\n      return `${(selected.summary.dischargeSaved / customers[0].battery.capacity).toFixed(1)} full batteriesd`;\n    },\n  },\n  {\n    key: 'timeCharged',\n    name: 'Time spent charging',\n    getValue: (selected) => selected.summary.timeCharged,\n    format: (value) => `${value.toFixed(1)} minutes`,\n    getHelpText: (selected) => {\n      const days = SIM_LENGTH / (1000 * 60 * 60 * 24);\n      return `${((selected.summary.timeCharged * 100) / (days * 60 * 60)).toFixed(1)}% of ${days} days`;\n    },\n  },\n];\n\nfunction Summary() {\n  const { customers, fleet } = useStore(\n    (state) => ({\n      customers: state.mission.satellites.customers,\n      fleet: state.mission.satellites.fleet,\n    }),\n    shallow,\n  );\n\n  const [selected, setSelected] = useState(customers[0]);\n\n  const handleSelectSatellite = (e) => {\n    if (e.target.value === 'fleet') setSelected(() => fleet);\n    else {\n      setSelected(() => customers.find((v) => v.id === e.target.value));\n    }\n  };\n  return (\n    <VStack>\n      <h3>Summary</h3>\n      <Center minWidth=\"50%\">\n        <Select onChange={handleSelectSatellite}>\n          {customers.map((customer) => (\n            <option key={customer.id} value={customer.id}>{customer.name}</option>\n          ))}\n          <option value=\"fleet\">Fleet</option>\n        </Select>\n      </Center>\n      <StatGroup>\n        {statProps.map((stat) => (\n          <Stat key={stat.key} m={5} width=\"100%\">\n            <StatLabel>{stat.name}</StatLabel>\n            <StatNumber>{stat.format(stat.getValue(selected))}</StatNumber>\n            <StatHelpText>{stat.getHelpText(selected, customers)}</StatHelpText>\n          </Stat>\n\n        ))}\n      </StatGroup>\n    </VStack>\n  );\n}\n\nexport default Summary;\n","import createVanilla from 'zustand/vanilla';\n\nconst useChartStore = createVanilla(() => ({\n  context: null,\n}));\n\nexport default useChartStore;\n","/* eslint-disable react/prop-types */\nimport {\n  Button, ButtonGroup, Flex, GridItem,\n} from '@chakra-ui/react';\nimport { useStore } from '../Model/store';\n\nfunction ViewButtons() {\n  const setView = useStore((state) => state.setView);\n  return (\n\n    <GridItem\n      area=\"views\"\n      // sx={{\n      //   borderImageSlice: '1',\n      //   borderWidth: '5px',\n      //   borderImageSource: 'linear-gradient(to left, #743ad5, #d53a9d)',\n      //   borderRadius: '5%',\n      // }}\n    >\n      <Flex alignItems=\"center\" justify=\"center\" height=\"100%\">\n        <ButtonGroup onClick={setView}>\n          <Button value=\"mission\">\n            Mission Planner\n          </Button>\n          <Button value=\"performance\">\n            Performance View\n          </Button>\n        </ButtonGroup>\n      </Flex>\n    </GridItem>\n\n  );\n}\n\nexport default ViewButtons;\n","/* eslint-disable import/prefer-default-export */\nexport { default as MissionPlanner } from './MissionPlanner/MissionPlanner';\nexport { default as HUD } from './HUD/HUD';\n","/* eslint-disable consistent-return */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-continue */\n/* eslint-disable no-console */\n/* eslint-disable import/prefer-default-export */\nimport {\n  pi,\n  tumin,\n  deg2rad,\n  earthRadius,\n} from 'satellite.js/lib/constants';\n\nimport { jday, days2mdhms } from 'satellite.js/lib/ext';\n\nimport sgp4init from 'satellite.js/lib/propagation/sgp4init';\n\nimport * as satelliteUtils from 'satellite.js';\n\n/**\n * Return a Satellite imported from two lines of TLE data.\n *\n * Provide the two TLE lines as strings `longstr1` and `longstr2`,\n * and select which standard set of gravitational constants you want\n * by providing `gravity_constants`:\n *\n * `sgp4.propagation.wgs72` - Standard WGS 72 model\n * `sgp4.propagation.wgs84` - More recent WGS 84 model\n * `sgp4.propagation.wgs72old` - Legacy support for old SGP4 behavior\n *\n * Normally, computations are made using letious recent improvements\n * to the algorithm.  If you want to turn some of these off and go\n * back into \"afspc\" mode, then set `afspc_mode` to `True`.\n */\n\nfunction extractTLE(longstr1, longstr2) {\n  const orbitElements = {};\n\n  orbitElements.epochYear = parseInt(longstr1.substring(18, 20), 10);\n  orbitElements.epochDays = parseFloat(longstr1.substring(20, 32));\n  orbitElements.meanMotionDot = parseFloat(longstr1.substring(33, 43));\n  orbitElements.meanMotionDoubleDot = parseFloat(\n    `.${parseInt(\n      longstr1.substring(44, 50),\n      10,\n    )}E${longstr1.substring(50, 52)}`,\n  );\n  orbitElements.bstar = parseFloat(\n    `${longstr1.substring(53, 54)}.${parseInt(\n      longstr1.substring(54, 59),\n      10,\n    )}E${longstr1.substring(59, 61)}`,\n  );\n\n  // satrec.satnum = longstr2.substring(2, 7);\n  orbitElements.inclination = parseFloat(longstr2.substring(8, 16));\n  orbitElements.rightAscension = parseFloat(longstr2.substring(17, 25));\n  orbitElements.eccentricity = parseFloat(`.${longstr2.substring(26, 33)}`);\n  orbitElements.perigee = parseFloat(longstr2.substring(34, 42));\n  orbitElements.meanAnomaly = parseFloat(longstr2.substring(43, 51));\n  orbitElements.meanMotion = parseFloat(longstr2.substring(52, 63));\n  let year;\n  if (orbitElements.epochYear < 57) {\n    year = orbitElements.epochYear + 2000;\n  } else {\n    year = orbitElements.epochYear + 1900;\n  }\n\n  const mdhmsResult = days2mdhms(year, orbitElements.epochDays);\n  const {\n    mon, day, hr, minute, sec,\n  } = mdhmsResult;\n  orbitElements.epoch = new Date(year, mon, day, hr, minute, sec);\n\n  return orbitElements;\n}\n\nfunction daysIntoYear(date) {\n  return (\n    (Date.UTC(date.getFullYear(), date.getMonth(), date.getDate())\n      - Date.UTC(date.getFullYear(), 0, 0))\n    / 24\n    / 60\n    / 60\n    / 1000\n  );\n}\n\nfunction generateTLE(orbitElements) {\n  const {\n    epoch,\n    meanMotionDot,\n    bstar,\n    inclination,\n    rightAscension,\n    eccentricity,\n    perigee,\n    meanAnomaly,\n    meanMotion,\n  } = orbitElements;\n  let epochYr = String(epoch.getYear());\n  if (epochYr > 100) epochYr = epochYr.substring(1);\n\n  let epochDay = daysIntoYear(epoch);\n  if (epochDay < 100) epochDay = `0${epochDay}`;\n\n  const epochFraction = String(\n    (\n      epoch.getHours() / 24\n      + epoch.getMinutes() / (60 * 24)\n      + epoch.getSeconds() / (60 * 60 * 24)\n    ).toFixed(8),\n  ).substring(1);\n\n  let meanMotionDotString = String(\n    meanMotionDot.toFixed(8),\n  ).substring(1);\n  if (meanMotionDot < 0) { meanMotionDotString = `-${meanMotionDotString.substring(1)}`; }\n  if (meanMotionDot >= 0) { meanMotionDotString = ` ${meanMotionDotString}`; }\n\n  let bstarMant = String(bstar.toExponential(5))\n    .split('.')\n    .join('')\n    .substring(0, 6);\n  if (bstar > 0) bstarMant = ` ${bstarMant.substring(0, 5)}`;\n  const bstarExp = Math.ceil(Math.log10(Math.abs(bstar)));\n\n  const tle1 = `1 00000C 00000A   ${epochYr}${epochDay}${epochFraction} ${meanMotionDotString}  00000-0 ${bstarMant}${bstarExp} 0  0000`;\n  let inclinationString = String(inclination.toFixed(4));\n  if (inclination < 100) inclinationString = ` ${inclinationString}`;\n\n  let rightAscensionString = String(rightAscension.toFixed(4));\n  if (rightAscension < 100) { rightAscensionString = ` ${rightAscensionString}`; }\n\n  const eccentricityString = String(\n    eccentricity.toFixed(7),\n  ).substring(2);\n\n  let perigeeString = String(perigee.toFixed(4));\n  if (perigee < 100) perigeeString = ` ${perigeeString}`;\n\n  let meanAnomalyString = String(meanAnomaly.toFixed(4));\n  if (meanAnomalyString < 100) { meanAnomalyString = ` ${meanAnomalyString}`; }\n\n  const meanMotionString = String(meanMotion.toPrecision(10));\n  const tle2 = `2 00000 ${inclinationString} ${rightAscensionString} ${eccentricityString} ${perigeeString} ${meanAnomalyString} ${meanMotionString}    00`;\n\n  return {\n    tle1,\n    tle2,\n  };\n}\n\nfunction twoline2satrec(longstr1, longstr2) {\n  const opsmode = 'i';\n  const xpdotp = 1440.0 / (2.0 * pi); // 229.1831180523293;\n  let year = 0;\n\n  const satrec = {};\n  satrec.error = 0;\n\n  satrec.satnum = longstr1.substring(2, 7);\n\n  satrec.epochyr = parseInt(longstr1.substring(18, 20), 10);\n  satrec.epochdays = parseFloat(longstr1.substring(20, 32));\n  satrec.ndot = parseFloat(longstr1.substring(33, 43));\n  satrec.nddot = parseFloat(\n    `.${parseInt(\n      longstr1.substring(44, 50),\n      10,\n    )}E${longstr1.substring(50, 52)}`,\n  );\n  satrec.bstar = parseFloat(\n    `${longstr1.substring(53, 54)}.${parseInt(\n      longstr1.substring(54, 59),\n      10,\n    )}E${longstr1.substring(59, 61)}`,\n  );\n\n  // satrec.satnum = longstr2.substring(2, 7);\n  satrec.inclo = parseFloat(longstr2.substring(8, 16));\n  satrec.nodeo = parseFloat(longstr2.substring(17, 25));\n  satrec.ecco = parseFloat(`.${longstr2.substring(26, 33)}`);\n  satrec.argpo = parseFloat(longstr2.substring(34, 42));\n  satrec.mo = parseFloat(longstr2.substring(43, 51));\n  satrec.no = parseFloat(longstr2.substring(52, 63));\n\n  // ---- find no, ndot, nddot ----\n  satrec.notle = satrec.no;\n  satrec.no /= xpdotp; //   rad/min\n  // satrec.nddot= satrec.nddot * Math.pow(10.0, nexp);\n  // satrec.bstar= satrec.bstar * Math.pow(10.0, ibexp);\n\n  // ---- convert to sgp4 units ----\n  satrec.a = (satrec.no * tumin) ** (-2.0 / 3.0);\n  satrec.ndottle = satrec.ndot;\n  satrec.ndot /= xpdotp * 1440.0; // ? * minperday\n  satrec.nddot /= xpdotp * 1440.0 * 1440;\n\n  // ---- find standard orbital elements ----\n  satrec.inclotle = satrec.inclo;\n  satrec.inclo *= deg2rad;\n  satrec.nodeotle = satrec.nodeo;\n  satrec.nodeo *= deg2rad;\n  satrec.argpotle = satrec.argpo;\n  satrec.argpo *= deg2rad;\n  satrec.motle = satrec.mo;\n  satrec.mo *= deg2rad;\n\n  satrec.alta = satrec.a * (1.0 + satrec.ecco) - 1.0;\n  satrec.altp = satrec.a * (1.0 - satrec.ecco) - 1.0;\n\n  // ----------------------------------------------------------------\n  // find sgp4epoch time of element set\n  // remember that sgp4 uses units of days from 0 jan 1950 (sgp4epoch)\n  // and minutes from the epoch (time)\n  // ----------------------------------------------------------------\n\n  // ---------------- temp fix for years from 1957-2056 -------------------\n  // --------- correct fix will occur when year is 4-digit in tle ---------\n\n  if (satrec.epochyr < 57) {\n    year = satrec.epochyr + 2000;\n  } else {\n    year = satrec.epochyr + 1900;\n  }\n\n  const mdhmsResult = days2mdhms(year, satrec.epochdays);\n\n  const {\n    mon, day, hr, minute, sec,\n  } = mdhmsResult;\n  satrec.jdsatepoch = jday(year, mon, day, hr, minute, sec);\n  satrec.epochdate = new Date(year, mon, day, hr, minute, sec);\n  satrec.epochdatetimelocal = new Date(\n    satrec.epochdate.getTime() - satrec.epochdate.getTimezoneOffset() * 60000,\n  ).toISOString().substring(0, 19);\n\n  //  ---------------- initialize the orbit at sgp4epoch -------------------\n  sgp4init(satrec, {\n    opsmode,\n    satn: satrec.satnum,\n    epoch: satrec.jdsatepoch - 2433281.5,\n    xbstar: satrec.bstar,\n    xecco: satrec.ecco,\n    xargpo: satrec.argpo,\n    xinclo: satrec.inclo,\n    xmo: satrec.mo,\n    xno: satrec.no,\n    xnodeo: satrec.nodeo,\n  });\n\n  return satrec;\n}\n\nfunction getCorsFreeUrl(url) {\n  return `https://api.allorigins.win/raw?url=${url}`;\n}\n\nfunction parseTLEs(fileContent) {\n  const result = [];\n  const lines = fileContent.split('\\n');\n\n  let current = null;\n  for (let i = 0; i < lines.length; ++i) {\n    const line = lines[i].trim();\n    if (line.length === 0) continue;\n\n    if (line[0] !== '1' && line[0] !== '2') {\n      current = {\n        name: line,\n      };\n    } else if (line[0] === '1') {\n      current = {\n        ...current,\n        tles: { ...current.tles, tle1: line },\n      };\n    } else if (line[0] === '2') {\n      current = {\n        ...current,\n        tles: { ...current.tles, tle2: line },\n      };\n      result.push(current);\n    }\n  }\n\n  return result;\n}\n\nfunction loadTLEsJSON(url) {\n  return fetch(url).then((res) => {\n    if (res.ok) {\n      return res.text().then((text) => JSON.parse(text));\n    }\n  });\n}\n\nfunction loadTLEs(url) {\n  return fetch(url).then((res) => {\n    if (res.ok) {\n      return res.text().then((text) => {\n        const satellites = parseTLEs(text);\n        return satellites;\n      });\n    }\n  });\n}\n\nconst toThree = (v) => ({\n  x: v.x / earthRadius,\n  y: v.z / earthRadius,\n  z: -v.y / earthRadius,\n});\n\nfunction getPositionFromTLE(satellite, date) {\n  const positionVelocity = satelliteUtils.propagate(\n    satellite.orbit,\n    date,\n  );\n\n  const positionEci = positionVelocity.position;\n  return toThree(positionEci);\n}\n\nfunction getOrbitAtTime(satellite, time) {\n  const pos = getPositionFromTLE(satellite, time);\n  // return new THREE.Vector3(pos.x, pos.y, pos.z);\n  return { x: pos.x, y: pos.y, z: pos.z };\n}\n\nfunction getSunPosition(time) {\n  const N = time.getTime() / 86400000 + 2440587 - 2451545;\n  let L = 4.89495042 + 0.0172027923937 * N;\n  if (L > 2 * Math.PI) L -= 2 * Math.PI;\n  let g = 6.240040768 + 0.0172019703436 * N;\n  if (g > 2 * Math.PI) g -= 2 * Math.PI;\n  const longitude = L + 0.033423055 * Math.sin(g) + 0.0003490659 * Math.sin(g);\n  const distance = 1.00014 - 0.01671 * Math.cos(g) - 0.00014 * Math.cos(2 * g)\n  * (149597870.7 / earthRadius);\n  const obliquity = 0.40907027 - 6.981317008e-9 * N;\n  const y = (distance * Math.sin(obliquity) * Math.sin(longitude));\n\n  const x = (distance * Math.cos(longitude));\n  const z = -(distance * Math.cos(obliquity) * Math.sin(longitude));\n\n  return { x, y, z };\n}\n\nfunction getEarthRotationAngle(date) {\n  const JD = date / 86400000 + 2440587 - 2451545;\n  return 2 * Math.PI * (0.779057273264 + 1.002737811911355 * JD);\n}\n\nfunction getDistance(position1, position2) {\n  const a = position1.x - position2.x;\n  const b = position1.y - position2.y;\n  const c = position1.z - position2.z;\n\n  return Math.sqrt(a * a + b * b + c * c);\n}\n\nexport {\n  twoline2satrec,\n  generateTLE,\n  extractTLE,\n  getOrbitAtTime,\n  getSunPosition,\n  getEarthRotationAngle,\n  getDistance,\n  parseTLEs,\n  getCorsFreeUrl,\n  loadTLEs,\n  loadTLEsJSON,\n};\n","const SIM_LENGTH = 24 * 60 * 60 * 2 * 1000; // ms\nconst FPmS = 120 / 1000;\n\nconst BEAM_DISTANCE = 1000;\nconst MIN_SPEED = 600;\nconst FRAMES = SIM_LENGTH * (FPmS / MIN_SPEED);\n\nexport {\n  SIM_LENGTH,\n  MIN_SPEED,\n  FRAMES,\n  BEAM_DISTANCE,\n};\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/prefer-default-export */\nimport { earthRadius } from 'satellite.js/lib/constants';\n\nimport { SIM_LENGTH, FRAMES } from './constants';\n\nconst THREE = require('three');\n\nconst earthPosition = new THREE.Vector3(0, 0, 0);\nconst sunPosition = new THREE.Vector3();\nconst satPosition = new THREE.Vector3();\nconst sunEarth = new THREE.Vector3();\nconst sunSat = new THREE.Vector3();\n\nfunction isEclipsed(satellite, sun) {\n  sunPosition.fromArray([sun.x, sun.y, sun.z]);\n  satPosition.fromArray([satellite.x, satellite.y, satellite.z]);\n\n  sunEarth.subVectors(earthPosition, sunPosition);\n  sunSat.subVectors(satPosition, earthPosition);\n\n  const angle = sunEarth.angleTo(sunSat);\n\n  const sunEarthDistance = sunPosition.distanceTo(earthPosition);\n  const sunSatDistance = sunPosition.distanceTo(satPosition);\n  const limbAngle = Math.atan2(earthRadius, sunEarthDistance);\n\n  if (angle > limbAngle || sunSatDistance < sunEarthDistance) {\n    return false;\n  }\n  return true;\n}\n\nfunction getNetCurrent(params, source, currentDuty) {\n  const powerProfile = params.load.powerProfiles[source];\n  return powerProfile[currentDuty];\n}\n\nfunction getChargeState(\n  params,\n  currentDuty,\n  source,\n  chargeState,\n  delta,\n) {\n  const netCurrent = getNetCurrent(params, source, currentDuty);\n  const { capacity } = params.battery;\n\n  if (chargeState >= 1.0 && netCurrent >= 0) {\n    return 1;\n  }\n\n  if (chargeState <= 0 && netCurrent <= 0) {\n    return 0;\n  }\n\n  return (\n    (\n      (chargeState * capacity)\n      + (delta * netCurrent)\n    ) / capacity\n  );\n}\n\nexport { isEclipsed, getChargeState, getNetCurrent };\n","import { ColorModeScript } from '@chakra-ui/react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App';\nimport theme from './theme';\n\nconst root = createRoot(document.getElementById('root')); // createRoot(container!) if you use TypeScript\nroot.render(\n  <>\n    <ColorModeScript initialColorMode={theme.config.initialColorMode} />\n    <App />\n  </>,\n);\n","/* eslint-disable quotes */\nimport { extendTheme } from '@chakra-ui/react';\nimport { mode } from '@chakra-ui/theme-tools';\n\nconst config = {\n  useSystemColorMode: false,\n  initialColorMode: 'dark',\n};\n\nconst styles = {\n  global: (props) => ({\n    body: {\n      bg: mode('white', '#110916')(props),\n      fontFamily: `'Barlow', sans-serif`,\n    },\n    h1: {\n      fontSize: '2rem',\n      fontWeight: 'bold',\n    },\n    h2: {\n      fontSize: '1.5rem',\n      fontWeight: 'bold',\n      padding: '2rem',\n    },\n    h3: {\n      fontSize: '1.25rem',\n      fontWeight: 'bold',\n      padding: '1.5rem',\n    },\n    h4: {\n      fontSize: '1rem',\n      fontWeight: 'bold',\n      padding: '0.5rem',\n    },\n  }),\n};\n\nconst fonts = {\n  fonts: {\n    heading: `'Arial', sans-serif`,\n    body: `'Barlow', sans-serif`,\n  },\n};\n\nconst layerStyles = {\n  selected: {\n    bg: 'rgba(255,255,255,0.1)',\n  },\n};\n\nconst textStyles = {\n  number: {\n    fontFamily: '\"Azeret Mono\", monospace',\n  },\n};\n\nconst components = {\n  FormControl: {\n    baseStyle: {\n      width: \"auto\",\n    },\n  },\n  Modal: {\n    sizes: {\n      xl: {\n        dialog: {\n          height: \"auto\",\n          minWidth: \"50vw\",\n        },\n      },\n    },\n  },\n};\n\nconst colors = {\n  background: {\n    100: 'hsl(276.9,41.9%,20%)',\n    200: 'hsl(276.9,41.9%,10%)',\n    300: 'hsl(276.9,41.9%,6.1%)',\n  },\n};\n\nconst theme = extendTheme({\n  config, styles, fonts, layerStyles, textStyles, components, colors,\n});\n\nexport default theme;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".hide {\\n  display: none;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/UI/HUD/HUD.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;AACF\",\"sourcesContent\":[\".hide {\\n  display: none;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".gridline-x, .gridline-y {\\n  z-index: 4;\\n  stroke: white;\\n  stroke-width: 0.1;\\n}\\n\\n.webgl-plot-area {\\n  background-color: hsl(276.9deg, 41.9%, 20%);\\n}\\n\\n.domain {\\n  stroke: white;\\n}\\n\\n.tick > text {\\n  stroke: white;\\n  fill: white;\\n  outline: 0;\\n  font-family: \\\"Barlow\\\", \\\"sans-serif\\\";\\n  stroke-width: 0;\\n}\\n\\n.tick > path {\\n  stroke: white;\\n  fill: white;\\n}\\n\\n/* .y-label {\\n  transform: rotate(-90)\\n} */\\n.selected {\\n  background-color: rgba(255, 255, 255, 0.1);\\n}\\n\\n#legend {\\n  position: relative;\\n  display: block;\\n  stroke: white;\\n  fill: white;\\n  stroke-width: 0px;\\n  font-size: 0.75rem;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/UI/PerformanceView/Charts.css\"],\"names\":[],\"mappings\":\"AACA;EACE,UAAA;EACA,aAAA;EACA,iBAAA;AAAF;;AAGA;EACE,2CAAA;AAAF;;AAIA;EACE,aAAA;AADF;;AAIA;EACE,aAAA;EACA,WAAA;EACA,UAAA;EACA,mCAAA;EACA,eAAA;AADF;;AAGA;EACE,aAAA;EACA,WAAA;AAAF;;AAGA;;GAAA;AAIA;EACE,0CAAA;AADF;;AAIA;EACE,kBAAA;EACA,cAAA;EACA,aAAA;EACA,WAAA;EACA,iBAAA;EACA,kBAAA;AADF\",\"sourcesContent\":[\"\\n.gridline-x, .gridline-y {\\n  z-index: 4;\\n  stroke: white;\\n  stroke-width: 0.1;\\n}\\n\\n.webgl-plot-area {\\n  background-color: hsl(276.9,41.9%,20%);\\n\\n}\\n\\n.domain {\\n  stroke: white;\\n}\\n\\n.tick > text {\\n  stroke: white;\\n  fill: white;\\n  outline: 0;\\n  font-family: 'Barlow', 'sans-serif';\\n  stroke-width: 0;\\n}\\n.tick > path{\\n  stroke: white;\\n  fill: white;\\n}\\n\\n/* .y-label {\\n  transform: rotate(-90)\\n} */\\n\\n.selected {\\n  background-color: rgba(255,255,255,0.1),\\n};\\n\\n#legend {\\n  position: relative;\\n  display: block;\\n  stroke: white;\\n  fill: white;\\n  stroke-width: 0px;\\n  font-size: 0.75rem;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./HUD.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./HUD.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./Charts.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./Charts.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["Center","ChakraProvider","Grid","GridItem","Spinner","Button","Flex","useState","useEffect","useRef","useCallback","Suspense","useTransition","useMemo","useLayoutEffect","shallow","PerformanceView","useGLTF","Controls","useStore","defaultValues","MissionPlanner","HUD","theme","ViewButtons","Simulation","SatelliteGLB","App","view","setView","initializeMission","isInitialized","storeObj","state","obj","nodes","Satellite","geometry","rotateY","Math","PI","firstRender","setFirstRender","templateRows","templateColumns","templateAreas","headerArea","name","simulationArea","footerArea","Yup","createSatellite","createPowerSatellite","getOffsets","getTimeArray","getSatellitePositions","getSunPositions","getEclipsedArray","getCurrentDuties","getBeams","getBeamDuties","getChargeStates","getDischargeSaved","getEarthRotationAngles","getSources","MissionSchema","object","shape","satellites","array","of","string","min","max","trim","orbit","tle","meanMotionDot","number","required","bstar","inclination","rightAscension","eccentricity","perigee","meanAnomaly","meanMotion","power","pvVoltage","currentDensity","area","batteryVoltage","capacity","powerStoringConsumption","duties","type","oneOf","priority","integer","consumption","duration","when","is","then","cycles","powerSats","offsets","handleMissionRequest","req","customers","map","customer","time","params","epochdate","sun","earth","forEach","positions","performance","currentDuties","load","isEclipsed","console","log","spacePowers","Number","length","satellite","index","offset","push","beams","spacePower","satBeams","sources","chargeState","chargeStateNoBeams","dischargeSaved","timeCharged","summary","fleet","t","reduce","prev","current","success","v4","uuidv4","twoline2satrec","generateTLE","getOrbitAtTime","SIM_LENGTH","PV_SOURCES","sunOnly","efficiency","beamOnly","sunAndBeam","eclipsed","POWER_SAT_REQUEST","generatePowerProfiles","pv","battery","voltage","newPowerProfiles","Object","entries","pvSource","pvPower","loadProfiles","duty","netPower","netCurrent","getDutyIntervals","period","interval","totalCycles","floor","Array","from","value","start","valueOf","end","isCustomer","tles","epoch","Date","tle1","tle2","error","Error","no","intervals","unshift","powerProfiles","id","newOrbit","request","spacing","total","ratio","ceil","multiplier","newOffsets","earthRadius","getSunPosition","getEarthRotationAngle","getDistance","getChargeState","getNetCurrent","FRAMES","BEAM_DISTANCE","initial","initialMillisecs","getTime","mspf","timeArray","x","y","z","pos","satPosition","sunPosition","currentDuty","cycle","beamName","distances","spacePowerPosition","customerPosition","activated","distance","customerId","spacePowerId","getSource","hasBeam","filter","b","hasSun","hasBeams","delta","source","totalCurrent","i","sourceNoBeams","netCurrentNoBeams","create","createVanilla","defaultOptions","showLabel","views","simulation","mission","useFrameStore","frame","set","isPaused","speed","cameraTarget","ref","lock","refs","Map","satelliteOptions","satelliteObj","setInitialized","shouldInitialized","togglePaused","setSpeed","attachCamera","get","detachCamera","toggleLabel","toggleAllLabels","shouldShow","newOptions","key","setLockCamera","storeRef","values","color","e","target","useFrame","Vector3","MeshBasicMaterial","AdditiveBlending","DoubleSide","Object3D","Texture","PlaneGeometry","generateLaserBodyCanvas","getLaserMeshes","Beam","beam","laser","texture","material","meshes","needsUpdate","blending","side","depthWrite","transparent","mesh","add","getState","subscribe","children","position","lookAt","scale","React","useThree","OrbitControls","Spherical","Camera","controls","camera","maxDistance","minDistance","spherical","clock","setFromVector3","setAzimuthalAngle","theta","setPolarAngle","phi","useLoader","TextureLoader","THREE","earthTexture","gradientTexture","Earth","colorMap","gradientMap","minFilter","NearestFilter","magFilter","wrapS","RepeatWrapping","angles","rotation","MIN_SPEED","Frame","updateFrame","setState","newFrame","round","stop","Html","Instance","satRef","node","clone","sub","fontFamily","fontSize","width","height","Instances","Satellites","find","LaserBeam","canvas","object3d","nPlanes","Mesh","translateX","rotateX","document","createElement","context","getContext","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","Canvas","Box","Stars","View","PerformanceMonitor","Sun","viewRef","container","dpr","setDpr","display","zIndex","events","connect","pointerEvents","top","left","factor","toFixed","Billboard","forwardRef","ChevronDownIcon","FormLabel","Menu","MenuButton","MenuDivider","MenuGroup","MenuItem","MenuList","Radio","RadioGroup","Select","Slider","SliderFilledTrack","SliderThumb","SliderTrack","Switch","Text","addEffect","select","SimControls","v","CameraControls","timeRef","text","toString","slice","d3","scaleOrdinal","pie","d","startAngle","endAngle","sort","Gauge","selected","data","updateData","arc","innerRadius","outerRadius","pieRef","group","groupWithData","groupWithUpdate","path","createPie","selectAll","exit","remove","enter","append","attr","merge","prevFrame","Stat","StatLabel","StatNumber","StatGroup","StatHelpText","StatArrow","ButtonGroup","capitalize","charAt","toUpperCase","statProps","label","shouldArrows","getValue","formatValue","getHelpText","toPrecision","getHelpNumber","setSelected","handleSelectSatellite","selection","handleLabel","handleCamera","hideAllLabels","statRefs","handleStatRefs","stat","parent","classed","upArrow","downArrow","style","SettingsIcon","Modal","ModalBody","ModalCloseButton","ModalContent","ModalFooter","ModalHeader","ModalOverlay","useDisclosure","CustomNumberInput","fields","step","units","ConfigModal","formik","isOpen","onOpen","onClose","param","Editable","EditableInput","EditablePreview","FormControl","Input","EditableControls","CustomEditableInput","form","onSubmit","setFieldValue","FormErrorMessage","NumberDecrementStepper","NumberIncrementStepper","NumberInput","NumberInputField","NumberInputStepper","getIn","errors","AddIcon","Accordion","AccordionButton","AccordionIcon","AccordionItem","AccordionPanel","FieldArray","FormikProvider","defaultDuty","defaultFields","cyclicalFields","steps","DutyTab","satIndex","fieldArrayProps","allFields","handleChange","preventDefault","CheckIcon","CloseIcon","EditIcon","IconButton","useEditableControls","showEditIcon","isEditing","getSubmitButtonProps","getCancelButtonProps","getEditButtonProps","Tab","TabList","TabPanel","TabPanels","Tabs","useFormik","getCorsFreeUrl","loadTLEs","SatelliteList","OrbitTab","PowerTab","fetchTLEs","urls","url","res","OneWeb","Starlink","Orbcomm","Galileo","Geosynchronous","shouldDisplay","setSatIndex","constellations","setConstellations","initialValues","validationSchema","validateOnChange","validateOnBlur","setSubmitting","Promise","resolve","reject","setTimeout","setStatus","handleSubmit","isSubmitting","status","FormHelperText","Textarea","parseTLEs","handleExtractTle","satRec","epochdatetimelocal","ndottle","inclotle","nodeotle","ecco","argpotle","motle","notle","entry","constellation","c","ChevronRightIcon","SmallCloseIcon","List","ListItem","VStack","defaultSatellite","SatelliteListItem","stopPropagation","fc","legendColor","useChartStore","colors","webglColors","dataHelpers","unit","xExtent","extentDate","accessors","yExtent","extentLinear","pad","getSeries","seriesWebglLine","crossValue","mainValue","defined","equals","previousData","lineWidth","decorate","webglStrokeColor","gridlines","annotationSvgGridline","Chart","shouldUpdate","chart","chartRef","drawChart","datum","call","newSeries","f","helpers","legendRef","multi","series","legend","ordinal","labels","updateChart","flat","domain","range","seriesWebglMulti","symbol","symbolSquare","size","shapePadding","labelWrap","chartCartesian","scaleTime","scaleLinear","xLabel","svgPlotArea","webglPlotArea","yLabel","chartLabel","yDomain","nextData","xDomain","padding","memo","startTransition","useContext","paramChoices","ChartEditor","averages","selectedSatellites","setSelectedSatellites","toggleSelected","includes","handleSelectParam","choice","Summary","Checkbox","CheckboxGroup","handleSelect","format","days","default","pi","tumin","deg2rad","jday","days2mdhms","sgp4init","satelliteUtils","extractTLE","longstr1","longstr2","orbitElements","epochYear","parseInt","substring","epochDays","parseFloat","meanMotionDoubleDot","year","mdhmsResult","mon","day","hr","minute","sec","daysIntoYear","date","UTC","getFullYear","getMonth","getDate","epochYr","String","getYear","epochDay","epochFraction","getHours","getMinutes","getSeconds","meanMotionDotString","bstarMant","toExponential","split","join","bstarExp","log10","abs","inclinationString","rightAscensionString","eccentricityString","perigeeString","meanAnomalyString","meanMotionString","opsmode","xpdotp","satrec","satnum","epochyr","epochdays","ndot","nddot","inclo","nodeo","argpo","mo","a","alta","altp","jdsatepoch","getTimezoneOffset","toISOString","satn","xbstar","xecco","xargpo","xinclo","xmo","xno","xnodeo","fileContent","result","lines","line","loadTLEsJSON","fetch","ok","JSON","parse","toThree","getPositionFromTLE","positionVelocity","propagate","positionEci","N","L","g","longitude","sin","cos","obliquity","JD","position1","position2","sqrt","FPmS","require","earthPosition","sunEarth","sunSat","fromArray","subVectors","angle","angleTo","sunEarthDistance","distanceTo","sunSatDistance","limbAngle","atan2","powerProfile","ColorModeScript","createRoot","root","getElementById","render","config","initialColorMode","extendTheme","mode","useSystemColorMode","styles","global","props","body","bg","h1","fontWeight","h2","h3","h4","fonts","heading","layerStyles","textStyles","components","baseStyle","sizes","xl","dialog","minWidth","background"],"sourceRoot":""}